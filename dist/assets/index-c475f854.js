(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var eC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _y={exports:{}},nu={},wy={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),tC=Symbol.for("react.portal"),nC=Symbol.for("react.fragment"),rC=Symbol.for("react.strict_mode"),iC=Symbol.for("react.profiler"),sC=Symbol.for("react.provider"),oC=Symbol.for("react.context"),aC=Symbol.for("react.forward_ref"),lC=Symbol.for("react.suspense"),uC=Symbol.for("react.memo"),cC=Symbol.for("react.lazy"),rm=Symbol.iterator;function dC(t){return t===null||typeof t!="object"?null:(t=rm&&t[rm]||t["@@iterator"],typeof t=="function"?t:null)}var Ey={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sy=Object.assign,Cy={};function Xi(t,e,n){this.props=t,this.context=e,this.refs=Cy,this.updater=n||Ey}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Iy(){}Iy.prototype=Xi.prototype;function jf(t,e,n){this.props=t,this.context=e,this.refs=Cy,this.updater=n||Ey}var Bf=jf.prototype=new Iy;Bf.constructor=jf;Sy(Bf,Xi.prototype);Bf.isPureReactComponent=!0;var im=Array.isArray,Ty=Object.prototype.hasOwnProperty,Wf={current:null},ky={key:!0,ref:!0,__self:!0,__source:!0};function Ry(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ty.call(e,r)&&!ky.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ao,type:t,key:s,ref:o,props:i,_owner:Wf.current}}function fC(t,e){return{$$typeof:Ao,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ao}function hC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sm=/\/+/g;function oc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hC(""+t.key):e.toString(36)}function Ta(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ao:case tC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+oc(o,0):r,im(i)?(n="",t!=null&&(n=t.replace(sm,"$&/")+"/"),Ta(i,e,n,"",function(u){return u})):i!=null&&(Hf(i)&&(i=fC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",im(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+oc(s,a);o+=Ta(s,e,n,l,i)}else if(l=dC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+oc(s,a++),o+=Ta(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xo(t,e,n){if(t==null)return t;var r=[],i=0;return Ta(t,r,"","",function(s){return e.call(n,s,i++)}),r}function pC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var at={current:null},ka={transition:null},mC={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:ka,ReactCurrentOwner:Wf};te.Children={map:Xo,forEach:function(t,e,n){Xo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xo(t,function(){e++}),e},toArray:function(t){return Xo(t,function(e){return e})||[]},only:function(t){if(!Hf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Xi;te.Fragment=nC;te.Profiler=iC;te.PureComponent=jf;te.StrictMode=rC;te.Suspense=lC;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mC;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ty.call(e,l)&&!ky.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ao,type:t.type,key:i,ref:s,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:oC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sC,_context:t},t.Consumer=t};te.createElement=Ry;te.createFactory=function(t){var e=Ry.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:aC,render:t}};te.isValidElement=Hf;te.lazy=function(t){return{$$typeof:cC,_payload:{_status:-1,_result:t},_init:pC}};te.memo=function(t,e){return{$$typeof:uC,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=ka.transition;ka.transition={};try{t()}finally{ka.transition=e}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(t,e){return at.current.useCallback(t,e)};te.useContext=function(t){return at.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return at.current.useDeferredValue(t)};te.useEffect=function(t,e){return at.current.useEffect(t,e)};te.useId=function(){return at.current.useId()};te.useImperativeHandle=function(t,e,n){return at.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return at.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return at.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return at.current.useMemo(t,e)};te.useReducer=function(t,e,n){return at.current.useReducer(t,e,n)};te.useRef=function(t){return at.current.useRef(t)};te.useState=function(t){return at.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return at.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return at.current.useTransition()};te.version="18.2.0";wy.exports=te;var b=wy.exports;const le=yy(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC=b,vC=Symbol.for("react.element"),yC=Symbol.for("react.fragment"),_C=Object.prototype.hasOwnProperty,wC=gC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EC={key:!0,ref:!0,__self:!0,__source:!0};function Py(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_C.call(e,r)&&!EC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vC,type:t,key:s,ref:o,props:i,_owner:wC.current}}nu.Fragment=yC;nu.jsx=Py;nu.jsxs=Py;_y.exports=nu;var j=_y.exports,dd={},by={exports:{}},kt={},Ny={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,x){var k=A.length;A.push(x);e:for(;0<k;){var $=k-1>>>1,M=A[$];if(0<i(M,x))A[$]=x,A[k]=M,k=$;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var x=A[0],k=A.pop();if(k!==x){A[0]=k;e:for(var $=0,M=A.length,z=M>>>1;$<z;){var W=2*($+1)-1,V=A[W],Q=W+1,X=A[Q];if(0>i(V,k))Q<M&&0>i(X,V)?(A[$]=X,A[Q]=k,$=Q):(A[$]=V,A[W]=k,$=W);else if(Q<M&&0>i(X,k))A[$]=X,A[Q]=k,$=Q;else break e}}return x}function i(A,x){var k=A.sortIndex-x.sortIndex;return k!==0?k:A.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var x=n(u);x!==null;){if(x.callback===null)r(u);else if(x.startTime<=A)r(u),x.sortIndex=x.expirationTime,e(l,x);else break;x=n(u)}}function _(A){if(y=!1,m(A),!v)if(n(l)!==null)v=!0,B(E);else{var x=n(u);x!==null&&q(_,x.startTime-A)}}function E(A,x){v=!1,y&&(y=!1,g(I),I=-1),h=!0;var k=f;try{for(m(x),d=n(l);d!==null&&(!(d.expirationTime>x)||A&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var M=$(d.expirationTime<=x);x=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),m(x)}else r(l);d=n(l)}if(d!==null)var z=!0;else{var W=n(u);W!==null&&q(_,W.startTime-x),z=!1}return z}finally{d=null,f=k,h=!1}}var S=!1,C=null,I=-1,R=5,T=-1;function O(){return!(t.unstable_now()-T<R)}function P(){if(C!==null){var A=t.unstable_now();T=A;var x=!0;try{x=C(!0,A)}finally{x?N():(S=!1,C=null)}}else S=!1}var N;if(typeof p=="function")N=function(){p(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,L=D.port2;D.port1.onmessage=P,N=function(){L.postMessage(null)}}else N=function(){w(P,0)};function B(A){C=A,S||(S=!0,N())}function q(A,x){I=w(function(){A(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,B(E))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var x=3;break;default:x=f}var k=f;f=x;try{return A()}finally{f=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,x){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var k=f;f=A;try{return x()}finally{f=k}},t.unstable_scheduleCallback=function(A,x,k){var $=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?$+k:$):k=$,A){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=k+M,A={id:c++,callback:x,priorityLevel:A,startTime:k,expirationTime:M,sortIndex:-1},k>$?(A.sortIndex=k,e(u,A),n(l)===null&&A===n(u)&&(y?(g(I),I=-1):y=!0,q(_,k-$))):(A.sortIndex=M,e(l,A),v||h||(v=!0,B(E))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var x=f;return function(){var k=f;f=x;try{return A.apply(this,arguments)}finally{f=k}}}})(xy);Ny.exports=xy;var SC=Ny.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy=b,It=SC;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ay=new Set,Ys={};function ti(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(Ys[t]=e,t=0;t<e.length;t++)Ay.add(e[t])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fd=Object.prototype.hasOwnProperty,CC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,om={},am={};function IC(t){return fd.call(am,t)?!0:fd.call(om,t)?!1:CC.test(t)?am[t]=!0:(om[t]=!0,!1)}function TC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kC(t,e,n,r){if(e===null||typeof e>"u"||TC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function qf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vf,qf);Ye[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vf,qf);Ye[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vf,qf);Ye[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qf(t,e,n,r){var i=Ye.hasOwnProperty(e)?Ye[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kC(e,n,i,r)&&(n=null),r||i===null?IC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bn=Oy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zo=Symbol.for("react.element"),ci=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),hd=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),Ly=Symbol.for("react.context"),Gf=Symbol.for("react.forward_ref"),pd=Symbol.for("react.suspense"),md=Symbol.for("react.suspense_list"),Yf=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),My=Symbol.for("react.offscreen"),lm=Symbol.iterator;function cs(t){return t===null||typeof t!="object"?null:(t=lm&&t[lm]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,ac;function Is(t){if(ac===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ac=e&&e[1]||""}return`
`+ac+t}var lc=!1;function uc(t,e){if(!t||lc)return"";lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{lc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Is(t):""}function RC(t){switch(t.tag){case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return t=uc(t.type,!1),t;case 11:return t=uc(t.type.render,!1),t;case 1:return t=uc(t.type,!0),t;default:return""}}function gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case di:return"Fragment";case ci:return"Portal";case hd:return"Profiler";case Kf:return"StrictMode";case pd:return"Suspense";case md:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ly:return(t.displayName||"Context")+".Consumer";case Dy:return(t._context.displayName||"Context")+".Provider";case Gf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yf:return e=t.displayName||null,e!==null?e:gd(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return gd(t(e))}catch{}}return null}function PC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gd(e);case 8:return e===Kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bC(t){var e=Fy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ea(t){t._valueTracker||(t._valueTracker=bC(t))}function Uy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vd(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function um(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $y(t,e){e=e.checked,e!=null&&Qf(t,"checked",e,!1)}function yd(t,e){$y(t,e);var n=dr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_d(t,e.type,n):e.hasOwnProperty("defaultValue")&&_d(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _d(t,e,n){(e!=="number"||qa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ts=Array.isArray;function Ii(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Ts(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dr(n)}}function zy(t,e){var n=dr(e.value),r=dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ed(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ta,By=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ta.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Js(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NC=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(t){NC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xs[e]=xs[t]})});function Wy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xs.hasOwnProperty(t)&&xs[t]?(""+e).trim():e+"px"}function Hy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xC=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sd(t,e){if(e){if(xC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Cd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Id=null;function Jf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Td=null,Ti=null,ki=null;function hm(t){if(t=Mo(t)){if(typeof Td!="function")throw Error(F(280));var e=t.stateNode;e&&(e=au(e),Td(t.stateNode,t.type,e))}}function Vy(t){Ti?ki?ki.push(t):ki=[t]:Ti=t}function qy(){if(Ti){var t=Ti,e=ki;if(ki=Ti=null,hm(t),e)for(t=0;t<e.length;t++)hm(e[t])}}function Qy(t,e){return t(e)}function Ky(){}var cc=!1;function Gy(t,e,n){if(cc)return t(e,n);cc=!0;try{return Qy(t,e,n)}finally{cc=!1,(Ti!==null||ki!==null)&&(Ky(),qy())}}function Xs(t,e){var n=t.stateNode;if(n===null)return null;var r=au(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var kd=!1;if(Sn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){kd=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{kd=!1}function OC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Os=!1,Qa=null,Ka=!1,Rd=null,AC={onError:function(t){Os=!0,Qa=t}};function DC(t,e,n,r,i,s,o,a,l){Os=!1,Qa=null,OC.apply(AC,arguments)}function LC(t,e,n,r,i,s,o,a,l){if(DC.apply(this,arguments),Os){if(Os){var u=Qa;Os=!1,Qa=null}else throw Error(F(198));Ka||(Ka=!0,Rd=u)}}function ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pm(t){if(ni(t)!==t)throw Error(F(188))}function MC(t){var e=t.alternate;if(!e){if(e=ni(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pm(i),t;if(s===r)return pm(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Jy(t){return t=MC(t),t!==null?Xy(t):null}function Xy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xy(t);if(e!==null)return e;t=t.sibling}return null}var Zy=It.unstable_scheduleCallback,mm=It.unstable_cancelCallback,FC=It.unstable_shouldYield,UC=It.unstable_requestPaint,Pe=It.unstable_now,$C=It.unstable_getCurrentPriorityLevel,Xf=It.unstable_ImmediatePriority,e_=It.unstable_UserBlockingPriority,Ga=It.unstable_NormalPriority,zC=It.unstable_LowPriority,t_=It.unstable_IdlePriority,ru=null,nn=null;function jC(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ru,t,void 0,(t.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:HC,BC=Math.log,WC=Math.LN2;function HC(t){return t>>>=0,t===0?32:31-(BC(t)/WC|0)|0}var na=64,ra=4194304;function ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ya(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ks(a):(s&=o,s!==0&&(r=ks(s)))}else o=n&~i,o!==0?r=ks(o):s!==0&&(r=ks(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qt(e),i=1<<n,r|=t[n],e&=~i;return r}function VC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=VC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n_(){var t=na;return na<<=1,!(na&4194240)&&(na=64),t}function dc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Do(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qt(e),t[e]=n}function QC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ie=0;function r_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i_,eh,s_,o_,a_,bd=!1,ia=[],Yn=null,Jn=null,Xn=null,Zs=new Map,eo=new Map,zn=[],KC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gm(t,e){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Zs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(e.pointerId)}}function fs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Mo(e),e!==null&&eh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GC(t,e,n,r,i){switch(e){case"focusin":return Yn=fs(Yn,t,e,n,r,i),!0;case"dragenter":return Jn=fs(Jn,t,e,n,r,i),!0;case"mouseover":return Xn=fs(Xn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zs.set(s,fs(Zs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,eo.set(s,fs(eo.get(s)||null,t,e,n,r,i)),!0}return!1}function l_(t){var e=xr(t.target);if(e!==null){var n=ni(e);if(n!==null){if(e=n.tag,e===13){if(e=Yy(n),e!==null){t.blockedOn=e,a_(t.priority,function(){s_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ra(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Id=r,n.target.dispatchEvent(r),Id=null}else return e=Mo(n),e!==null&&eh(e),t.blockedOn=n,!1;e.shift()}return!0}function vm(t,e,n){Ra(t)&&n.delete(e)}function YC(){bd=!1,Yn!==null&&Ra(Yn)&&(Yn=null),Jn!==null&&Ra(Jn)&&(Jn=null),Xn!==null&&Ra(Xn)&&(Xn=null),Zs.forEach(vm),eo.forEach(vm)}function hs(t,e){t.blockedOn===e&&(t.blockedOn=null,bd||(bd=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,YC)))}function to(t){function e(i){return hs(i,t)}if(0<ia.length){hs(ia[0],t);for(var n=1;n<ia.length;n++){var r=ia[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yn!==null&&hs(Yn,t),Jn!==null&&hs(Jn,t),Xn!==null&&hs(Xn,t),Zs.forEach(e),eo.forEach(e),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)l_(n),n.blockedOn===null&&zn.shift()}var Ri=bn.ReactCurrentBatchConfig,Ja=!0;function JC(t,e,n,r){var i=ie,s=Ri.transition;Ri.transition=null;try{ie=1,th(t,e,n,r)}finally{ie=i,Ri.transition=s}}function XC(t,e,n,r){var i=ie,s=Ri.transition;Ri.transition=null;try{ie=4,th(t,e,n,r)}finally{ie=i,Ri.transition=s}}function th(t,e,n,r){if(Ja){var i=Nd(t,e,n,r);if(i===null)Ec(t,e,r,Xa,n),gm(t,r);else if(GC(i,t,e,n,r))r.stopPropagation();else if(gm(t,r),e&4&&-1<KC.indexOf(t)){for(;i!==null;){var s=Mo(i);if(s!==null&&i_(s),s=Nd(t,e,n,r),s===null&&Ec(t,e,r,Xa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ec(t,e,r,null,n)}}var Xa=null;function Nd(t,e,n,r){if(Xa=null,t=Jf(r),t=xr(t),t!==null)if(e=ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xa=t,null}function u_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($C()){case Xf:return 1;case e_:return 4;case Ga:case zC:return 16;case t_:return 536870912;default:return 16}default:return 16}}var qn=null,nh=null,Pa=null;function c_(){if(Pa)return Pa;var t,e=nh,n=e.length,r,i="value"in qn?qn.value:qn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pa=i.slice(t,1<r?1-r:void 0)}function ba(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sa(){return!0}function ym(){return!1}function Rt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sa:ym,this.isPropagationStopped=ym,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),e}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rh=Rt(Zi),Lo=Ce({},Zi,{view:0,detail:0}),ZC=Rt(Lo),fc,hc,ps,iu=Ce({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ps&&(ps&&t.type==="mousemove"?(fc=t.screenX-ps.screenX,hc=t.screenY-ps.screenY):hc=fc=0,ps=t),fc)},movementY:function(t){return"movementY"in t?t.movementY:hc}}),_m=Rt(iu),e1=Ce({},iu,{dataTransfer:0}),t1=Rt(e1),n1=Ce({},Lo,{relatedTarget:0}),pc=Rt(n1),r1=Ce({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),i1=Rt(r1),s1=Ce({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o1=Rt(s1),a1=Ce({},Zi,{data:0}),wm=Rt(a1),l1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c1[t])?!!e[t]:!1}function ih(){return d1}var f1=Ce({},Lo,{key:function(t){if(t.key){var e=l1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(t){return t.type==="keypress"?ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h1=Rt(f1),p1=Ce({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Em=Rt(p1),m1=Ce({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),g1=Rt(m1),v1=Ce({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),y1=Rt(v1),_1=Ce({},iu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w1=Rt(_1),E1=[9,13,27,32],sh=Sn&&"CompositionEvent"in window,As=null;Sn&&"documentMode"in document&&(As=document.documentMode);var S1=Sn&&"TextEvent"in window&&!As,d_=Sn&&(!sh||As&&8<As&&11>=As),Sm=String.fromCharCode(32),Cm=!1;function f_(t,e){switch(t){case"keyup":return E1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fi=!1;function C1(t,e){switch(t){case"compositionend":return h_(e);case"keypress":return e.which!==32?null:(Cm=!0,Sm);case"textInput":return t=e.data,t===Sm&&Cm?null:t;default:return null}}function I1(t,e){if(fi)return t==="compositionend"||!sh&&f_(t,e)?(t=c_(),Pa=nh=qn=null,fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d_&&e.locale!=="ko"?null:e.data;default:return null}}var T1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!T1[t.type]:e==="textarea"}function p_(t,e,n,r){Vy(r),e=Za(e,"onChange"),0<e.length&&(n=new rh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ds=null,no=null;function k1(t){T_(t,0)}function su(t){var e=mi(t);if(Uy(e))return t}function R1(t,e){if(t==="change")return e}var m_=!1;if(Sn){var mc;if(Sn){var gc="oninput"in document;if(!gc){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),gc=typeof Tm.oninput=="function"}mc=gc}else mc=!1;m_=mc&&(!document.documentMode||9<document.documentMode)}function km(){Ds&&(Ds.detachEvent("onpropertychange",g_),no=Ds=null)}function g_(t){if(t.propertyName==="value"&&su(no)){var e=[];p_(e,no,t,Jf(t)),Gy(k1,e)}}function P1(t,e,n){t==="focusin"?(km(),Ds=e,no=n,Ds.attachEvent("onpropertychange",g_)):t==="focusout"&&km()}function b1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(no)}function N1(t,e){if(t==="click")return su(e)}function x1(t,e){if(t==="input"||t==="change")return su(e)}function O1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:O1;function ro(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fd.call(e,i)||!Gt(t[i],e[i]))return!1}return!0}function Rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pm(t,e){var n=Rm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rm(n)}}function v_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y_(){for(var t=window,e=qa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qa(t.document)}return e}function oh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A1(t){var e=y_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v_(n.ownerDocument.documentElement,n)){if(r!==null&&oh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Pm(n,s);var o=Pm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D1=Sn&&"documentMode"in document&&11>=document.documentMode,hi=null,xd=null,Ls=null,Od=!1;function bm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Od||hi==null||hi!==qa(r)||(r=hi,"selectionStart"in r&&oh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ls&&ro(Ls,r)||(Ls=r,r=Za(xd,"onSelect"),0<r.length&&(e=new rh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hi)))}function oa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pi={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionend:oa("Transition","TransitionEnd")},vc={},__={};Sn&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function ou(t){if(vc[t])return vc[t];if(!pi[t])return t;var e=pi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in __)return vc[t]=e[n];return t}var w_=ou("animationend"),E_=ou("animationiteration"),S_=ou("animationstart"),C_=ou("transitionend"),I_=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){I_.set(t,e),ti(e,[t])}for(var yc=0;yc<Nm.length;yc++){var _c=Nm[yc],L1=_c.toLowerCase(),M1=_c[0].toUpperCase()+_c.slice(1);_r(L1,"on"+M1)}_r(w_,"onAnimationEnd");_r(E_,"onAnimationIteration");_r(S_,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(C_,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function xm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LC(r,e,void 0,t),t.currentTarget=null}function T_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xm(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xm(i,a,u),s=l}}}if(Ka)throw t=Rd,Ka=!1,Rd=null,t}function he(t,e){var n=e[Fd];n===void 0&&(n=e[Fd]=new Set);var r=t+"__bubble";n.has(r)||(k_(e,t,2,!1),n.add(r))}function wc(t,e,n){var r=0;e&&(r|=4),k_(n,t,r,e)}var aa="_reactListening"+Math.random().toString(36).slice(2);function io(t){if(!t[aa]){t[aa]=!0,Ay.forEach(function(n){n!=="selectionchange"&&(F1.has(n)||wc(n,!1,t),wc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[aa]||(e[aa]=!0,wc("selectionchange",!1,e))}}function k_(t,e,n,r){switch(u_(e)){case 1:var i=JC;break;case 4:i=XC;break;default:i=th}n=i.bind(null,e,n,t),i=void 0,!kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ec(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Gy(function(){var u=s,c=Jf(n),d=[];e:{var f=I_.get(t);if(f!==void 0){var h=rh,v=t;switch(t){case"keypress":if(ba(n)===0)break e;case"keydown":case"keyup":h=h1;break;case"focusin":v="focus",h=pc;break;case"focusout":v="blur",h=pc;break;case"beforeblur":case"afterblur":h=pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=_m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=t1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=g1;break;case w_:case E_:case S_:h=i1;break;case C_:h=y1;break;case"scroll":h=ZC;break;case"wheel":h=w1;break;case"copy":case"cut":case"paste":h=o1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Em}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,m;p!==null;){m=p;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,g!==null&&(_=Xs(p,g),_!=null&&y.push(so(p,_,m)))),w)break;p=p.return}0<y.length&&(f=new h(f,v,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Id&&(v=n.relatedTarget||n.fromElement)&&(xr(v)||v[Cn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?xr(v):null,v!==null&&(w=ni(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=_m,_="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Em,_="onPointerLeave",g="onPointerEnter",p="pointer"),w=h==null?f:mi(h),m=v==null?f:mi(v),f=new y(_,p+"leave",h,n,c),f.target=w,f.relatedTarget=m,_=null,xr(c)===u&&(y=new y(g,p+"enter",v,n,c),y.target=m,y.relatedTarget=w,_=y),w=_,h&&v)t:{for(y=h,g=v,p=0,m=y;m;m=ai(m))p++;for(m=0,_=g;_;_=ai(_))m++;for(;0<p-m;)y=ai(y),p--;for(;0<m-p;)g=ai(g),m--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=ai(y),g=ai(g)}y=null}else y=null;h!==null&&Om(d,f,h,y,!1),v!==null&&w!==null&&Om(d,w,v,y,!0)}}e:{if(f=u?mi(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=R1;else if(Im(f))if(m_)E=x1;else{E=b1;var S=P1}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=N1);if(E&&(E=E(t,u))){p_(d,E,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&_d(f,"number",f.value)}switch(S=u?mi(u):window,t){case"focusin":(Im(S)||S.contentEditable==="true")&&(hi=S,xd=u,Ls=null);break;case"focusout":Ls=xd=hi=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,bm(d,n,c);break;case"selectionchange":if(D1)break;case"keydown":case"keyup":bm(d,n,c)}var C;if(sh)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else fi?f_(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(d_&&n.locale!=="ko"&&(fi||I!=="onCompositionStart"?I==="onCompositionEnd"&&fi&&(C=c_()):(qn=c,nh="value"in qn?qn.value:qn.textContent,fi=!0)),S=Za(u,I),0<S.length&&(I=new wm(I,t,null,n,c),d.push({event:I,listeners:S}),C?I.data=C:(C=h_(n),C!==null&&(I.data=C)))),(C=S1?C1(t,n):I1(t,n))&&(u=Za(u,"onBeforeInput"),0<u.length&&(c=new wm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}T_(d,e)})}function so(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Za(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xs(t,n),s!=null&&r.unshift(so(t,s,i)),s=Xs(t,e),s!=null&&r.push(so(t,s,i))),t=t.return}return r}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Om(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xs(n,s),l!=null&&o.unshift(so(n,l,a))):i||(l=Xs(n,s),l!=null&&o.push(so(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var U1=/\r\n?/g,$1=/\u0000|\uFFFD/g;function Am(t){return(typeof t=="string"?t:""+t).replace(U1,`
`).replace($1,"")}function la(t,e,n){if(e=Am(e),Am(t)!==e&&n)throw Error(F(425))}function el(){}var Ad=null,Dd=null;function Ld(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(t){return Dm.resolve(null).then(t).catch(B1)}:Md;function B1(t){setTimeout(function(){throw t})}function Sc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),to(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);to(e)}function Zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var es=Math.random().toString(36).slice(2),en="__reactFiber$"+es,oo="__reactProps$"+es,Cn="__reactContainer$"+es,Fd="__reactEvents$"+es,W1="__reactListeners$"+es,H1="__reactHandles$"+es;function xr(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lm(t);t!==null;){if(n=t[en])return n;t=Lm(t)}return e}t=n,n=t.parentNode}return null}function Mo(t){return t=t[en]||t[Cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function au(t){return t[oo]||null}var Ud=[],gi=-1;function wr(t){return{current:t}}function ge(t){0>gi||(t.current=Ud[gi],Ud[gi]=null,gi--)}function fe(t,e){gi++,Ud[gi]=t.current,t.current=e}var fr={},rt=wr(fr),pt=wr(!1),jr=fr;function Ui(t,e){var n=t.type.contextTypes;if(!n)return fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function tl(){ge(pt),ge(rt)}function Mm(t,e,n){if(rt.current!==fr)throw Error(F(168));fe(rt,e),fe(pt,n)}function R_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,PC(t)||"Unknown",i));return Ce({},n,r)}function nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fr,jr=rt.current,fe(rt,t),fe(pt,pt.current),!0}function Fm(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=R_(t,e,jr),r.__reactInternalMemoizedMergedChildContext=t,ge(pt),ge(rt),fe(rt,t)):ge(pt),fe(pt,n)}var hn=null,lu=!1,Cc=!1;function P_(t){hn===null?hn=[t]:hn.push(t)}function V1(t){lu=!0,P_(t)}function Er(){if(!Cc&&hn!==null){Cc=!0;var t=0,e=ie;try{var n=hn;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hn=null,lu=!1}catch(i){throw hn!==null&&(hn=hn.slice(t+1)),Zy(Xf,Er),i}finally{ie=e,Cc=!1}}return null}var vi=[],yi=0,rl=null,il=0,xt=[],Ot=0,Br=null,mn=1,gn="";function Ir(t,e){vi[yi++]=il,vi[yi++]=rl,rl=t,il=e}function b_(t,e,n){xt[Ot++]=mn,xt[Ot++]=gn,xt[Ot++]=Br,Br=t;var r=mn;t=gn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var s=32-qt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mn=1<<32-qt(e)+i|n<<i|r,gn=s+t}else mn=1<<s|n<<i|r,gn=t}function ah(t){t.return!==null&&(Ir(t,1),b_(t,1,0))}function lh(t){for(;t===rl;)rl=vi[--yi],vi[yi]=null,il=vi[--yi],vi[yi]=null;for(;t===Br;)Br=xt[--Ot],xt[Ot]=null,gn=xt[--Ot],xt[Ot]=null,mn=xt[--Ot],xt[Ot]=null}var Ct=null,St=null,_e=!1,Bt=null;function N_(t,e){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Um(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ct=t,St=Zn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ct=t,St=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Br!==null?{id:mn,overflow:gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ct=t,St=null,!0):!1;default:return!1}}function $d(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zd(t){if(_e){var e=St;if(e){var n=e;if(!Um(t,e)){if($d(t))throw Error(F(418));e=Zn(n.nextSibling);var r=Ct;e&&Um(t,e)?N_(r,n):(t.flags=t.flags&-4097|2,_e=!1,Ct=t)}}else{if($d(t))throw Error(F(418));t.flags=t.flags&-4097|2,_e=!1,Ct=t}}}function $m(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function ua(t){if(t!==Ct)return!1;if(!_e)return $m(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ld(t.type,t.memoizedProps)),e&&(e=St)){if($d(t))throw x_(),Error(F(418));for(;e;)N_(t,e),e=Zn(e.nextSibling)}if($m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){St=Zn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}St=null}}else St=Ct?Zn(t.stateNode.nextSibling):null;return!0}function x_(){for(var t=St;t;)t=Zn(t.nextSibling)}function $i(){St=Ct=null,_e=!1}function uh(t){Bt===null?Bt=[t]:Bt.push(t)}var q1=bn.ReactCurrentBatchConfig;function zt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sl=wr(null),ol=null,_i=null,ch=null;function dh(){ch=_i=ol=null}function fh(t){var e=sl.current;ge(sl),t._currentValue=e}function jd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pi(t,e){ol=t,ch=_i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(ch!==t)if(t={context:t,memoizedValue:e,next:null},_i===null){if(ol===null)throw Error(F(308));_i=t,ol.dependencies={lanes:0,firstContext:t}}else _i=_i.next=t;return e}var Or=null;function hh(t){Or===null?Or=[t]:Or.push(t)}function O_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hh(e)):(n.next=i.next,i.next=n),e.interleaved=n,In(t,r)}function In(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $n=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function er(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,In(t,n)}return i=r.interleaved,i===null?(e.next=e,hh(r)):(e.next=i.next,i.next=e),r.interleaved=e,In(t,n)}function Na(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zf(t,n)}}function zm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function al(t,e,n,r){var i=t.updateQueue;$n=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(h,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(h,d,f):v,f==null)break e;d=Ce({},d,f);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hr|=o,t.lanes=o,t.memoizedState=d}}function jm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var D_=new Oy.Component().refs;function Bd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uu={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ot(),i=nr(t),s=wn(r,i);s.payload=e,n!=null&&(s.callback=n),e=er(t,s,i),e!==null&&(Qt(e,t,i,r),Na(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ot(),i=nr(t),s=wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=er(t,s,i),e!==null&&(Qt(e,t,i,r),Na(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),r=nr(t),i=wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=er(t,i,r),e!==null&&(Qt(e,t,r,n),Na(e,t,r))}};function Bm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ro(n,r)||!ro(i,s):!0}function L_(t,e,n){var r=!1,i=fr,s=e.contextType;return typeof s=="object"&&s!==null?s=Lt(s):(i=mt(e)?jr:rt.current,r=e.contextTypes,s=(r=r!=null)?Ui(t,i):fr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uu.enqueueReplaceState(e,e.state,null)}function Wd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=D_,ph(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Lt(s):(s=mt(e)?jr:rt.current,i.context=Ui(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uu.enqueueReplaceState(i,i.state,null),al(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===D_&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function ca(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hm(t){var e=t._init;return e(t._payload)}function M_(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=rr(g,p),g.index=0,g.sibling=null,g}function s(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,_){return p===null||p.tag!==6?(p=Nc(m,g.mode,_),p.return=g,p):(p=i(p,m),p.return=g,p)}function l(g,p,m,_){var E=m.type;return E===di?c(g,p,m.props.children,_,m.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Un&&Hm(E)===p.type)?(_=i(p,m.props),_.ref=ms(g,p,m),_.return=g,_):(_=Ma(m.type,m.key,m.props,null,g.mode,_),_.ref=ms(g,p,m),_.return=g,_)}function u(g,p,m,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=xc(m,g.mode,_),p.return=g,p):(p=i(p,m.children||[]),p.return=g,p)}function c(g,p,m,_,E){return p===null||p.tag!==7?(p=Ur(m,g.mode,_,E),p.return=g,p):(p=i(p,m),p.return=g,p)}function d(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Nc(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zo:return m=Ma(p.type,p.key,p.props,null,g.mode,m),m.ref=ms(g,null,p),m.return=g,m;case ci:return p=xc(p,g.mode,m),p.return=g,p;case Un:var _=p._init;return d(g,_(p._payload),m)}if(Ts(p)||cs(p))return p=Ur(p,g.mode,m,null),p.return=g,p;ca(g,p)}return null}function f(g,p,m,_){var E=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:a(g,p,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zo:return m.key===E?l(g,p,m,_):null;case ci:return m.key===E?u(g,p,m,_):null;case Un:return E=m._init,f(g,p,E(m._payload),_)}if(Ts(m)||cs(m))return E!==null?null:c(g,p,m,_,null);ca(g,m)}return null}function h(g,p,m,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(m)||null,a(p,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zo:return g=g.get(_.key===null?m:_.key)||null,l(p,g,_,E);case ci:return g=g.get(_.key===null?m:_.key)||null,u(p,g,_,E);case Un:var S=_._init;return h(g,p,m,S(_._payload),E)}if(Ts(_)||cs(_))return g=g.get(m)||null,c(p,g,_,E,null);ca(p,_)}return null}function v(g,p,m,_){for(var E=null,S=null,C=p,I=p=0,R=null;C!==null&&I<m.length;I++){C.index>I?(R=C,C=null):R=C.sibling;var T=f(g,C,m[I],_);if(T===null){C===null&&(C=R);break}t&&C&&T.alternate===null&&e(g,C),p=s(T,p,I),S===null?E=T:S.sibling=T,S=T,C=R}if(I===m.length)return n(g,C),_e&&Ir(g,I),E;if(C===null){for(;I<m.length;I++)C=d(g,m[I],_),C!==null&&(p=s(C,p,I),S===null?E=C:S.sibling=C,S=C);return _e&&Ir(g,I),E}for(C=r(g,C);I<m.length;I++)R=h(C,g,I,m[I],_),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),p=s(R,p,I),S===null?E=R:S.sibling=R,S=R);return t&&C.forEach(function(O){return e(g,O)}),_e&&Ir(g,I),E}function y(g,p,m,_){var E=cs(m);if(typeof E!="function")throw Error(F(150));if(m=E.call(m),m==null)throw Error(F(151));for(var S=E=null,C=p,I=p=0,R=null,T=m.next();C!==null&&!T.done;I++,T=m.next()){C.index>I?(R=C,C=null):R=C.sibling;var O=f(g,C,T.value,_);if(O===null){C===null&&(C=R);break}t&&C&&O.alternate===null&&e(g,C),p=s(O,p,I),S===null?E=O:S.sibling=O,S=O,C=R}if(T.done)return n(g,C),_e&&Ir(g,I),E;if(C===null){for(;!T.done;I++,T=m.next())T=d(g,T.value,_),T!==null&&(p=s(T,p,I),S===null?E=T:S.sibling=T,S=T);return _e&&Ir(g,I),E}for(C=r(g,C);!T.done;I++,T=m.next())T=h(C,g,I,T.value,_),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?I:T.key),p=s(T,p,I),S===null?E=T:S.sibling=T,S=T);return t&&C.forEach(function(P){return e(g,P)}),_e&&Ir(g,I),E}function w(g,p,m,_){if(typeof m=="object"&&m!==null&&m.type===di&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Zo:e:{for(var E=m.key,S=p;S!==null;){if(S.key===E){if(E=m.type,E===di){if(S.tag===7){n(g,S.sibling),p=i(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Un&&Hm(E)===S.type){n(g,S.sibling),p=i(S,m.props),p.ref=ms(g,S,m),p.return=g,g=p;break e}n(g,S);break}else e(g,S);S=S.sibling}m.type===di?(p=Ur(m.props.children,g.mode,_,m.key),p.return=g,g=p):(_=Ma(m.type,m.key,m.props,null,g.mode,_),_.ref=ms(g,p,m),_.return=g,g=_)}return o(g);case ci:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=i(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=xc(m,g.mode,_),p.return=g,g=p}return o(g);case Un:return S=m._init,w(g,p,S(m._payload),_)}if(Ts(m))return v(g,p,m,_);if(cs(m))return y(g,p,m,_);ca(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,m),p.return=g,g=p):(n(g,p),p=Nc(m,g.mode,_),p.return=g,g=p),o(g)):n(g,p)}return w}var zi=M_(!0),F_=M_(!1),Fo={},rn=wr(Fo),ao=wr(Fo),lo=wr(Fo);function Ar(t){if(t===Fo)throw Error(F(174));return t}function mh(t,e){switch(fe(lo,e),fe(ao,t),fe(rn,Fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ed(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ed(e,t)}ge(rn),fe(rn,e)}function ji(){ge(rn),ge(ao),ge(lo)}function U_(t){Ar(lo.current);var e=Ar(rn.current),n=Ed(e,t.type);e!==n&&(fe(ao,t),fe(rn,n))}function gh(t){ao.current===t&&(ge(rn),ge(ao))}var Ee=wr(0);function ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ic=[];function vh(){for(var t=0;t<Ic.length;t++)Ic[t]._workInProgressVersionPrimary=null;Ic.length=0}var xa=bn.ReactCurrentDispatcher,Tc=bn.ReactCurrentBatchConfig,Wr=0,Se=null,De=null,$e=null,ul=!1,Ms=!1,uo=0,Q1=0;function Xe(){throw Error(F(321))}function yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function _h(t,e,n,r,i,s){if(Wr=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xa.current=t===null||t.memoizedState===null?J1:X1,t=n(r,i),Ms){s=0;do{if(Ms=!1,uo=0,25<=s)throw Error(F(301));s+=1,$e=De=null,e.updateQueue=null,xa.current=Z1,t=n(r,i)}while(Ms)}if(xa.current=cl,e=De!==null&&De.next!==null,Wr=0,$e=De=Se=null,ul=!1,e)throw Error(F(300));return t}function wh(){var t=uo!==0;return uo=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Se.memoizedState=$e=t:$e=$e.next=t,$e}function Mt(){if(De===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=$e===null?Se.memoizedState:$e.next;if(e!==null)$e=e,De=t;else{if(t===null)throw Error(F(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},$e===null?Se.memoizedState=$e=t:$e=$e.next=t}return $e}function co(t,e){return typeof e=="function"?e(t):e}function kc(t){var e=Mt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Wr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Se.lanes|=c,Hr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Gt(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Se.lanes|=s,Hr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rc(t){var e=Mt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gt(s,e.memoizedState)||(ct=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $_(){}function z_(t,e){var n=Se,r=Mt(),i=e(),s=!Gt(r.memoizedState,i);if(s&&(r.memoizedState=i,ct=!0),r=r.queue,Eh(W_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,fo(9,B_.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(F(349));Wr&30||j_(n,e,i)}return i}function j_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B_(t,e,n,r){e.value=n,e.getSnapshot=r,H_(e)&&V_(t)}function W_(t,e,n){return n(function(){H_(e)&&V_(t)})}function H_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function V_(t){var e=In(t,1);e!==null&&Qt(e,t,1,-1)}function Vm(t){var e=Zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},e.queue=t,t=t.dispatch=Y1.bind(null,Se,t),[e.memoizedState,t]}function fo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function q_(){return Mt().memoizedState}function Oa(t,e,n,r){var i=Zt();Se.flags|=t,i.memoizedState=fo(1|e,n,void 0,r===void 0?null:r)}function cu(t,e,n,r){var i=Mt();r=r===void 0?null:r;var s=void 0;if(De!==null){var o=De.memoizedState;if(s=o.destroy,r!==null&&yh(r,o.deps)){i.memoizedState=fo(e,n,s,r);return}}Se.flags|=t,i.memoizedState=fo(1|e,n,s,r)}function qm(t,e){return Oa(8390656,8,t,e)}function Eh(t,e){return cu(2048,8,t,e)}function Q_(t,e){return cu(4,2,t,e)}function K_(t,e){return cu(4,4,t,e)}function G_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y_(t,e,n){return n=n!=null?n.concat([t]):null,cu(4,4,G_.bind(null,e,t),n)}function Sh(){}function J_(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X_(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z_(t,e,n){return Wr&21?(Gt(n,e)||(n=n_(),Se.lanes|=n,Hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n)}function K1(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=Tc.transition;Tc.transition={};try{t(!1),e()}finally{ie=n,Tc.transition=r}}function e0(){return Mt().memoizedState}function G1(t,e,n){var r=nr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t0(t))n0(e,n);else if(n=O_(t,e,n,r),n!==null){var i=ot();Qt(n,t,r,i),r0(n,e,r)}}function Y1(t,e,n){var r=nr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t0(t))n0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gt(a,o)){var l=e.interleaved;l===null?(i.next=i,hh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=O_(t,e,i,r),n!==null&&(i=ot(),Qt(n,t,r,i),r0(n,e,r))}}function t0(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function n0(t,e){Ms=ul=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zf(t,n)}}var cl={readContext:Lt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},J1={readContext:Lt,useCallback:function(t,e){return Zt().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:qm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oa(4194308,4,G_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oa(4,2,t,e)},useMemo:function(t,e){var n=Zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=G1.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=Zt();return t={current:t},e.memoizedState=t},useState:Vm,useDebugValue:Sh,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=Vm(!1),e=t[0];return t=K1.bind(null,t[1]),Zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=Zt();if(_e){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Be===null)throw Error(F(349));Wr&30||j_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qm(W_.bind(null,r,s,t),[t]),r.flags|=2048,fo(9,B_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zt(),e=Be.identifierPrefix;if(_e){var n=gn,r=mn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Q1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X1={readContext:Lt,useCallback:J_,useContext:Lt,useEffect:Eh,useImperativeHandle:Y_,useInsertionEffect:Q_,useLayoutEffect:K_,useMemo:X_,useReducer:kc,useRef:q_,useState:function(){return kc(co)},useDebugValue:Sh,useDeferredValue:function(t){var e=Mt();return Z_(e,De.memoizedState,t)},useTransition:function(){var t=kc(co)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:$_,useSyncExternalStore:z_,useId:e0,unstable_isNewReconciler:!1},Z1={readContext:Lt,useCallback:J_,useContext:Lt,useEffect:Eh,useImperativeHandle:Y_,useInsertionEffect:Q_,useLayoutEffect:K_,useMemo:X_,useReducer:Rc,useRef:q_,useState:function(){return Rc(co)},useDebugValue:Sh,useDeferredValue:function(t){var e=Mt();return De===null?e.memoizedState=t:Z_(e,De.memoizedState,t)},useTransition:function(){var t=Rc(co)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:$_,useSyncExternalStore:z_,useId:e0,unstable_isNewReconciler:!1};function Bi(t,e){try{var n="",r=e;do n+=RC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eI=typeof WeakMap=="function"?WeakMap:Map;function i0(t,e,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fl||(fl=!0,ef=r),Hd(t,e)},n}function s0(t,e,n){n=wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hd(t,e),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pI.bind(null,t,e,n),e.then(t,t))}function Km(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wn(-1,1),e.tag=2,er(n,e,1))),n.lanes|=1),t)}var tI=bn.ReactCurrentOwner,ct=!1;function st(t,e,n,r){e.child=t===null?F_(e,null,n,r):zi(e,t.child,n,r)}function Ym(t,e,n,r,i){n=n.render;var s=e.ref;return Pi(e,i),r=_h(t,e,n,r,s,i),n=wh(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(_e&&n&&ah(e),e.flags|=1,st(t,e,r,i),e.child)}function Jm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Nh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,o0(t,e,s,r,i)):(t=Ma(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(o,r)&&t.ref===e.ref)return Tn(t,e,i)}return e.flags|=1,t=rr(s,r),t.ref=e.ref,t.return=e,e.child=t}function o0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ro(s,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,Tn(t,e,i)}return Vd(t,e,n,r,i)}function a0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Ei,Et),Et|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Ei,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(Ei,Et),Et|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fe(Ei,Et),Et|=r;return st(t,e,i,n),e.child}function l0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vd(t,e,n,r,i){var s=mt(n)?jr:rt.current;return s=Ui(e,s),Pi(e,i),n=_h(t,e,n,r,s,i),r=wh(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(_e&&r&&ah(e),e.flags|=1,st(t,e,n,i),e.child)}function Xm(t,e,n,r,i){if(mt(n)){var s=!0;nl(e)}else s=!1;if(Pi(e,i),e.stateNode===null)Aa(t,e),L_(e,n,r),Wd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=mt(n)?jr:rt.current,u=Ui(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Wm(e,o,r,u),$n=!1;var f=e.memoizedState;o.state=f,al(e,r,o,i),l=e.memoizedState,a!==r||f!==l||pt.current||$n?(typeof c=="function"&&(Bd(e,n,c,r),l=e.memoizedState),(a=$n||Bm(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,A_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:zt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Lt(l):(l=mt(n)?jr:rt.current,l=Ui(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Wm(e,o,r,l),$n=!1,f=e.memoizedState,o.state=f,al(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||pt.current||$n?(typeof h=="function"&&(Bd(e,n,h,r),v=e.memoizedState),(u=$n||Bm(e,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return qd(t,e,n,r,s,i)}function qd(t,e,n,r,i,s){l0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fm(e,n,!1),Tn(t,e,s);r=e.stateNode,tI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zi(e,t.child,null,s),e.child=zi(e,null,a,s)):st(t,e,a,s),e.memoizedState=r.state,i&&Fm(e,n,!0),e.child}function u0(t){var e=t.stateNode;e.pendingContext?Mm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mm(t,e.context,!1),mh(t,e.containerInfo)}function Zm(t,e,n,r,i){return $i(),uh(i),e.flags|=256,st(t,e,n,r),e.child}var Qd={dehydrated:null,treeContext:null,retryLane:0};function Kd(t){return{baseLanes:t,cachePool:null,transitions:null}}function c0(t,e,n){var r=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(Ee,i&1),t===null)return zd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hu(o,r,0,null),t=Ur(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kd(n),e.memoizedState=Qd,t):Ch(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rr(a,s):(s=Ur(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qd,r}return s=t.child,t=s.sibling,r=rr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ch(t,e){return e=hu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function da(t,e,n,r){return r!==null&&uh(r),zi(e,t.child,null,n),t=Ch(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pc(Error(F(422))),da(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hu({mode:"visible",children:r.children},i,0,null),s=Ur(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zi(e,t.child,null,o),e.child.memoizedState=Kd(o),e.memoizedState=Qd,s);if(!(e.mode&1))return da(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Pc(s,r,void 0),da(t,e,o,r)}if(a=(o&t.childLanes)!==0,ct||a){if(r=Be,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,In(t,i),Qt(r,t,i,-1))}return bh(),r=Pc(Error(F(421))),da(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,St=Zn(i.nextSibling),Ct=e,_e=!0,Bt=null,t!==null&&(xt[Ot++]=mn,xt[Ot++]=gn,xt[Ot++]=Br,mn=t.id,gn=t.overflow,Br=e),e=Ch(e,r.children),e.flags|=4096,e)}function eg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jd(t.return,e,n)}function bc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function d0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(st(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eg(t,n,e);else if(t.tag===19)eg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ll(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ll(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bc(e,!0,n,null,s);break;case"together":bc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Aa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rI(t,e,n){switch(e.tag){case 3:u0(e),$i();break;case 5:U_(e);break;case 1:mt(e.type)&&nl(e);break;case 4:mh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(sl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?c0(t,e,n):(fe(Ee,Ee.current&1),t=Tn(t,e,n),t!==null?t.sibling:null);fe(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return d0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,a0(t,e,n)}return Tn(t,e,n)}var f0,Gd,h0,p0;f0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gd=function(){};h0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ar(rn.current);var s=null;switch(n){case"input":i=vd(t,i),r=vd(t,r),s=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),s=[];break;case"textarea":i=wd(t,i),r=wd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=el)}Sd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ys.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ys.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&he("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};p0=function(t,e,n,r){n!==r&&(e.flags|=4)};function gs(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iI(t,e,n){var r=e.pendingProps;switch(lh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return mt(e.type)&&tl(),Ze(e),null;case 3:return r=e.stateNode,ji(),ge(pt),ge(rt),vh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ua(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(rf(Bt),Bt=null))),Gd(t,e),Ze(e),null;case 5:gh(e);var i=Ar(lo.current);if(n=e.type,t!==null&&e.stateNode!=null)h0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ze(e),null}if(t=Ar(rn.current),ua(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[en]=e,r[oo]=s,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<Rs.length;i++)he(Rs[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":um(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":dm(r,s),he("invalid",r)}Sd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&la(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&la(r.textContent,a,t),i=["children",""+a]):Ys.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":ea(r),cm(r,s,!0);break;case"textarea":ea(r),fm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=el)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[en]=e,t[oo]=r,f0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cd(n,r),n){case"dialog":he("cancel",t),he("close",t),i=r;break;case"iframe":case"object":case"embed":he("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rs.length;i++)he(Rs[i],t);i=r;break;case"source":he("error",t),i=r;break;case"img":case"image":case"link":he("error",t),he("load",t),i=r;break;case"details":he("toggle",t),i=r;break;case"input":um(t,r),i=vd(t,r),he("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),he("invalid",t);break;case"textarea":dm(t,r),i=wd(t,r),he("invalid",t);break;default:i=r}Sd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Hy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&By(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Js(t,l):typeof l=="number"&&Js(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ys.hasOwnProperty(s)?l!=null&&s==="onScroll"&&he("scroll",t):l!=null&&Qf(t,s,l,o))}switch(n){case"input":ea(t),cm(t,r,!1);break;case"textarea":ea(t),fm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ii(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ii(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)p0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Ar(lo.current),Ar(rn.current),ua(e)){if(r=e.stateNode,n=e.memoizedProps,r[en]=e,(s=r.nodeValue!==n)&&(t=Ct,t!==null))switch(t.tag){case 3:la(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&la(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=e,e.stateNode=r}return Ze(e),null;case 13:if(ge(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&St!==null&&e.mode&1&&!(e.flags&128))x_(),$i(),e.flags|=98560,s=!1;else if(s=ua(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[en]=e}else $i(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),s=!1}else Bt!==null&&(rf(Bt),Bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Me===0&&(Me=3):bh())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return ji(),Gd(t,e),t===null&&io(e.stateNode.containerInfo),Ze(e),null;case 10:return fh(e.type._context),Ze(e),null;case 17:return mt(e.type)&&tl(),Ze(e),null;case 19:if(ge(Ee),s=e.memoizedState,s===null)return Ze(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gs(s,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ll(t),o!==null){for(e.flags|=128,gs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>Wi&&(e.flags|=128,r=!0,gs(s,!1),e.lanes=4194304)}else{if(!r)if(t=ll(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return Ze(e),null}else 2*Pe()-s.renderingStartTime>Wi&&n!==1073741824&&(e.flags|=128,r=!0,gs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,n=Ee.current,fe(Ee,r?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return Ph(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function sI(t,e){switch(lh(e),e.tag){case 1:return mt(e.type)&&tl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ji(),ge(pt),ge(rt),vh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gh(e),null;case 13:if(ge(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));$i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(Ee),null;case 4:return ji(),null;case 10:return fh(e.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var fa=!1,tt=!1,oI=typeof WeakSet=="function"?WeakSet:Set,H=null;function wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function Yd(t,e,n){try{n()}catch(r){Te(t,e,r)}}var tg=!1;function aI(t,e){if(Ad=Ja,t=y_(),oh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dd={focusedElem:t,selectionRange:n},Ja=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:zt(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(_){Te(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=tg,tg=!1,v}function Fs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Yd(e,n,s)}i=i.next}while(i!==r)}}function du(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function m0(t){var e=t.alternate;e!==null&&(t.alternate=null,m0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[en],delete e[oo],delete e[Fd],delete e[W1],delete e[H1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function g0(t){return t.tag===5||t.tag===3||t.tag===4}function ng(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=el));else if(r!==4&&(t=t.child,t!==null))for(Xd(t,e,n),t=t.sibling;t!==null;)Xd(t,e,n),t=t.sibling}function Zd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zd(t,e,n),t=t.sibling;t!==null;)Zd(t,e,n),t=t.sibling}var qe=null,jt=!1;function Dn(t,e,n){for(n=n.child;n!==null;)v0(t,e,n),n=n.sibling}function v0(t,e,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ru,n)}catch{}switch(n.tag){case 5:tt||wi(n,e);case 6:var r=qe,i=jt;qe=null,Dn(t,e,n),qe=r,jt=i,qe!==null&&(jt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(jt?(t=qe,n=n.stateNode,t.nodeType===8?Sc(t.parentNode,n):t.nodeType===1&&Sc(t,n),to(t)):Sc(qe,n.stateNode));break;case 4:r=qe,i=jt,qe=n.stateNode.containerInfo,jt=!0,Dn(t,e,n),qe=r,jt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yd(n,e,o),i=i.next}while(i!==r)}Dn(t,e,n);break;case 1:if(!tt&&(wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,e,a)}Dn(t,e,n);break;case 21:Dn(t,e,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Dn(t,e,n),tt=r):Dn(t,e,n);break;default:Dn(t,e,n)}}function rg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oI),e.forEach(function(r){var i=gI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $t(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,jt=!1;break e;case 3:qe=a.stateNode.containerInfo,jt=!0;break e;case 4:qe=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(qe===null)throw Error(F(160));v0(s,o,i),qe=null,jt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)y0(e,t),e=e.sibling}function y0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(e,t),Xt(t),r&4){try{Fs(3,t,t.return),du(3,t)}catch(y){Te(t,t.return,y)}try{Fs(5,t,t.return)}catch(y){Te(t,t.return,y)}}break;case 1:$t(e,t),Xt(t),r&512&&n!==null&&wi(n,n.return);break;case 5:if($t(e,t),Xt(t),r&512&&n!==null&&wi(n,n.return),t.flags&32){var i=t.stateNode;try{Js(i,"")}catch(y){Te(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$y(i,s),Cd(a,o);var u=Cd(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Hy(i,d):c==="dangerouslySetInnerHTML"?By(i,d):c==="children"?Js(i,d):Qf(i,c,d,u)}switch(a){case"input":yd(i,s);break;case"textarea":zy(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Ii(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ii(i,!!s.multiple,s.defaultValue,!0):Ii(i,!!s.multiple,s.multiple?[]:"",!1))}i[oo]=s}catch(y){Te(t,t.return,y)}}break;case 6:if($t(e,t),Xt(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Te(t,t.return,y)}}break;case 3:if($t(e,t),Xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(e.containerInfo)}catch(y){Te(t,t.return,y)}break;case 4:$t(e,t),Xt(t);break;case 13:$t(e,t),Xt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kh=Pe())),r&4&&rg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tt=(u=tt)||c,$t(e,t),tt=u):$t(e,t),Xt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(H=t,c=t.child;c!==null;){for(d=H=c;H!==null;){switch(f=H,h=f.child,f.tag){case 0:case 11:case 14:case 15:Fs(4,f,f.return);break;case 1:wi(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Te(r,n,y)}}break;case 5:wi(f,f.return);break;case 22:if(f.memoizedState!==null){sg(d);continue}}h!==null?(h.return=f,H=h):sg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wy("display",o))}catch(y){Te(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Te(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:$t(e,t),Xt(t),r&4&&rg(t);break;case 21:break;default:$t(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(g0(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Js(i,""),r.flags&=-33);var s=ng(t);Zd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ng(t);Xd(t,a,o);break;default:throw Error(F(161))}}catch(l){Te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lI(t,e,n){H=t,_0(t)}function _0(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tt;a=fa;var u=tt;if(fa=o,(tt=l)&&!u)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?og(i):l!==null?(l.return=o,H=l):og(i);for(;s!==null;)H=s,_0(s),s=s.sibling;H=i,fa=a,tt=u}ig(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):ig(t)}}function ig(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||du(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&to(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}tt||e.flags&512&&Jd(e)}catch(f){Te(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function sg(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function og(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{du(4,e)}catch(l){Te(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Te(e,i,l)}}var s=e.return;try{Jd(e)}catch(l){Te(e,s,l)}break;case 5:var o=e.return;try{Jd(e)}catch(l){Te(e,o,l)}}}catch(l){Te(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var uI=Math.ceil,dl=bn.ReactCurrentDispatcher,Ih=bn.ReactCurrentOwner,Dt=bn.ReactCurrentBatchConfig,ne=0,Be=null,Ne=null,Ge=0,Et=0,Ei=wr(0),Me=0,ho=null,Hr=0,fu=0,Th=0,Us=null,ut=null,kh=0,Wi=1/0,fn=null,fl=!1,ef=null,tr=null,ha=!1,Qn=null,hl=0,$s=0,tf=null,Da=-1,La=0;function ot(){return ne&6?Pe():Da!==-1?Da:Da=Pe()}function nr(t){return t.mode&1?ne&2&&Ge!==0?Ge&-Ge:q1.transition!==null?(La===0&&(La=n_()),La):(t=ie,t!==0||(t=window.event,t=t===void 0?16:u_(t.type)),t):1}function Qt(t,e,n,r){if(50<$s)throw $s=0,tf=null,Error(F(185));Do(t,n,r),(!(ne&2)||t!==Be)&&(t===Be&&(!(ne&2)&&(fu|=n),Me===4&&jn(t,Ge)),gt(t,r),n===1&&ne===0&&!(e.mode&1)&&(Wi=Pe()+500,lu&&Er()))}function gt(t,e){var n=t.callbackNode;qC(t,e);var r=Ya(t,t===Be?Ge:0);if(r===0)n!==null&&mm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mm(n),e===1)t.tag===0?V1(ag.bind(null,t)):P_(ag.bind(null,t)),j1(function(){!(ne&6)&&Er()}),n=null;else{switch(r_(r)){case 1:n=Xf;break;case 4:n=e_;break;case 16:n=Ga;break;case 536870912:n=t_;break;default:n=Ga}n=R0(n,w0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w0(t,e){if(Da=-1,La=0,ne&6)throw Error(F(327));var n=t.callbackNode;if(bi()&&t.callbackNode!==n)return null;var r=Ya(t,t===Be?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pl(t,r);else{e=r;var i=ne;ne|=2;var s=S0();(Be!==t||Ge!==e)&&(fn=null,Wi=Pe()+500,Fr(t,e));do try{fI();break}catch(a){E0(t,a)}while(1);dh(),dl.current=s,ne=i,Ne!==null?e=0:(Be=null,Ge=0,e=Me)}if(e!==0){if(e===2&&(i=Pd(t),i!==0&&(r=i,e=nf(t,i))),e===1)throw n=ho,Fr(t,0),jn(t,r),gt(t,Pe()),n;if(e===6)jn(t,r);else{if(i=t.current.alternate,!(r&30)&&!cI(i)&&(e=pl(t,r),e===2&&(s=Pd(t),s!==0&&(r=s,e=nf(t,s))),e===1))throw n=ho,Fr(t,0),jn(t,r),gt(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Tr(t,ut,fn);break;case 3:if(jn(t,r),(r&130023424)===r&&(e=kh+500-Pe(),10<e)){if(Ya(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Md(Tr.bind(null,t,ut,fn),e);break}Tr(t,ut,fn);break;case 4:if(jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uI(r/1960))-r,10<r){t.timeoutHandle=Md(Tr.bind(null,t,ut,fn),r);break}Tr(t,ut,fn);break;case 5:Tr(t,ut,fn);break;default:throw Error(F(329))}}}return gt(t,Pe()),t.callbackNode===n?w0.bind(null,t):null}function nf(t,e){var n=Us;return t.current.memoizedState.isDehydrated&&(Fr(t,e).flags|=256),t=pl(t,e),t!==2&&(e=ut,ut=n,e!==null&&rf(e)),t}function rf(t){ut===null?ut=t:ut.push.apply(ut,t)}function cI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jn(t,e){for(e&=~Th,e&=~fu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qt(e),r=1<<n;t[n]=-1,e&=~r}}function ag(t){if(ne&6)throw Error(F(327));bi();var e=Ya(t,0);if(!(e&1))return gt(t,Pe()),null;var n=pl(t,e);if(t.tag!==0&&n===2){var r=Pd(t);r!==0&&(e=r,n=nf(t,r))}if(n===1)throw n=ho,Fr(t,0),jn(t,e),gt(t,Pe()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tr(t,ut,fn),gt(t,Pe()),null}function Rh(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(Wi=Pe()+500,lu&&Er())}}function Vr(t){Qn!==null&&Qn.tag===0&&!(ne&6)&&bi();var e=ne;ne|=1;var n=Dt.transition,r=ie;try{if(Dt.transition=null,ie=1,t)return t()}finally{ie=r,Dt.transition=n,ne=e,!(ne&6)&&Er()}}function Ph(){Et=Ei.current,ge(Ei)}function Fr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,z1(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(lh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tl();break;case 3:ji(),ge(pt),ge(rt),vh();break;case 5:gh(r);break;case 4:ji();break;case 13:ge(Ee);break;case 19:ge(Ee);break;case 10:fh(r.type._context);break;case 22:case 23:Ph()}n=n.return}if(Be=t,Ne=t=rr(t.current,null),Ge=Et=e,Me=0,ho=null,Th=fu=Hr=0,ut=Us=null,Or!==null){for(e=0;e<Or.length;e++)if(n=Or[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Or=null}return t}function E0(t,e){do{var n=Ne;try{if(dh(),xa.current=cl,ul){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ul=!1}if(Wr=0,$e=De=Se=null,Ms=!1,uo=0,Ih.current=null,n===null||n.return===null){Me=1,ho=e,Ne=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Km(o);if(h!==null){h.flags&=-257,Gm(h,o,a,s,e),h.mode&1&&Qm(s,u,e),e=h,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Qm(s,u,e),bh();break e}l=Error(F(426))}}else if(_e&&a.mode&1){var w=Km(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gm(w,o,a,s,e),uh(Bi(l,a));break e}}s=l=Bi(l,a),Me!==4&&(Me=2),Us===null?Us=[s]:Us.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=i0(s,l,e);zm(s,g);break e;case 1:a=l;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tr===null||!tr.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=s0(s,a,e);zm(s,_);break e}}s=s.return}while(s!==null)}I0(n)}catch(E){e=E,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(1)}function S0(){var t=dl.current;return dl.current=cl,t===null?cl:t}function bh(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||!(Hr&268435455)&&!(fu&268435455)||jn(Be,Ge)}function pl(t,e){var n=ne;ne|=2;var r=S0();(Be!==t||Ge!==e)&&(fn=null,Fr(t,e));do try{dI();break}catch(i){E0(t,i)}while(1);if(dh(),ne=n,dl.current=r,Ne!==null)throw Error(F(261));return Be=null,Ge=0,Me}function dI(){for(;Ne!==null;)C0(Ne)}function fI(){for(;Ne!==null&&!FC();)C0(Ne)}function C0(t){var e=k0(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?I0(t):Ne=e,Ih.current=null}function I0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sI(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Ne=null;return}}else if(n=iI(n,e,Et),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Me===0&&(Me=5)}function Tr(t,e,n){var r=ie,i=Dt.transition;try{Dt.transition=null,ie=1,hI(t,e,n,r)}finally{Dt.transition=i,ie=r}return null}function hI(t,e,n,r){do bi();while(Qn!==null);if(ne&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QC(t,s),t===Be&&(Ne=Be=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ha||(ha=!0,R0(Ga,function(){return bi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var o=ie;ie=1;var a=ne;ne|=4,Ih.current=null,aI(t,n),y0(n,t),A1(Dd),Ja=!!Ad,Dd=Ad=null,t.current=n,lI(n),UC(),ne=a,ie=o,Dt.transition=s}else t.current=n;if(ha&&(ha=!1,Qn=t,hl=i),s=t.pendingLanes,s===0&&(tr=null),jC(n.stateNode),gt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fl)throw fl=!1,t=ef,ef=null,t;return hl&1&&t.tag!==0&&bi(),s=t.pendingLanes,s&1?t===tf?$s++:($s=0,tf=t):$s=0,Er(),null}function bi(){if(Qn!==null){var t=r_(hl),e=Dt.transition,n=ie;try{if(Dt.transition=null,ie=16>t?16:t,Qn===null)var r=!1;else{if(t=Qn,Qn=null,hl=0,ne&6)throw Error(F(331));var i=ne;for(ne|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(H=u;H!==null;){var c=H;switch(c.tag){case 0:case 11:case 15:Fs(8,c,s)}var d=c.child;if(d!==null)d.return=c,H=d;else for(;H!==null;){c=H;var f=c.sibling,h=c.return;if(m0(c),c===u){H=null;break}if(f!==null){f.return=h,H=f;break}H=h}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fs(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,H=g;break e}H=s.return}}var p=t.current;for(H=p;H!==null;){o=H;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,H=m;else e:for(o=p;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:du(9,a)}}catch(E){Te(a,a.return,E)}if(a===o){H=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,H=_;break e}H=a.return}}if(ne=i,Er(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ru,t)}catch{}r=!0}return r}finally{ie=n,Dt.transition=e}}return!1}function lg(t,e,n){e=Bi(n,e),e=i0(t,e,1),t=er(t,e,1),e=ot(),t!==null&&(Do(t,1,e),gt(t,e))}function Te(t,e,n){if(t.tag===3)lg(t,t,n);else for(;e!==null;){if(e.tag===3){lg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){t=Bi(n,t),t=s0(e,t,1),e=er(e,t,1),t=ot(),e!==null&&(Do(e,1,t),gt(e,t));break}}e=e.return}}function pI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Ge&n)===n&&(Me===4||Me===3&&(Ge&130023424)===Ge&&500>Pe()-kh?Fr(t,0):Th|=n),gt(t,e)}function T0(t,e){e===0&&(t.mode&1?(e=ra,ra<<=1,!(ra&130023424)&&(ra=4194304)):e=1);var n=ot();t=In(t,e),t!==null&&(Do(t,e,n),gt(t,n))}function mI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),T0(t,n)}function gI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),T0(t,n)}var k0;k0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ct=!1,rI(t,e,n);ct=!!(t.flags&131072)}else ct=!1,_e&&e.flags&1048576&&b_(e,il,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Aa(t,e),t=e.pendingProps;var i=Ui(e,rt.current);Pi(e,n),i=_h(null,e,r,t,i,n);var s=wh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(s=!0,nl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ph(e),i.updater=uu,e.stateNode=i,i._reactInternals=e,Wd(e,r,t,n),e=qd(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&ah(e),st(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Aa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yI(r),t=zt(r,t),i){case 0:e=Vd(null,e,r,t,n);break e;case 1:e=Xm(null,e,r,t,n);break e;case 11:e=Ym(null,e,r,t,n);break e;case 14:e=Jm(null,e,r,zt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Vd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Xm(t,e,r,i,n);case 3:e:{if(u0(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,A_(t,e),al(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bi(Error(F(423)),e),e=Zm(t,e,r,n,i);break e}else if(r!==i){i=Bi(Error(F(424)),e),e=Zm(t,e,r,n,i);break e}else for(St=Zn(e.stateNode.containerInfo.firstChild),Ct=e,_e=!0,Bt=null,n=F_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($i(),r===i){e=Tn(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return U_(e),t===null&&zd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ld(r,i)?o=null:s!==null&&Ld(r,s)&&(e.flags|=32),l0(t,e),st(t,e,o,n),e.child;case 6:return t===null&&zd(e),null;case 13:return c0(t,e,n);case 4:return mh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zi(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Ym(t,e,r,i,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fe(sl,r._currentValue),r._currentValue=o,s!==null)if(Gt(s.value,o)){if(s.children===i.children&&!pt.current){e=Tn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}st(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pi(e,n),i=Lt(i),r=r(i),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,i=zt(r,e.pendingProps),i=zt(r.type,i),Jm(t,e,r,i,n);case 15:return o0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Aa(t,e),e.tag=1,mt(r)?(t=!0,nl(e)):t=!1,Pi(e,n),L_(e,r,i),Wd(e,r,i,n),qd(null,e,r,!0,t,n);case 19:return d0(t,e,n);case 22:return a0(t,e,n)}throw Error(F(156,e.tag))};function R0(t,e){return Zy(t,e)}function vI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,e,n,r){return new vI(t,e,n,r)}function Nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yI(t){if(typeof t=="function")return Nh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gf)return 11;if(t===Yf)return 14}return 2}function rr(t,e){var n=t.alternate;return n===null?(n=At(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ma(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Nh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case di:return Ur(n.children,i,s,e);case Kf:o=8,i|=8;break;case hd:return t=At(12,n,e,i|2),t.elementType=hd,t.lanes=s,t;case pd:return t=At(13,n,e,i),t.elementType=pd,t.lanes=s,t;case md:return t=At(19,n,e,i),t.elementType=md,t.lanes=s,t;case My:return hu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dy:o=10;break e;case Ly:o=9;break e;case Gf:o=11;break e;case Yf:o=14;break e;case Un:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=At(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ur(t,e,n,r){return t=At(7,t,r,e),t.lanes=n,t}function hu(t,e,n,r){return t=At(22,t,r,e),t.elementType=My,t.lanes=n,t.stateNode={isHidden:!1},t}function Nc(t,e,n){return t=At(6,t,null,e),t.lanes=n,t}function xc(t,e,n){return e=At(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _I(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xh(t,e,n,r,i,s,o,a,l){return t=new _I(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=At(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(s),t}function wI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function P0(t){if(!t)return fr;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(mt(n))return R_(t,n,e)}return e}function b0(t,e,n,r,i,s,o,a,l){return t=xh(n,r,!0,t,i,s,o,a,l),t.context=P0(null),n=t.current,r=ot(),i=nr(n),s=wn(r,i),s.callback=e??null,er(n,s,i),t.current.lanes=i,Do(t,i,r),gt(t,r),t}function pu(t,e,n,r){var i=e.current,s=ot(),o=nr(i);return n=P0(n),e.context===null?e.context=n:e.pendingContext=n,e=wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=er(i,e,o),t!==null&&(Qt(t,i,o,s),Na(t,i,o)),o}function ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ug(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Oh(t,e){ug(t,e),(t=t.alternate)&&ug(t,e)}function EI(){return null}var N0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ah(t){this._internalRoot=t}mu.prototype.render=Ah.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));pu(t,e,null,null)};mu.prototype.unmount=Ah.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vr(function(){pu(null,t,null,null)}),e[Cn]=null}};function mu(t){this._internalRoot=t}mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=o_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zn.length&&e!==0&&e<zn[n].priority;n++);zn.splice(n,0,t),n===0&&l_(t)}};function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cg(){}function SI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ml(o);s.call(u)}}var o=b0(e,r,t,0,null,!1,!1,"",cg);return t._reactRootContainer=o,t[Cn]=o.current,io(t.nodeType===8?t.parentNode:t),Vr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ml(l);a.call(u)}}var l=xh(t,0,!1,null,null,!1,!1,"",cg);return t._reactRootContainer=l,t[Cn]=l.current,io(t.nodeType===8?t.parentNode:t),Vr(function(){pu(e,l,n,r)}),l}function vu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ml(o);a.call(l)}}pu(e,o,t,i)}else o=SI(n,e,t,i,r);return ml(o)}i_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ks(e.pendingLanes);n!==0&&(Zf(e,n|1),gt(e,Pe()),!(ne&6)&&(Wi=Pe()+500,Er()))}break;case 13:Vr(function(){var r=In(t,1);if(r!==null){var i=ot();Qt(r,t,1,i)}}),Oh(t,1)}};eh=function(t){if(t.tag===13){var e=In(t,134217728);if(e!==null){var n=ot();Qt(e,t,134217728,n)}Oh(t,134217728)}};s_=function(t){if(t.tag===13){var e=nr(t),n=In(t,e);if(n!==null){var r=ot();Qt(n,t,e,r)}Oh(t,e)}};o_=function(){return ie};a_=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};Td=function(t,e,n){switch(e){case"input":if(yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=au(r);if(!i)throw Error(F(90));Uy(r),yd(r,i)}}}break;case"textarea":zy(t,n);break;case"select":e=n.value,e!=null&&Ii(t,!!n.multiple,e,!1)}};Qy=Rh;Ky=Vr;var CI={usingClientEntryPoint:!1,Events:[Mo,mi,au,Vy,qy,Rh]},vs={findFiberByHostInstance:xr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},II={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jy(t),t===null?null:t.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||EI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{ru=pa.inject(II),nn=pa}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(e))throw Error(F(200));return wI(t,e,null,n)};kt.createRoot=function(t,e){if(!Dh(t))throw Error(F(299));var n=!1,r="",i=N0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xh(t,1,!1,null,null,n,!1,r,i),t[Cn]=e.current,io(t.nodeType===8?t.parentNode:t),new Ah(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Jy(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return Vr(t)};kt.hydrate=function(t,e,n){if(!gu(e))throw Error(F(200));return vu(null,t,e,!0,n)};kt.hydrateRoot=function(t,e,n){if(!Dh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=N0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=b0(e,null,t,1,n??null,i,!1,s,o),t[Cn]=e.current,io(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mu(e)};kt.render=function(t,e,n){if(!gu(e))throw Error(F(200));return vu(null,t,e,!1,n)};kt.unmountComponentAtNode=function(t){if(!gu(t))throw Error(F(40));return t._reactRootContainer?(Vr(function(){vu(null,null,t,!1,function(){t._reactRootContainer=null,t[Cn]=null})}),!0):!1};kt.unstable_batchedUpdates=Rh;kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gu(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return vu(t,e,n,!1,r)};kt.version="18.2.0-next-9e3b772b8-20220608";function x0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x0)}catch(t){console.error(t)}}x0(),by.exports=kt;var Lh=by.exports,dg=Lh;dd.createRoot=dg.createRoot,dd.hydrateRoot=dg.hydrateRoot;const TI="modulepreload",kI=function(t){return"/"+t},fg={},yu=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=kI(s),s in fg)return;fg[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":TI,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},po.apply(this,arguments)}var Kn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kn||(Kn={}));const hg="popstate";function RI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gl(i)}return bI(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PI(){return Math.random().toString(36).substr(2,8)}function pg(t,e){return{usr:t.state,key:t.key,idx:e}}function sf(t,e,n,r){return n===void 0&&(n=null),po({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ts(e):e,{state:n,key:e&&e.key||r||PI()})}function gl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Kn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(po({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Kn.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:g})}function f(w,g){a=Kn.Push;let p=sf(y.location,w,g);n&&n(p,w),u=c()+1;let m=pg(p,u),_=y.createHref(p);try{o.pushState(m,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:y.location,delta:1})}function h(w,g){a=Kn.Replace;let p=sf(y.location,w,g);n&&n(p,w),u=c();let m=pg(p,u),_=y.createHref(p);o.replaceState(m,"",_),s&&l&&l({action:a,location:y.location,delta:0})}function v(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:gl(w);return xe(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hg,d),l=w,()=>{i.removeEventListener(hg,d),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let g=v(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(w){return o.go(w)}};return y}var mg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mg||(mg={}));function NI(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ts(e):e,i=Fh(r.pathname||"/",n);if(i==null)return null;let s=O0(t);xI(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=zI(s[a],WI(i));return o}function O0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ir([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(xe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),O0(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:UI(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of A0(s.path))i(s,o,l)}),e}function A0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=A0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function xI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$I(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OI=/^:\w+$/,AI=3,DI=2,LI=1,MI=10,FI=-2,gg=t=>t==="*";function UI(t,e){let n=t.split("/"),r=n.length;return n.some(gg)&&(r+=FI),e&&(r+=DI),n.filter(i=>!gg(i)).reduce((i,s)=>i+(OI.test(s)?AI:s===""?LI:MI),r)}function $I(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zI(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=jI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ir([i,c.pathname]),pathnameBase:QI(ir([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ir([i,c.pathnameBase]))}return s}function jI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=HI(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function BI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WI(t){try{return decodeURI(t)}catch(e){return Mh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function HI(t,e){try{return decodeURIComponent(t)}catch(n){return Mh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Fh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ts(t):t;return{pathname:n?n.startsWith("/")?n:qI(n,e):e,search:KI(r),hash:GI(i)}}function qI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Oc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ts(t):(i=po({},t),xe(!i.pathname||!i.pathname.includes("?"),Oc("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Oc("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Oc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=VI(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ir=t=>t.join("/").replace(/\/\/+/g,"/"),QI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M0=["post","put","patch","delete"];new Set(M0);const JI=["get",...M0];new Set(JI);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(this,arguments)}const Uh=b.createContext(null),F0=b.createContext(null),ri=b.createContext(null),_u=b.createContext(null),Nn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),U0=b.createContext(null);function XI(t,e){let{relative:n}=e===void 0?{}:e;Uo()||xe(!1);let{basename:r,navigator:i}=b.useContext(ri),{hash:s,pathname:o,search:a}=$h(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ir([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Uo(){return b.useContext(_u)!=null}function Sr(){return Uo()||xe(!1),b.useContext(_u).location}function $0(t){b.useContext(ri).static||b.useLayoutEffect(t)}function z0(){let{isDataRoute:t}=b.useContext(Nn);return t?hT():ZI()}function ZI(){Uo()||xe(!1);let t=b.useContext(Uh),{basename:e,navigator:n}=b.useContext(ri),{matches:r}=b.useContext(Nn),{pathname:i}=Sr(),s=JSON.stringify(D0(r).map(l=>l.pathnameBase)),o=b.useRef(!1);return $0(()=>{o.current=!0}),b.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=L0(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ir([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const eT=b.createContext(null);function tT(t){let e=b.useContext(Nn).outlet;return e&&b.createElement(eT.Provider,{value:t},e)}function uM(){let{matches:t}=b.useContext(Nn),e=t[t.length-1];return e?e.params:{}}function $h(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=b.useContext(Nn),{pathname:i}=Sr(),s=JSON.stringify(D0(r).map(o=>o.pathnameBase));return b.useMemo(()=>L0(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function nT(t,e){return rT(t,e)}function rT(t,e,n){Uo()||xe(!1);let{navigator:r}=b.useContext(ri),{matches:i}=b.useContext(Nn),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Sr(),u;if(e){var c;let y=typeof e=="string"?ts(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||xe(!1),u=y}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=NI(t,{pathname:f}),v=lT(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ir([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:ir([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&v?b.createElement(_u.Provider,{value:{location:vl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Kn.Pop}},v):v}function iT(){let t=fT(),e=YI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}const sT=b.createElement(iT,null);class oT extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(Nn.Provider,{value:this.props.routeContext},b.createElement(U0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aT(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(Uh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Nn.Provider,{value:e},r)}function lT(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||xe(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||sT);let f=e.concat(s.slice(0,u+1)),h=()=>{let v;return c?v=d:l.route.Component?v=b.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,b.createElement(aT,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?b.createElement(oT,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var of;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(of||(of={}));var mo;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(mo||(mo={}));function uT(t){let e=b.useContext(Uh);return e||xe(!1),e}function cT(t){let e=b.useContext(F0);return e||xe(!1),e}function dT(t){let e=b.useContext(Nn);return e||xe(!1),e}function j0(t){let e=dT(),n=e.matches[e.matches.length-1];return n.route.id||xe(!1),n.route.id}function fT(){var t;let e=b.useContext(U0),n=cT(mo.UseRouteError),r=j0(mo.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function hT(){let{router:t}=uT(of.UseNavigateStable),e=j0(mo.UseNavigateStable),n=b.useRef(!1);return $0(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vl({fromRouteId:e},s)))},[t,e])}function pT(t){return tT(t.context)}function Fn(t){xe(!1)}function mT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Kn.Pop,navigator:s,static:o=!1}=t;Uo()&&xe(!1);let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ts(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,v=b.useMemo(()=>{let y=Fh(u,a);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:h},navigationType:i}},[a,u,c,d,f,h,i]);return v==null?null:b.createElement(ri.Provider,{value:l},b.createElement(_u.Provider,{children:n,value:v}))}function gT(t){let{children:e,location:n}=t;return nT(af(e),n)}var vg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(vg||(vg={}));new Promise(()=>{});function af(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,af(r.props.children,s));return}r.type!==Fn&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=af(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function B0(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yT(t,e){return t.button===0&&(!e||e==="_self")&&!vT(t)}function lf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function _T(t,e){let n=lf(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const wT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ET=["aria-current","caseSensitive","className","end","style","to","children"];function ST(t){let{basename:e,children:n,window:r}=t,i=b.useRef();i.current==null&&(i.current=RI({window:r,v5Compat:!0}));let s=i.current,[o,a]=b.useState({action:s.action,location:s.location});return b.useLayoutEffect(()=>s.listen(a),[s]),b.createElement(mT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const CT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=B0(e,wT),{basename:f}=b.useContext(ri),h,v=!1;if(typeof u=="string"&&IT.test(u)&&(h=u,CT))try{let p=new URL(window.location.href),m=u.startsWith("//")?new URL(p.protocol+u):new URL(u),_=Fh(m.pathname,f);m.origin===p.origin&&_!=null?u=_+m.search+m.hash:v=!0}catch{}let y=XI(u,{relative:i}),w=TT(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(p){r&&r(p),p.defaultPrevented||w(p)}return b.createElement("a",yl({},d,{href:h||y,onClick:v||s?r:g,ref:n,target:l}))}),ma=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=B0(e,ET),d=$h(l,{relative:c.relative}),f=Sr(),h=b.useContext(F0),{navigator:v}=b.useContext(ri),y=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,w=f.pathname,g=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;i||(w=w.toLowerCase(),g=g?g.toLowerCase():null,y=y.toLowerCase());let p=w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/",m=g!=null&&(g===y||!o&&g.startsWith(y)&&g.charAt(y.length)==="/"),_=p?r:void 0,E;typeof s=="function"?E=s({isActive:p,isPending:m}):E=[s,p?"active":null,m?"pending":null].filter(Boolean).join(" ");let S=typeof a=="function"?a({isActive:p,isPending:m}):a;return b.createElement(W0,yl({},c,{"aria-current":_,className:E,ref:n,style:S,to:l}),typeof u=="function"?u({isActive:p,isPending:m}):u)});var yg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(yg||(yg={}));var _g;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_g||(_g={}));function TT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=z0(),l=Sr(),u=$h(t,{relative:o});return b.useCallback(c=>{if(yT(c,n)){c.preventDefault();let d=r!==void 0?r:gl(l)===gl(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function kT(t){let e=b.useRef(lf(t)),n=b.useRef(!1),r=Sr(),i=b.useMemo(()=>_T(r.search,n.current?null:e.current),[r.search]),s=z0(),o=b.useCallback((a,l)=>{const u=lf(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var H0={exports:{}},V0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=b;function RT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var PT=typeof Object.is=="function"?Object.is:RT,bT=Hi.useState,NT=Hi.useEffect,xT=Hi.useLayoutEffect,OT=Hi.useDebugValue;function AT(t,e){var n=e(),r=bT({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return xT(function(){i.value=n,i.getSnapshot=e,Ac(i)&&s({inst:i})},[t,n,e]),NT(function(){return Ac(i)&&s({inst:i}),t(function(){Ac(i)&&s({inst:i})})},[t]),OT(n),n}function Ac(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!PT(t,n)}catch{return!0}}function DT(t,e){return e()}var LT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DT:AT;V0.useSyncExternalStore=Hi.useSyncExternalStore!==void 0?Hi.useSyncExternalStore:LT;H0.exports=V0;var MT=H0.exports,q0={exports:{}},Q0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=b,FT=MT;function UT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $T=typeof Object.is=="function"?Object.is:UT,zT=FT.useSyncExternalStore,jT=wu.useRef,BT=wu.useEffect,WT=wu.useMemo,HT=wu.useDebugValue;Q0.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=jT(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=WT(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var v=o.value;if(i(v,h))return d=v}return d=h}if(v=d,$T(c,h))return v;var y=r(h);return i!==void 0&&i(v,y)?v:(c=h,d=y)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=zT(t,s[0],s[1]);return BT(function(){o.hasValue=!0,o.value=a},[a]),HT(a),a};q0.exports=Q0;var VT=q0.exports;function qT(t){t()}let K0=qT;const QT=t=>K0=t,KT=()=>K0,hr=b.createContext(null);function G0(){return b.useContext(hr)}const GT=()=>{throw new Error("uSES not initialized!")};let Y0=GT;const YT=t=>{Y0=t},JT=(t,e)=>t===e;function XT(t=hr){const e=t===hr?G0:()=>b.useContext(t);return function(r,i=JT){const{store:s,subscription:o,getServerState:a}=e(),l=Y0(o.addNestedSub,s.getState,a||s.getState,r,i);return b.useDebugValue(l),l}}const qr=XT();var J0={exports:{}},se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=typeof Symbol=="function"&&Symbol.for,zh=We?Symbol.for("react.element"):60103,jh=We?Symbol.for("react.portal"):60106,Eu=We?Symbol.for("react.fragment"):60107,Su=We?Symbol.for("react.strict_mode"):60108,Cu=We?Symbol.for("react.profiler"):60114,Iu=We?Symbol.for("react.provider"):60109,Tu=We?Symbol.for("react.context"):60110,Bh=We?Symbol.for("react.async_mode"):60111,ku=We?Symbol.for("react.concurrent_mode"):60111,Ru=We?Symbol.for("react.forward_ref"):60112,Pu=We?Symbol.for("react.suspense"):60113,ZT=We?Symbol.for("react.suspense_list"):60120,bu=We?Symbol.for("react.memo"):60115,Nu=We?Symbol.for("react.lazy"):60116,ek=We?Symbol.for("react.block"):60121,tk=We?Symbol.for("react.fundamental"):60117,nk=We?Symbol.for("react.responder"):60118,rk=We?Symbol.for("react.scope"):60119;function Pt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zh:switch(t=t.type,t){case Bh:case ku:case Eu:case Cu:case Su:case Pu:return t;default:switch(t=t&&t.$$typeof,t){case Tu:case Ru:case Nu:case bu:case Iu:return t;default:return e}}case jh:return e}}}function X0(t){return Pt(t)===ku}se.AsyncMode=Bh;se.ConcurrentMode=ku;se.ContextConsumer=Tu;se.ContextProvider=Iu;se.Element=zh;se.ForwardRef=Ru;se.Fragment=Eu;se.Lazy=Nu;se.Memo=bu;se.Portal=jh;se.Profiler=Cu;se.StrictMode=Su;se.Suspense=Pu;se.isAsyncMode=function(t){return X0(t)||Pt(t)===Bh};se.isConcurrentMode=X0;se.isContextConsumer=function(t){return Pt(t)===Tu};se.isContextProvider=function(t){return Pt(t)===Iu};se.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zh};se.isForwardRef=function(t){return Pt(t)===Ru};se.isFragment=function(t){return Pt(t)===Eu};se.isLazy=function(t){return Pt(t)===Nu};se.isMemo=function(t){return Pt(t)===bu};se.isPortal=function(t){return Pt(t)===jh};se.isProfiler=function(t){return Pt(t)===Cu};se.isStrictMode=function(t){return Pt(t)===Su};se.isSuspense=function(t){return Pt(t)===Pu};se.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Eu||t===ku||t===Cu||t===Su||t===Pu||t===ZT||typeof t=="object"&&t!==null&&(t.$$typeof===Nu||t.$$typeof===bu||t.$$typeof===Iu||t.$$typeof===Tu||t.$$typeof===Ru||t.$$typeof===tk||t.$$typeof===nk||t.$$typeof===rk||t.$$typeof===ek)};se.typeOf=Pt;J0.exports=se;var ik=J0.exports,Z0=ik,sk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ok={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ew={};ew[Z0.ForwardRef]=sk;ew[Z0.Memo]=ok;var ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),xu=Symbol.for("react.fragment"),Ou=Symbol.for("react.strict_mode"),Au=Symbol.for("react.profiler"),Du=Symbol.for("react.provider"),Lu=Symbol.for("react.context"),ak=Symbol.for("react.server_context"),Mu=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),Uu=Symbol.for("react.suspense_list"),$u=Symbol.for("react.memo"),zu=Symbol.for("react.lazy"),lk=Symbol.for("react.offscreen"),tw;tw=Symbol.for("react.module.reference");function Ft(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wh:switch(t=t.type,t){case xu:case Au:case Ou:case Fu:case Uu:return t;default:switch(t=t&&t.$$typeof,t){case ak:case Lu:case Mu:case zu:case $u:case Du:return t;default:return e}}case Hh:return e}}}ae.ContextConsumer=Lu;ae.ContextProvider=Du;ae.Element=Wh;ae.ForwardRef=Mu;ae.Fragment=xu;ae.Lazy=zu;ae.Memo=$u;ae.Portal=Hh;ae.Profiler=Au;ae.StrictMode=Ou;ae.Suspense=Fu;ae.SuspenseList=Uu;ae.isAsyncMode=function(){return!1};ae.isConcurrentMode=function(){return!1};ae.isContextConsumer=function(t){return Ft(t)===Lu};ae.isContextProvider=function(t){return Ft(t)===Du};ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wh};ae.isForwardRef=function(t){return Ft(t)===Mu};ae.isFragment=function(t){return Ft(t)===xu};ae.isLazy=function(t){return Ft(t)===zu};ae.isMemo=function(t){return Ft(t)===$u};ae.isPortal=function(t){return Ft(t)===Hh};ae.isProfiler=function(t){return Ft(t)===Au};ae.isStrictMode=function(t){return Ft(t)===Ou};ae.isSuspense=function(t){return Ft(t)===Fu};ae.isSuspenseList=function(t){return Ft(t)===Uu};ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xu||t===Au||t===Ou||t===Fu||t===Uu||t===lk||typeof t=="object"&&t!==null&&(t.$$typeof===zu||t.$$typeof===$u||t.$$typeof===Du||t.$$typeof===Lu||t.$$typeof===Mu||t.$$typeof===tw||t.getModuleId!==void 0)};ae.typeOf=Ft;function uk(){const t=KT();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const wg={notify(){},get:()=>[]};function ck(t,e){let n,r=wg;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=uk())}function u(){n&&(n(),n=void 0,r.clear(),r=wg)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fk=dk?b.useLayoutEffect:b.useEffect;function Eg(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function _l(t,e){if(Eg(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Eg(t[n[i]],e[n[i]]))return!1;return!0}function hk({store:t,context:e,children:n,serverState:r}){const i=b.useMemo(()=>{const a=ck(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=b.useMemo(()=>t.getState(),[t]);fk(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||hr;return le.createElement(o.Provider,{value:i},n)}function nw(t=hr){const e=t===hr?G0:()=>b.useContext(t);return function(){const{store:r}=e();return r}}const rw=nw();function pk(t=hr){const e=t===hr?rw:nw(t);return function(){return e().dispatch}}const Vh=pk();YT(VT.useSyncExternalStoreWithSelector);QT(Lh.unstable_batchedUpdates);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw ns(e)},ns=function(t){return new Error("Firebase Database ("+iw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new gk;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ow=function(t){const e=sw(t);return qh.encodeByteArray(e,!0)},wl=function(t){return ow(t).replace(/\./g,"")},El=function(t){try{return qh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){return aw(void 0,t)}function aw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!yk(n)||(t[n]=aw(t[n],e[n]));return t}function yk(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=()=>_k().__FIREBASE_DEFAULTS__,Ek=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Sk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&El(t[1]);return e&&JSON.parse(e)},Qh=()=>{try{return wk()||Ek()||Sk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lw=t=>{var e,n;return(n=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ck=t=>{const e=lw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uw=()=>{var t;return(t=Qh())===null||t===void 0?void 0:t.config},cw=t=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[wl(JSON.stringify(n)),wl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kk(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fw(){return iw.NODE_ADMIN===!0}function Rk(){try{return typeof indexedDB=="object"}catch{return!1}}function Pk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="FirebaseError";class Cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bk,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Nk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cr(i,a,r)}}function Nk(t,e){return t.replace(xk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t){return JSON.parse(t)}function je(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=go(El(s[0])||""),n=go(El(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Ok=function(t){const e=hw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ak=function(t){const e=hw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function uf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Cl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Sg(s)&&Sg(o)){if(!Cl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Lk(t,e){const n=new Mk(t,e);return n.subscribe.bind(n)}class Mk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Fk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dc),i.error===void 0&&(i.error=Dc),i.complete===void 0&&(i.complete=Dc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dc(){}function Gh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ju;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jk(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zk(t){return t===kr?void 0:t}function jk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $k(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const Wk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Hk=oe.INFO,Vk={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},qk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Vk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=Hk,this._logHandler=qk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const Qk=(t,e)=>e.some(n=>t instanceof n);let Cg,Ig;function Kk(){return Cg||(Cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gk(){return Ig||(Ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pw=new WeakMap,cf=new WeakMap,mw=new WeakMap,Lc=new WeakMap,Jh=new WeakMap;function Yk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(sr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pw.set(n,t)}).catch(()=>{}),Jh.set(e,t),e}function Jk(t){if(cf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cf.set(t,e)}let df={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xk(t){df=t(df)}function Zk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mc(this),e,...n);return mw.set(r,e.sort?e.sort():[e]),sr(r)}:Gk().includes(t)?function(...e){return t.apply(Mc(this),e),sr(pw.get(this))}:function(...e){return sr(t.apply(Mc(this),e))}}function eR(t){return typeof t=="function"?Zk(t):(t instanceof IDBTransaction&&Jk(t),Qk(t,Kk())?new Proxy(t,df):t)}function sr(t){if(t instanceof IDBRequest)return Yk(t);if(Lc.has(t))return Lc.get(t);const e=eR(t);return e!==t&&(Lc.set(t,e),Jh.set(e,t)),e}const Mc=t=>Jh.get(t);function tR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=sr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(sr(o.result),l.oldVersion,l.newVersion,sr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nR=["get","getKey","getAll","getAllKeys","count"],rR=["put","add","delete","clear"],Fc=new Map;function Tg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fc.get(e))return Fc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fc.set(e,s),s}Xk(t=>({...t,get:(e,n,r)=>Tg(e,n)||t.get(e,n,r),has:(e,n)=>!!Tg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ff="@firebase/app",kg="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Yh("@firebase/app"),oR="@firebase/app-compat",aR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",cR="@firebase/app-check",dR="@firebase/auth",fR="@firebase/auth-compat",hR="@firebase/database",pR="@firebase/database-compat",mR="@firebase/functions",gR="@firebase/functions-compat",vR="@firebase/installations",yR="@firebase/installations-compat",_R="@firebase/messaging",wR="@firebase/messaging-compat",ER="@firebase/performance",SR="@firebase/performance-compat",CR="@firebase/remote-config",IR="@firebase/remote-config-compat",TR="@firebase/storage",kR="@firebase/storage-compat",RR="@firebase/firestore",PR="@firebase/firestore-compat",bR="firebase",NR="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="[DEFAULT]",xR={[ff]:"fire-core",[oR]:"fire-core-compat",[lR]:"fire-analytics",[aR]:"fire-analytics-compat",[cR]:"fire-app-check",[uR]:"fire-app-check-compat",[dR]:"fire-auth",[fR]:"fire-auth-compat",[hR]:"fire-rtdb",[pR]:"fire-rtdb-compat",[mR]:"fire-fn",[gR]:"fire-fn-compat",[vR]:"fire-iid",[yR]:"fire-iid-compat",[_R]:"fire-fcm",[wR]:"fire-fcm-compat",[ER]:"fire-perf",[SR]:"fire-perf-compat",[CR]:"fire-rc",[IR]:"fire-rc-compat",[TR]:"fire-gcs",[kR]:"fire-gcs-compat",[RR]:"fire-fst",[PR]:"fire-fst-compat","fire-js":"fire-js",[bR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,pf=new Map;function OR(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qi(t){const e=t.name;if(pf.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;pf.set(e,t);for(const n of Il.values())OR(n,t);return!0}function Xh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},or=new $o("app","Firebase",AR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=NR;function gw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=uw()),!n)throw or.create("no-options");const s=Il.get(i);if(s){if(Cl(n,s.options)&&Cl(r,s.config))return s;throw or.create("duplicate-app",{appName:i})}const o=new Bk(i);for(const l of pf.values())o.addComponent(l);const a=new DR(n,r,o);return Il.set(i,a),a}function vw(t=hf){const e=Il.get(t);if(!e&&t===hf&&uw())return gw();if(!e)throw or.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=(r=xR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(a.join(" "));return}qi(new Qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",MR=1,vo="firebase-heartbeat-store";let Uc=null;function yw(){return Uc||(Uc=tR(LR,MR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vo)}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),Uc}async function FR(t){try{return await(await yw()).transaction(vo).objectStore(vo).get(_w(t))}catch(e){if(e instanceof Cr)Kr.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(n.message)}}}async function Rg(t,e){try{const r=(await yw()).transaction(vo,"readwrite");await r.objectStore(vo).put(e,_w(t)),await r.done}catch(n){if(n instanceof Cr)Kr.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(r.message)}}}function _w(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,$R=30*24*60*60*1e3;class zR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=$R}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pg(),{heartbeatsToSend:n,unsentEntries:r}=jR(this._heartbeatsCache.heartbeats),i=wl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Pg(){return new Date().toISOString().substring(0,10)}function jR(t,e=UR){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rk()?Pk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await FR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bg(t){return wl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t){qi(new Qr("platform-logger",e=>new iR(e),"PRIVATE")),qi(new Qr("heartbeat",e=>new zR(e),"PRIVATE")),ar(ff,kg,t),ar(ff,kg,"esm2017"),ar("fire-js","")}WR("");const Ng="@firebase/database",xg="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ww="";function HR(t){ww=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),je(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:go(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new VR(e)}}catch{}return new qR},Dr=Ew("localStorage"),mf=Ew("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Yh("@firebase/database"),QR=function(){let t=1;return function(){return t++}}(),Sw=function(t){const e=Uk(t),n=new Dk;n.update(e);const r=n.digest();return qh.encodeByteArray(r)},zo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zo.apply(null,r):typeof r=="object"?e+=je(r):e+=r,e+=" "}return e};let $r=null,Og=!0;const KR=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ni.logLevel=oe.VERBOSE,$r=Ni.log.bind(Ni),e&&mf.set("logging_enabled",!0)):typeof t=="function"?$r=t:($r=null,mf.remove("logging_enabled"))},nt=function(...t){if(Og===!0&&(Og=!1,$r===null&&mf.get("logging_enabled")===!0&&KR(!0)),$r){const e=zo.apply(null,t);$r(e)}},jo=function(t){return function(...e){nt(t,...e)}},gf=function(...t){const e="FIREBASE INTERNAL ERROR: "+zo(...t);Ni.error(e)},kn=function(...t){const e=`FIREBASE FATAL ERROR: ${zo(...t)}`;throw Ni.error(e),new Error(e)},vt=function(...t){const e="FIREBASE WARNING: "+zo(...t);Ni.warn(e)},GR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Cw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qi="[MIN_NAME]",Gr="[MAX_NAME]",ss=function(t,e){if(t===e)return 0;if(t===Qi||e===Gr)return-1;if(e===Qi||t===Gr)return 1;{const n=Ag(t),r=Ag(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},JR=function(t,e){return t===e?0:t<e?-1:1},ys=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+je(e))},Zh=function(t){if(typeof t!="object"||t===null)return je(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=je(e[r]),n+=":",n+=Zh(t[e[r]]);return n+="}",n},Iw=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function _t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Tw=function(t){U(!Cw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},XR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function eP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const tP=new RegExp("^-?(0*)\\d{1,10}$"),nP=-2147483648,rP=2147483647,Ag=function(t){if(tP.test(t)){const e=Number(t);if(e>=nP&&e<=rP)return e}return null},os=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},iP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(e)}}class xi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="5",kw="v",Rw="s",Pw="r",bw="f",Nw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xw="ls",Ow="p",vf="ac",Aw="websocket",Dw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function aP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Mw(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===Aw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Dw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);aP(t)&&(n.ns=t.namespace);const i=[];return _t(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.counters_={}}incrementCounter(e,n=1){xn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return vk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c={},zc={};function tp(t){const e=t.toString();return $c[e]||($c[e]=new lP),$c[e]}function uP(t,e){const n=t.toString();return zc[n]||(zc[n]=e()),zc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&os(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="start",dP="close",fP="pLPCommand",hP="pRTLPCB",Fw="id",Uw="pw",$w="ser",pP="cb",mP="seg",gP="ts",vP="d",yP="dframe",zw=1870,jw=30,_P=zw-jw,wP=25e3,EP=3e4;class Si{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jo(e),this.stats_=tp(n),this.urlFn=l=>(this.appCheckToken&&(l[vf]=this.appCheckToken),Mw(n,Dw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(EP)),YR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new np((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Dg)this.id=a,this.password=l;else if(o===dP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Dg]="t",r[$w]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[pP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[kw]=ep,this.transportSessionId&&(r[Rw]=this.transportSessionId),this.lastSessionId&&(r[xw]=this.lastSessionId),this.applicationId&&(r[Ow]=this.applicationId),this.appCheckToken&&(r[vf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Nw.test(location.hostname)&&(r[Pw]=bw);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Si.forceAllow_=!0}static forceDisallow(){Si.forceDisallow_=!0}static isAvailable(){return Si.forceAllow_?!0:!Si.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!XR()&&!ZR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ow(n),i=Iw(r,_P);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[yP]="t",r[Fw]=e,r[Uw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=je(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class np{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=QR(),window[fP+this.uniqueCallbackIdentifier]=e,window[hP+this.uniqueCallbackIdentifier]=n,this.myIFrame=np.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){nt("frame writing exception"),a.stack&&nt(a.stack),nt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Fw]=this.myID,e[Uw]=this.myPW,e[$w]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jw+r.length<=zw;){const o=this.pendingSegs.shift();r=r+"&"+mP+i+"="+o.seg+"&"+gP+i+"="+o.ts+"&"+vP+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(wP)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=16384,CP=45e3;let Tl=null;typeof MozWebSocket<"u"?Tl=MozWebSocket:typeof WebSocket<"u"&&(Tl=WebSocket);class Wt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jo(this.connId),this.stats_=tp(n),this.connURL=Wt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[kw]=ep,typeof location<"u"&&location.hostname&&Nw.test(location.hostname)&&(o[Pw]=bw),n&&(o[Rw]=n),r&&(o[xw]=r),i&&(o[vf]=i),s&&(o[Ow]=s),Mw(e,Aw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dr.set("previous_websocket_failure",!0);try{let r;fw(),this.mySock=new Tl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Tl!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Dr.isInMemoryStorage||Dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Dr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=go(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Iw(n,SP);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Si,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Wt&&Wt.isAvailable();let r=n&&!Wt.previouslyFailed();if(e.webSocketOnly&&(n||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wt];else{const i=this.transports_=[];for(const s of yo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);yo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=6e4,TP=5e3,kP=10*1024,RP=100*1024,jc="t",Lg="d",PP="s",Mg="r",bP="e",Fg="o",Ug="a",$g="n",zg="p",NP="h";class xP{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jo("c:"+this.id+":"),this.transportManager_=new yo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>RP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jc in e){const n=e[jc];n===Ug?this.upgradeIfSecondaryHealthy_():n===Mg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Fg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ys("t",e),r=ys("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ug,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$g,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ys("t",e),r=ys("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ys(jc,e);if(Lg in e){const r=e[Lg];if(n===NP){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===$g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===PP?this.onConnectionShutdown_(r):n===Mg?this.onReset_(r):n===bP?gf("Server Error: "+r):n===Fg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ep!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(IP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Ww{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kl}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=32,Bg=768;class ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function re(){return new ue("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pr(t){return t.pieces_.length-t.pieceNum_}function de(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function Hw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function OP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Vw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function qw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function Le(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function dt(t,e){const n=Y(t),r=Y(e);if(n===null)return e;if(n===r)return dt(de(t),de(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rp(t,e){if(pr(t)!==pr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pr(t)>pr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class AP{constructor(e,n){this.errorPrefix_=n,this.parts_=Vw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Bu(this.parts_[r]);Qw(this)}}function DP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Bu(e),Qw(t)}function LP(t){const e=t.parts_.pop();t.byteLength_-=Bu(e),t.parts_.length>0&&(t.byteLength_-=1)}function Qw(t){if(t.byteLength_>Bg)throw new Error(t.errorPrefix_+"has a key path longer than "+Bg+" bytes ("+t.byteLength_+").");if(t.parts_.length>jg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jg+") or object contains a cycle "+Rr(t))}function Rr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Ww{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new ip}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=1e3,MP=60*5*1e3,Wg=30*1e3,FP=1.3,UP=3e4,$P="server_kill",Hg=3;class En extends Bw{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=En.nextPersistentConnectionId_++,this.log_=jo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_s,this.maxReconnectDelay_=MP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!fw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ip.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&kl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(je(s)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ju,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;En.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xn(e,"w")){const r=Vi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ak(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Wg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Ok(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+je(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):gf("Unrecognized action received from server: "+je(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>UP&&(this.reconnectDelay_=_s),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+En.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new xP(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{vt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt($P)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&vt(d),l())}}}interrupt(e){nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],uf(this.interruptReasons_)&&(this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Zh(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ue(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){nt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hg&&(this.reconnectDelay_=Wg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ww.replace(/\./g,"-")]=1,Kh()?e["framework.cordova"]=1:dw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kl.getInstance().currentlyOnline();return uf(this.interruptReasons_)&&e}}En.nextPersistentConnectionId_=0;En.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(Qi,e),i=new J(Qi,n);return this.compare(r,i)!==0}minPost(){return J.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga;class Kw extends Wu{static get __EMPTY_NODE(){return ga}static set __EMPTY_NODE(e){ga=e}compare(e,n){return ss(e.name,n.name)}isDefinedOn(e){throw ns("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(Gr,ga)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,ga)}toString(){return".key"}}const Oi=new Kw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??ft.EMPTY_NODE,this.right=s??ft.EMPTY_NODE}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ft.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class zP{copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(e,n=ft.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ft(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new ft(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new va(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new va(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new va(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new va(this.root_,null,this.comparator_,!0,e)}}ft.EMPTY_NODE=new zP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t,e){return ss(t.name,e.name)}function sp(t,e){return ss(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf;function BP(t){yf=t}const Gw=function(t){return typeof t=="number"?"number:"+Tw(t):"string:"+t},Yw=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xn(e,".sv"),"Priority must be a string or number.")}else U(t===yf||t.isEmpty(),"priority of unexpected type.");U(t===yf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg;class Ue{constructor(e,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Yw(this.priorityNode_)}static set __childrenNodeConstructor(e){Vg=e}static get __childrenNodeConstructor(){return Vg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Z(e)?this:Y(e)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Y(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||pr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Gw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Tw(this.value_):e+=this.value_,this.lazyHash_=Sw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ue.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ue.VALUE_TYPE_ORDER.indexOf(n),s=Ue.VALUE_TYPE_ORDER.indexOf(r);return U(i>=0,"Unknown leaf type: "+n),U(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jw,Xw;function WP(t){Jw=t}function HP(t){Xw=t}class VP extends Wu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ss(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(Gr,new Ue("[PRIORITY-POST]",Xw))}makePost(e,n){const r=Jw(e);return new J(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new VP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=Math.log(2);class QP{constructor(e){const n=s=>parseInt(Math.log(s)/qP,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rl=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new ze(f,d.node,ze.BLACK,null,null);{const h=parseInt(c/2,10)+l,v=i(l,h),y=i(h+1,u);return d=t[h],f=n?n(d):d,new ze(f,d.node,ze.BLACK,v,y)}},s=function(l){let u=null,c=null,d=t.length;const f=function(v,y){const w=d-v,g=d;d-=v;const p=i(w+1,g),m=t[w],_=n?n(m):m;h(new ze(_,m.node,y,null,p))},h=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<l.count;++v){const y=l.nextBitIsOne(),w=Math.pow(2,l.count-(v+1));y?f(w,ze.BLACK):(f(w,ze.BLACK),f(w,ze.RED))}return c},o=new QP(t.length),a=s(o);return new ft(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;const li={};class vn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(li&&ke,"ChildrenNode.ts has not been loaded"),Bc=Bc||new vn({".priority":li},{".priority":ke}),Bc}get(e){const n=Vi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ft?n:null}hasIndex(e){return xn(this.indexSet_,e.toString())}addIndex(e,n){U(e!==Oi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(J.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Rl(r,e.getCompare()):a=li;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new vn(c,u)}addToIndexes(e,n){const r=Sl(this.indexes_,(i,s)=>{const o=Vi(this.indexSet_,s);if(U(o,"Missing index implementation for "+s),i===li)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(J.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Rl(a,o.getCompare())}else return li;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new J(e.name,a))),l.insert(e,e.node)}});return new vn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Sl(this.indexes_,i=>{if(i===li)return i;{const s=n.get(e.name);return s?i.remove(new J(e.name,s)):i}});return new vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws;class K{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Yw(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ws||(ws=new K(new ft(sp),null,vn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ws}updatePriority(e){return this.children_.isEmpty()?this:new K(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ws:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(de(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new J(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ws:this.priorityNode_;return new K(i,o,s)}}updateChild(e,n){const r=Y(e);if(r===null)return n;{U(Y(e)!==".priority"||pr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(de(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ke,(o,a)=>{n[o]=a.val(e),r++,s&&K.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Gw(this.getPriority().val())+":"),this.forEachChild(ke,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Sw(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new J(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new J(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new J(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,J.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,J.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bo?-1:0}withIndex(e){if(e===Oi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new K(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Oi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ke),i=n.getIterator(ke);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Oi?null:this.indexMap_.get(e.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class KP extends K{constructor(){super(new ft(sp),K.EMPTY_NODE,vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return K.EMPTY_NODE}isEmpty(){return!1}}const Bo=new KP;Object.defineProperties(J,{MIN:{value:new J(Qi,K.EMPTY_NODE)},MAX:{value:new J(Gr,Bo)}});Kw.__EMPTY_NODE=K.EMPTY_NODE;Ue.__childrenNodeConstructor=K;BP(Bo);HP(Bo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=!0;function Qe(t,e=null){if(t===null)return K.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ue(n,Qe(e))}if(!(t instanceof Array)&&GP){const n=[];let r=!1;if(_t(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Qe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new J(o,l)))}}),n.length===0)return K.EMPTY_NODE;const s=Rl(n,jP,o=>o.name,sp);if(r){const o=Rl(n,ke.getCompare());return new K(s,Qe(e),new vn({".priority":o},{".priority":ke}))}else return new K(s,Qe(e),vn.Default)}else{let n=K.EMPTY_NODE;return _t(t,(r,i)=>{if(xn(t,r)&&r.substring(0,1)!=="."){const s=Qe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Qe(e))}}WP(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP extends Wu{constructor(e){super(),this.indexPath_=e,U(!Z(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ss(e.name,n.name):s}makePost(e,n){const r=Qe(e),i=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,i)}maxPost(){const e=K.EMPTY_NODE.updateChild(this.indexPath_,Bo);return new J(Gr,e)}toString(){return Vw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends Wu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ss(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=Qe(e);return new J(n,r)}toString(){return".value"}}const XP=new JP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t){return{type:"value",snapshotNode:t}}function Ki(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _o(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function wo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ZP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(_o(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ki(n,r)):o.trackChildChange(wo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ke,(i,s)=>{n.hasChild(i)||r.trackChildChange(_o(i,s))}),n.isLeafNode()||n.forEachChild(ke,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(wo(i,s,o))}else r.trackChildChange(Ki(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?K.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.indexedFilter_=new op(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Eo.getStartPost_(e),this.endPost_=Eo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new J(n,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=K.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(K.EMPTY_NODE);const s=this;return n.forEachChild(ke,(o,a)=>{s.matches(new J(o,a))||(i=i.updateImmediateChild(o,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Eo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new J(n,r))||(r=K.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=K.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(K.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new J(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(c&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(wo(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(_o(n,d));const y=a.updateImmediateChild(n,K.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Ki(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(_o(u.name,u.node)),s.trackChildChange(Ki(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,K.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qi}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const e=new ap;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tb(t){return t.loadsAllData()?new op(t.getIndex()):t.hasLimit()?new eb(t):new Eo(t)}function qg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===XP?n="$value":t.index_===Oi?n="$key":(U(t.index_ instanceof YP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=je(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=je(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+je(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=je(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+je(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Qg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Bw{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Pl.getListenId_(e,r),a={};this.listens_[o]=a;const l=qg(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Vi(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Pl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=qg(e._queryParams),r=e._path.toString(),i=new ju;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rs(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=go(a.responseText)}catch{vt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&vt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){return{value:null,children:new Map}}function eE(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,bl());const i=t.children.get(r);e=de(e),eE(i,e,n)}}function _f(t,e,n){t.value!==null?n(e,t.value):rb(t,(r,i)=>{const s=new ue(e.toString()+"/"+r);_f(i,s,n)})}function rb(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&_t(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=10*1e3,sb=30*1e3,ob=5*60*1e3;class ab{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ib(e);const r=Kg+(sb-Kg)*Math.random();zs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;_t(e,(i,s)=>{s>0&&xn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),zs(this.reportStats_.bind(this),Math.floor(Math.random()*2*ob))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vt||(Vt={}));function tE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function up(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vt.ACK_USER_WRITE,this.source=tE()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new Nl(re(),n,this.revert)}}else return U(Y(this.path)===e,"operationForChild called for unrelated child."),new Nl(de(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.source=e,this.path=n,this.type=Vt.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new So(this.source,re()):new So(this.source,de(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vt.OVERWRITE}operationForChild(e){return Z(this.path)?new Yr(this.source,re(),this.snap.getImmediateChild(e)):new Yr(this.source,de(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vt.MERGE}operationForChild(e){if(Z(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new Yr(this.source,re(),n.value):new Co(this.source,re(),n)}else return U(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Co(this.source,de(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ub(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ZP(o.childName,o.snapshotNode))}),Es(t,i,"child_removed",e,r,n),Es(t,i,"child_added",e,r,n),Es(t,i,"child_moved",s,r,n),Es(t,i,"child_changed",e,r,n),Es(t,i,"value",e,r,n),i}function Es(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>db(t,a,l)),o.forEach(a=>{const l=cb(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function cb(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function db(t,e,n){if(e.childName==null||n.childName==null)throw ns("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),i=new J(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e){return{eventCache:t,serverCache:e}}function js(t,e,n,r){return Hu(new Jr(e,n,r),t.serverCache)}function nE(t,e,n,r){return Hu(t.eventCache,new Jr(e,n,r))}function wf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc;const fb=()=>(Wc||(Wc=new ft(JR)),Wc);class pe{constructor(e,n=fb()){this.value=e,this.children=n}static fromObject(e){let n=new pe(null);return _t(e,(r,i)=>{n=n.set(new ue(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(Z(e))return null;{const r=Y(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(de(e),n);return s!=null?{path:Le(new ue(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{const n=Y(e),r=this.children.get(n);return r!==null?r.subtree(de(e)):new pe(null)}}set(e,n){if(Z(e))return new pe(n,this.children);{const r=Y(e),s=(this.children.get(r)||new pe(null)).set(de(e),n),o=this.children.insert(r,s);return new pe(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(de(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pe(null):new pe(this.value,s)}else return this}}get(e){if(Z(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(de(e)):null}}setTree(e,n){if(Z(e))return n;{const r=Y(e),s=(this.children.get(r)||new pe(null)).setTree(de(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new pe(this.value,o)}}fold(e){return this.fold_(re(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Le(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Z(e))return null;{const s=Y(e),o=this.children.get(s);return o?o.findOnPath_(de(e),Le(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);const i=Y(e),s=this.children.get(i);return s?s.foreachOnPath_(de(e),Le(n,i),r):new pe(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Le(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new pe(null))}}function Bs(t,e,n){if(Z(e))return new Kt(new pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=dt(i,e);return s=s.updateChild(o,n),new Kt(t.writeTree_.set(i,s))}else{const i=new pe(n),s=t.writeTree_.setTree(e,i);return new Kt(s)}}}function Gg(t,e,n){let r=t;return _t(n,(i,s)=>{r=Bs(r,Le(e,i),s)}),r}function Yg(t,e){if(Z(e))return Kt.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new Kt(n)}}function Ef(t,e){return ii(t,e)!=null}function ii(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dt(n.path,e)):null}function Jg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{e.push(new J(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new J(r,i.value))}),e}function lr(t,e){if(Z(e))return t;{const n=ii(t,e);return n!=null?new Kt(new pe(n)):new Kt(t.writeTree_.subtree(e))}}function Sf(t){return t.writeTree_.isEmpty()}function Gi(t,e){return rE(re(),t.writeTree_,e)}function rE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(U(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=rE(Le(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Le(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t,e){return aE(e,t)}function hb(t,e,n,r,i){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Bs(t.visibleWrites,e,n)),t.lastWriteId=r}function pb(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function mb(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&gb(a,r.path)?i=!1:Ht(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return vb(t),!0;if(r.snap)t.visibleWrites=Yg(t.visibleWrites,r.path);else{const a=r.children;_t(a,l=>{t.visibleWrites=Yg(t.visibleWrites,Le(r.path,l))})}return!0}else return!1}function gb(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(Le(t.path,n),e))return!0;return!1}function vb(t){t.visibleWrites=iE(t.allWrites,yb,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yb(t){return t.visible}function iE(t,e,n){let r=Kt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ht(n,o)?(a=dt(n,o),r=Bs(r,a,s.snap)):Ht(o,n)&&(a=dt(o,n),r=Bs(r,re(),s.snap.getChild(a)));else if(s.children){if(Ht(n,o))a=dt(n,o),r=Gg(r,a,s.children);else if(Ht(o,n))if(a=dt(o,n),Z(a))r=Gg(r,re(),s.children);else{const l=Vi(s.children,Y(a));if(l){const u=l.getChild(de(a));r=Bs(r,re(),u)}}}else throw ns("WriteRecord should have .snap or .children")}}return r}function sE(t,e,n,r,i){if(!r&&!i){const s=ii(t.visibleWrites,e);if(s!=null)return s;{const o=lr(t.visibleWrites,e);if(Sf(o))return n;if(n==null&&!Ef(o,re()))return null;{const a=n||K.EMPTY_NODE;return Gi(o,a)}}}else{const s=lr(t.visibleWrites,e);if(!i&&Sf(s))return n;if(!i&&n==null&&!Ef(s,re()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ht(u.path,e)||Ht(e,u.path))},a=iE(t.allWrites,o,e),l=n||K.EMPTY_NODE;return Gi(a,l)}}}function _b(t,e,n){let r=K.EMPTY_NODE;const i=ii(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=lr(t.visibleWrites,e);return n.forEachChild(ke,(o,a)=>{const l=Gi(lr(s,new ue(o)),a);r=r.updateImmediateChild(o,l)}),Jg(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=lr(t.visibleWrites,e);return Jg(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wb(t,e,n,r,i){U(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Le(e,n);if(Ef(t.visibleWrites,s))return null;{const o=lr(t.visibleWrites,s);return Sf(o)?i.getChild(n):Gi(o,i.getChild(n))}}function Eb(t,e,n,r){const i=Le(e,n),s=ii(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=lr(t.visibleWrites,i);return Gi(o,r.getNode().getImmediateChild(n))}else return null}function Sb(t,e){return ii(t.visibleWrites,e)}function Cb(t,e,n,r,i,s,o){let a;const l=lr(t.visibleWrites,e),u=ii(l,re());if(u!=null)a=u;else if(n!=null)a=Gi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function Ib(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function xl(t,e,n,r){return sE(t.writeTree,t.treePath,e,n,r)}function dp(t,e){return _b(t.writeTree,t.treePath,e)}function Xg(t,e,n,r){return wb(t.writeTree,t.treePath,e,n,r)}function Ol(t,e){return Sb(t.writeTree,Le(t.treePath,e))}function Tb(t,e,n,r,i,s){return Cb(t.writeTree,t.treePath,e,n,r,i,s)}function fp(t,e,n){return Eb(t.writeTree,t.treePath,e,n)}function oE(t,e){return aE(Le(t.treePath,e),t.writeTree)}function aE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,wo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_o(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ki(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,wo(r,e.snapshotNode,i.oldSnap));else throw ns("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const lE=new Rb;class hp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Jr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xr(this.viewCache_),s=Tb(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){return{filter:t}}function bb(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Nb(t,e,n,r,i){const s=new kb;let o,a;if(n.type===Vt.OVERWRITE){const u=n;u.source.fromUser?o=Cf(t,e,u.path,u.snap,r,i,s):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Z(u.path),o=Al(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Vt.MERGE){const u=n;u.source.fromUser?o=Ob(t,e,u.path,u.children,r,i,s):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=If(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Vt.ACK_USER_WRITE){const u=n;u.revert?o=Lb(t,e,u.path,r,i,s):o=Ab(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Vt.LISTEN_COMPLETE)o=Db(t,e,n.path,r,s);else throw ns("Unknown operation type: "+n.type);const l=s.getChanges();return xb(e,o,l),{viewCache:o,changes:l}}function xb(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=wf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Zw(wf(e)))}}function uE(t,e,n,r,i,s){const o=e.eventCache;if(Ol(r,n)!=null)return e;{let a,l;if(Z(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Xr(e),c=u instanceof K?u:K.EMPTY_NODE,d=dp(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=xl(r,Xr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Y(n);if(u===".priority"){U(pr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=Xg(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=de(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=Xg(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=fp(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return js(e,a,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function Al(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Z(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=Y(n);if(!l.isCompleteForPath(n)&&pr(n)>1)return e;const v=de(n),w=l.getNode().getImmediateChild(h).updateChild(v,r);h===".priority"?u=c.updatePriority(l.getNode(),w):u=c.updateChild(l.getNode(),h,w,v,lE,null)}const d=nE(e,u,l.isFullyInitialized()||Z(n),c.filtersNodes()),f=new hp(i,d,s);return uE(t,d,n,i,f,a)}function Cf(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new hp(i,e,s);if(Z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=js(e,u,!0,t.filter.filtersNodes());else{const d=Y(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=js(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=de(n),h=a.getNode().getImmediateChild(d);let v;if(Z(f))v=r;else{const y=c.getCompleteChild(d);y!=null?Hw(f)===".priority"&&y.getChild(qw(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=K.EMPTY_NODE}if(h.equals(v))l=e;else{const y=t.filter.updateChild(a.getNode(),d,v,f,c,o);l=js(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Zg(t,e){return t.eventCache.isCompleteForChild(e)}function Ob(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Le(n,l);Zg(e,Y(c))&&(a=Cf(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Le(n,l);Zg(e,Y(c))||(a=Cf(t,a,c,u,i,s,o))}),a}function ev(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function If(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Z(n)?u=r:u=new pe(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),v=ev(t,h,f);l=Al(t,l,new ue(d),v,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const v=e.serverCache.getNode().getImmediateChild(d),y=ev(t,v,f);l=Al(t,l,new ue(d),y,i,s,o,a)}}),l}function Ab(t,e,n,r,i,s,o){if(Ol(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Al(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Z(n)){let u=new pe(null);return l.getNode().forEachChild(Oi,(c,d)=>{u=u.set(new ue(c),d)}),If(t,e,n,u,i,s,a,o)}else return e}else{let u=new pe(null);return r.foreach((c,d)=>{const f=Le(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),If(t,e,n,u,i,s,a,o)}}function Db(t,e,n,r,i){const s=e.serverCache,o=nE(e,s.getNode(),s.isFullyInitialized()||Z(n),s.isFiltered());return uE(t,o,n,r,lE,i)}function Lb(t,e,n,r,i,s){let o;if(Ol(r,n)!=null)return e;{const a=new hp(r,e,i),l=e.eventCache.getNode();let u;if(Z(n)||Y(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=xl(r,Xr(e));else{const d=e.serverCache.getNode();U(d instanceof K,"serverChildren would be complete if leaf node"),c=dp(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Y(n);let d=fp(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,de(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,K.EMPTY_NODE,de(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=xl(r,Xr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ol(r,re())!=null,js(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new op(r.getIndex()),s=tb(r);this.processor_=Pb(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(K.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(K.EMPTY_NODE,a.getNode(),null),c=new Jr(l,o.isFullyInitialized(),i.filtersNodes()),d=new Jr(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Hu(d,c),this.eventGenerator_=new lb(this.query_)}get query(){return this.query_}}function Fb(t){return t.viewCache_.serverCache.getNode()}function Ub(t,e){const n=Xr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function tv(t){return t.eventRegistrations_.length===0}function $b(t,e){t.eventRegistrations_.push(e)}function nv(t,e,n){const r=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function rv(t,e,n,r){e.type===Vt.MERGE&&e.source.queryId!==null&&(U(Xr(t.viewCache_),"We should always have a full cache before handling merges"),U(wf(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Nb(t.processor_,i,e,n,r);return bb(t.processor_,s.viewCache),U(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,cE(t,s.changes,s.viewCache.eventCache.getNode(),null)}function zb(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ke,(s,o)=>{r.push(Ki(s,o))}),n.isFullyInitialized()&&r.push(Zw(n.getNode())),cE(t,r,n.getNode(),e)}function cE(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return ub(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl;class jb{constructor(){this.views=new Map}}function Bb(t){U(!Dl,"__referenceConstructor has already been defined"),Dl=t}function Wb(){return U(Dl,"Reference.ts has not been loaded"),Dl}function Hb(t){return t.views.size===0}function pp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return U(s!=null,"SyncTree gave us an op for an invalid query."),rv(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(rv(o,e,n,r));return s}}function Vb(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=xl(n,i?r:null),l=!1;a?l=!0:r instanceof K?(a=dp(n,r),l=!1):(a=K.EMPTY_NODE,l=!1);const u=Hu(new Jr(a,l,!1),new Jr(r,i,!1));return new Mb(e,u)}return o}function qb(t,e,n,r,i,s){const o=Vb(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),$b(o,n),zb(o,n)}function Qb(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=mr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(nv(u,n,r)),tv(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(nv(l,n,r)),tv(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!mr(t)&&s.push(new(Wb())(e._repo,e._path)),{removed:s,events:o}}function dE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ai(t,e){let n=null;for(const r of t.views.values())n=n||Ub(r,e);return n}function fE(t,e){if(e._queryParams.loadsAllData())return Vu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function hE(t,e){return fE(t,e)!=null}function mr(t){return Vu(t)!=null}function Vu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll;function Kb(t){U(!Ll,"__referenceConstructor has already been defined"),Ll=t}function Gb(){return U(Ll,"Reference.ts has not been loaded"),Ll}let Yb=1;class iv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=Ib(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pE(t,e,n,r,i){return hb(t.pendingWriteTree_,e,n,r,i),i?Wo(t,new Yr(tE(),e,n)):[]}function Lr(t,e,n=!1){const r=pb(t.pendingWriteTree_,e);if(mb(t.pendingWriteTree_,e)){let s=new pe(null);return r.snap!=null?s=s.set(re(),!0):_t(r.children,o=>{s=s.set(new ue(o),!0)}),Wo(t,new Nl(r.path,s,n))}else return[]}function qu(t,e,n){return Wo(t,new Yr(lp(),e,n))}function Jb(t,e,n){const r=pe.fromObject(n);return Wo(t,new Co(lp(),e,r))}function Xb(t,e){return Wo(t,new So(lp(),e))}function Zb(t,e,n){const r=gp(t,n);if(r){const i=vp(r),s=i.path,o=i.queryId,a=dt(s,e),l=new So(up(o),a);return yp(t,s,l)}else return[]}function Tf(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||hE(o,e))){const l=Qb(o,e,n,r);Hb(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>mr(h));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=nN(f);for(let v=0;v<h.length;++v){const y=h[v],w=y.query,g=vE(t,y);t.listenProvider_.startListening(Ws(w),Ml(t,w),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Ws(e),null):u.forEach(f=>{const h=t.queryToTagMap.get(Qu(f));t.listenProvider_.stopListening(Ws(f),h)}))}rN(t,u)}return a}function eN(t,e,n,r){const i=gp(t,r);if(i!=null){const s=vp(i),o=s.path,a=s.queryId,l=dt(o,e),u=new Yr(up(a),l,n);return yp(t,o,u)}else return[]}function tN(t,e,n,r){const i=gp(t,r);if(i){const s=vp(i),o=s.path,a=s.queryId,l=dt(o,e),u=pe.fromObject(n),c=new Co(up(a),l,u);return yp(t,o,c)}else return[]}function sv(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const v=dt(f,i);s=s||Ai(h,v),o=o||mr(h)});let a=t.syncPointTree_.get(i);a?(o=o||mr(a),s=s||Ai(a,re())):(a=new jb,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=K.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,v)=>{const y=Ai(v,re());y&&(s=s.updateImmediateChild(h,y))}));const u=hE(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=Qu(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=iN();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const c=cp(t.pendingWriteTree_,i);let d=qb(a,e,n,c,s,l);if(!u&&!o&&!r){const f=fE(a,e);d=d.concat(sN(t,e,f))}return d}function mp(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=dt(o,e),u=Ai(a,l);if(u)return u});return sE(i,e,s,n,!0)}function Wo(t,e){return mE(e,t.syncPointTree_,null,cp(t.pendingWriteTree_,re()))}function mE(t,e,n,r){if(Z(t.path))return gE(t,e,n,r);{const i=e.get(re());n==null&&i!=null&&(n=Ai(i,re()));let s=[];const o=Y(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=oE(r,o);s=s.concat(mE(a,l,u,c))}return i&&(s=s.concat(pp(i,t,r,n))),s}}function gE(t,e,n,r){const i=e.get(re());n==null&&i!=null&&(n=Ai(i,re()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=oE(r,o),c=t.operationForChild(o);c&&(s=s.concat(gE(c,a,l,u)))}),i&&(s=s.concat(pp(i,t,r,n))),s}function vE(t,e){const n=e.query,r=Ml(t,n);return{hashFn:()=>(Fb(e)||K.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Zb(t,n._path,r):Xb(t,n._path);{const s=eP(i,n);return Tf(t,n,null,s)}}}}function Ml(t,e){const n=Qu(e);return t.queryToTagMap.get(n)}function Qu(t){return t._path.toString()+"$"+t._queryIdentifier}function gp(t,e){return t.tagToQueryMap.get(e)}function vp(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function yp(t,e,n){const r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");const i=cp(t.pendingWriteTree_,e);return pp(r,n,i,null)}function nN(t){return t.fold((e,n,r)=>{if(n&&mr(n))return[Vu(n)];{let i=[];return n&&(i=dE(n)),_t(r,(s,o)=>{i=i.concat(o)}),i}})}function Ws(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Gb())(t._repo,t._path):t}function rN(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Qu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function iN(){return Yb++}function sN(t,e,n){const r=e._path,i=Ml(t,e),s=vE(t,n),o=t.listenProvider_.startListening(Ws(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)U(!mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!Z(u)&&c&&mr(c))return[Vu(c).query];{let f=[];return c&&(f=f.concat(dE(c).map(h=>h.query))),_t(d,(h,v)=>{f=f.concat(v)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Ws(c),Ml(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _p(n)}node(){return this.node_}}class wp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Le(this.path_,e);return new wp(this.syncTree_,n)}node(){return mp(this.syncTree_,this.path_)}}const oN=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ov=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return aN(t[".sv"],e,n);if(typeof t[".sv"]=="object")return lN(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},aN=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},lN=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const i=e.node();if(U(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},uN=function(t,e,n,r){return Ep(e,new wp(n,t),r)},yE=function(t,e,n){return Ep(t,new _p(e),n)};function Ep(t,e,n){const r=t.getPriority().val(),i=ov(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=ov(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ue(a,Qe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ue(i))),o.forEachChild(ke,(a,l)=>{const u=Ep(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Cp(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=Y(n);for(;i!==null;){const s=Vi(r.node.children,i)||{children:{},childCount:0};r=new Sp(i,r,s),n=de(n),i=Y(n)}return r}function as(t){return t.node.value}function _E(t,e){t.node.value=e,kf(t)}function wE(t){return t.node.childCount>0}function cN(t){return as(t)===void 0&&!wE(t)}function Ku(t,e){_t(t.node.children,(n,r)=>{e(new Sp(n,t,r))})}function EE(t,e,n,r){n&&!r&&e(t),Ku(t,i=>{EE(i,e,!0,r)}),n&&r&&e(t)}function dN(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ho(t){return new ue(t.parent===null?t.name:Ho(t.parent)+"/"+t.name)}function kf(t){t.parent!==null&&fN(t.parent,t.name,t)}function fN(t,e,n){const r=cN(n),i=xn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,kf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,kf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=/[\[\].#$\/\u0000-\u001F\u007F]/,pN=/[\[\].#$\u0000-\u001F\u007F]/,Hc=10*1024*1024,SE=function(t){return typeof t=="string"&&t.length!==0&&!hN.test(t)},CE=function(t){return typeof t=="string"&&t.length!==0&&!pN.test(t)},mN=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),CE(t)},gN=function(t,e,n,r){r&&e===void 0||Ip(Gh(t,"value"),e,n)},Ip=function(t,e,n){const r=n instanceof ue?new AP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Rr(r)+" with contents = "+e.toString());if(Cw(e))throw new Error(t+"contains "+e.toString()+" "+Rr(r));if(typeof e=="string"&&e.length>Hc/3&&Bu(e)>Hc)throw new Error(t+"contains a string greater than "+Hc+" utf8 bytes "+Rr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(_t(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!SE(o)))throw new Error(t+" contains an invalid key ("+o+") "+Rr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);DP(r,o),Ip(t,a,r),LP(r)}),i&&s)throw new Error(t+' contains ".value" child '+Rr(r)+" in addition to actual children.")}},IE=function(t,e,n,r){if(!(r&&n===void 0)&&!CE(n))throw new Error(Gh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vN=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),IE(t,e,n,r)},yN=function(t,e){if(Y(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_N=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!SE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!mN(n))throw new Error(Gh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tp(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!rp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function TE(t,e,n){Tp(t,n),kE(t,r=>rp(r,e))}function Rn(t,e,n){Tp(t,n),kE(t,r=>Ht(r,e)||Ht(e,r))}function kE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(EN(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function EN(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();$r&&nt("event: "+n.toString()),os(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="repo_interrupt",CN=25;class IN{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bl(),this.transactionQueueTree_=new Sp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TN(t,e,n){if(t.stats_=tp(t.repoInfo_),t.forceRestClient_||iP())t.server_=new Pl(t.repoInfo_,(r,i,s,o)=>{av(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new En(t.repoInfo_,e,(r,i,s,o)=>{av(t,r,i,s,o)},r=>{lv(t,r)},r=>{RN(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=uP(t.repoInfo_,()=>new ab(t.stats_,t.server_)),t.infoData_=new nb,t.infoSyncTree_=new iv({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=qu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Rp(t,"connected",!1),t.serverSyncTree_=new iv({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Rn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function kN(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function kp(t){return oN({timestamp:kN(t)})}function av(t,e,n,r,i){t.dataUpdateCount++;const s=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Sl(n,u=>Qe(u));o=tN(t.serverSyncTree_,s,l,i)}else{const l=Qe(n);o=eN(t.serverSyncTree_,s,l,i)}else if(r){const l=Sl(n,u=>Qe(u));o=Jb(t.serverSyncTree_,s,l)}else{const l=Qe(n);o=qu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Gu(t,s)),Rn(t.eventQueue_,a,o)}function lv(t,e){Rp(t,"connected",e),e===!1&&bN(t)}function RN(t,e){_t(e,(n,r)=>{Rp(t,n,r)})}function Rp(t,e,n){const r=new ue("/.info/"+e),i=Qe(n);t.infoData_.updateSnapshot(r,i);const s=qu(t.infoSyncTree_,r,i);Rn(t.eventQueue_,r,s)}function RE(t){return t.nextWriteId_++}function PN(t,e,n,r,i){Pp(t,"set",{path:e.toString(),value:n,priority:r});const s=kp(t),o=Qe(n,r),a=mp(t.serverSyncTree_,e),l=yE(o,a,s),u=RE(t),c=pE(t.serverSyncTree_,e,l,u,!0);Tp(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const v=f==="ok";v||vt("set at "+e+" failed: "+f);const y=Lr(t.serverSyncTree_,u,!v);Rn(t.eventQueue_,e,y),ON(t,i,f,h)});const d=OE(t,e);Gu(t,d),Rn(t.eventQueue_,d,[])}function bN(t){Pp(t,"onDisconnectEvents");const e=kp(t),n=bl();_f(t.onDisconnect_,re(),(i,s)=>{const o=uN(i,s,t.serverSyncTree_,e);eE(n,i,o)});let r=[];_f(n,re(),(i,s)=>{r=r.concat(qu(t.serverSyncTree_,i,s));const o=OE(t,i);Gu(t,o)}),t.onDisconnect_=bl(),Rn(t.eventQueue_,re(),r)}function NN(t,e,n){let r;Y(e._path)===".info"?r=sv(t.infoSyncTree_,e,n):r=sv(t.serverSyncTree_,e,n),TE(t.eventQueue_,e._path,r)}function uv(t,e,n){let r;Y(e._path)===".info"?r=Tf(t.infoSyncTree_,e,n):r=Tf(t.serverSyncTree_,e,n),TE(t.eventQueue_,e._path,r)}function xN(t){t.persistentConnection_&&t.persistentConnection_.interrupt(SN)}function Pp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nt(n,...e)}function ON(t,e,n,r){e&&os(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function PE(t,e,n){return mp(t.serverSyncTree_,e,n)||K.EMPTY_NODE}function bp(t,e=t.transactionQueueTree_){if(e||Yu(t,e),as(e)){const n=NE(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&AN(t,Ho(e),n)}else wE(e)&&Ku(e,n=>{bp(t,n)})}function AN(t,e,n){const r=n.map(u=>u.currentWriteId),i=PE(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];U(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=dt(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Pp(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Lr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Yu(t,Cp(t.transactionQueueTree_,e)),bp(t,t.transactionQueueTree_),Rn(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)os(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{vt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Gu(t,e)}},o)}function Gu(t,e){const n=bE(t,e),r=Ho(n),i=NE(t,n);return DN(t,i,r),r}function DN(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=dt(n,l.path);let c=!1,d;if(U(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Lr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=CN)c=!0,d="maxretry",i=i.concat(Lr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=PE(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Ip("transaction failed: Data returned ",h,l.path);let v=Qe(h);typeof h=="object"&&h!=null&&xn(h,".priority")||(v=v.updatePriority(f.getPriority()));const w=l.currentWriteId,g=kp(t),p=yE(v,f,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=p,l.currentWriteId=RE(t),o.splice(o.indexOf(w),1),i=i.concat(pE(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(Lr(t.serverSyncTree_,w,!0))}else c=!0,d="nodata",i=i.concat(Lr(t.serverSyncTree_,l.currentWriteId,!0))}Rn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Yu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)os(r[a]);bp(t,t.transactionQueueTree_)}function bE(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);n!==null&&as(r)===void 0;)r=Cp(r,n),e=de(e),n=Y(e);return r}function NE(t,e){const n=[];return xE(t,e,n),n.sort((r,i)=>r.order-i.order),n}function xE(t,e,n){const r=as(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ku(e,i=>{xE(t,i,n)})}function Yu(t,e){const n=as(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,_E(e,n.length>0?n:void 0)}Ku(e,r=>{Yu(t,r)})}function OE(t,e){const n=Ho(bE(t,e)),r=Cp(t.transactionQueueTree_,e);return dN(r,i=>{Vc(t,i)}),Vc(t,r),EE(r,i=>{Vc(t,i)}),n}function Vc(t,e){const n=as(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Lr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?_E(e,void 0):n.length=s+1,Rn(t.eventQueue_,Ho(e),i);for(let o=0;o<r.length;o++)os(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function MN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const cv=function(t,e){const n=FN(t),r=n.namespace;n.domain==="firebase.com"&&kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GR();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Lw(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ue(n.pathString)}},FN=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=LN(t.substring(c,d)));const f=MN(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+je(this.snapshot.exportVal())}}class DE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:Hw(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){const e=Qg(this._queryParams),n=Zh(e);return n==="{}"?"default":n}get _queryObject(){return Qg(this._queryParams)}isEqual(e){if(e=Ut(e),!(e instanceof Np))return!1;const n=this._repo===e._repo,r=rp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+OP(this._path)}}class On extends Np{constructor(e,n){super(e,n,new ap,!1)}get parent(){const e=qw(this._path);return e===null?null:new On(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Io{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=Fl(this.ref,e);return new Io(this._node.getChild(n),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Io(i,Fl(this.ref,r),ke)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fa(t,e){return t=Ut(t),t._checkNotDeleted("ref"),e!==void 0?Fl(t._root,e):t._root}function Fl(t,e){return t=Ut(t),Y(t._path)===null?vN("child","path",e,!1):IE("child","path",e,!1),new On(t._repo,Le(t._path,e))}function dv(t,e){t=Ut(t),yN("set",t._path),gN("set",e,t._path,!1);const n=new ju;return PN(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class xp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new AE("value",this,new Io(e.snapshotNode,new On(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new DE(this,e,n):null}matches(e){return e instanceof xp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Op{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new DE(this,e,n):null}createEvent(e,n){U(e.childName!=null,"Child events should have a childName.");const r=Fl(new On(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new AE(e.type,this,new Io(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Op?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function $N(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{uv(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new UN(n,s||void 0),a=e==="value"?new xp(o):new Op(e,o);return NN(t._repo,t,a),()=>uv(t._repo,t,a)}function LE(t,e,n,r){return $N(t,"value",e,n,r)}Bb(On);Kb(On);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="FIREBASE_DATABASE_EMULATOR_HOST",Rf={};let jN=!1;function BN(t,e,n,r){t.repoInfo_=new Lw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function WN(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=cv(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[zN]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=cv(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new xi(xi.OWNER):new oP(t.name,t.options,e);_N("Invalid Firebase Database URL",o),Z(o.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=VN(a,t,c,new sP(t.name,n));return new qN(d,t)}function HN(t,e){const n=Rf[e];(!n||n[t.key]!==t)&&kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),xN(t),delete n[t.key]}function VN(t,e,n,r){let i=Rf[e.name];i||(i={},Rf[e.name]=i);let s=i[t.toURLString()];return s&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new IN(t,jN,n,r),i[t.toURLString()]=s,s}class qN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(TN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kn("Cannot call "+e+" on a deleted database.")}}function Ap(t=vw(),e){const n=Xh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Ck("database");r&&QN(n,...r)}return n}function QN(t,e,n,r={}){t=Ut(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xi(xi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Ik(r.mockUserToken,t.app.options.projectId);s=new xi(o)}BN(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){HR(is),qi(new Qr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return WN(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ar(Ng,xg,t),ar(Ng,xg,"esm2017")}En.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};En.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KN();function ME(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=ME(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Gn(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=ME(t))&&(r&&(r+=" "),r+=e);return r}const Hs=t=>typeof t=="number"&&!isNaN(t),Zr=t=>typeof t=="string",ht=t=>typeof t=="function",Ua=t=>Zr(t)||ht(t)?t:null,qc=t=>b.isValidElement(t)||Zr(t)||ht(t)||Hs(t);function GN(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Ju(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:f}=o;const h=r?`${e}--${l}`:e,v=r?`${n}--${l}`:n,y=b.useRef(0);return b.useLayoutEffect(()=>{const w=d.current,g=h.split(" "),p=m=>{m.target===d.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",p),w.removeEventListener("animationcancel",p),y.current===0&&m.type!=="animationcancel"&&w.classList.remove(...g))};w.classList.add(...g),w.addEventListener("animationend",p),w.addEventListener("animationcancel",p)},[]),b.useEffect(()=>{const w=d.current,g=()=>{w.removeEventListener("animationend",g),i?GN(w,c,s):c()};f||(u?g():(y.current=1,w.className+=` ${v}`,w.addEventListener("animationend",g)))},[f]),le.createElement(le.Fragment,null,a)}}function fv(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Nt={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},ya=t=>{let{theme:e,type:n,...r}=t;return le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Qc={info:function(t){return le.createElement(ya,{...t},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return le.createElement(ya,{...t},le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return le.createElement(ya,{...t},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return le.createElement(ya,{...t},le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return le.createElement("div",{className:"Toastify__spinner"})}};function YN(t){const[,e]=b.useReducer(h=>h+1,0),[n,r]=b.useState([]),i=b.useRef(null),s=b.useRef(new Map).current,o=h=>n.indexOf(h)!==-1,a=b.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:h=>s.get(h)}).current;function l(h){let{containerId:v}=h;const{limit:y}=a.props;!y||v&&a.containerId!==v||(a.count-=a.queue.length,a.queue=[])}function u(h){r(v=>h==null?[]:v.filter(y=>y!==h))}function c(){const{toastContent:h,toastProps:v,staleId:y}=a.queue.shift();f(h,v,y)}function d(h,v){let{delay:y,staleId:w,...g}=v;if(!qc(h)||function(P){return!i.current||a.props.enableMultiContainer&&P.containerId!==a.props.containerId||s.has(P.toastId)&&P.updateId==null}(g))return;const{toastId:p,updateId:m,data:_}=g,{props:E}=a,S=()=>u(p),C=m==null;C&&a.count++;const I={...E,style:E.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(g).filter(P=>{let[N,D]=P;return D!=null})),toastId:p,updateId:m,data:_,closeToast:S,isIn:!1,className:Ua(g.className||E.toastClassName),bodyClassName:Ua(g.bodyClassName||E.bodyClassName),progressClassName:Ua(g.progressClassName||E.progressClassName),autoClose:!g.isLoading&&(R=g.autoClose,T=E.autoClose,R===!1||Hs(R)&&R>0?R:T),deleteToast(){const P=fv(s.get(p),"removed");s.delete(p),Nt.emit(4,P);const N=a.queue.length;if(a.count=p==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),N>0){const D=p==null?a.props.limit:1;if(N===1||D===1)a.displayedToast++,c();else{const L=D>N?N:D;a.displayedToast=L;for(let B=0;B<L;B++)c()}}else e()}};var R,T;I.iconOut=function(P){let{theme:N,type:D,isLoading:L,icon:B}=P,q=null;const A={theme:N,type:D};return B===!1||(ht(B)?q=B(A):b.isValidElement(B)?q=b.cloneElement(B,A):Zr(B)||Hs(B)?q=B:L?q=Qc.spinner():(x=>x in Qc)(D)&&(q=Qc[D](A))),q}(I),ht(g.onOpen)&&(I.onOpen=g.onOpen),ht(g.onClose)&&(I.onClose=g.onClose),I.closeButton=E.closeButton,g.closeButton===!1||qc(g.closeButton)?I.closeButton=g.closeButton:g.closeButton===!0&&(I.closeButton=!qc(E.closeButton)||E.closeButton);let O=h;b.isValidElement(h)&&!Zr(h.type)?O=b.cloneElement(h,{closeToast:S,toastProps:I,data:_}):ht(h)&&(O=h({closeToast:S,toastProps:I,data:_})),E.limit&&E.limit>0&&a.count>E.limit&&C?a.queue.push({toastContent:O,toastProps:I,staleId:w}):Hs(y)?setTimeout(()=>{f(O,I,w)},y):f(O,I,w)}function f(h,v,y){const{toastId:w}=v;y&&s.delete(y);const g={content:h,props:v};s.set(w,g),r(p=>[...p,w].filter(m=>m!==y)),Nt.emit(4,fv(g,g.props.updateId==null?"added":"updated"))}return b.useEffect(()=>(a.containerId=t.containerId,Nt.cancelEmit(3).on(0,d).on(1,h=>i.current&&u(h)).on(5,l).emit(2,a),()=>{s.clear(),Nt.emit(3,a)}),[]),b.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(h){const v=new Map,y=Array.from(s.values());return t.newestOnTop&&y.reverse(),y.forEach(w=>{const{position:g}=w.props;v.has(g)||v.set(g,[]),v.get(g).push(w)}),Array.from(v,w=>h(w[0],w[1]))},containerRef:i,isToastActive:o}}function hv(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function pv(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function JN(t){const[e,n]=b.useState(!1),[r,i]=b.useState(!1),s=b.useRef(null),o=b.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=b.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:f}=t;function h(_){if(t.draggable){_.nativeEvent.type==="touchstart"&&_.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",g),document.addEventListener("touchend",p);const E=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=E.getBoundingClientRect(),E.style.transition="",o.x=hv(_.nativeEvent),o.y=pv(_.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=E.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function v(_){if(o.boundingRect){const{top:E,bottom:S,left:C,right:I}=o.boundingRect;_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=C&&o.x<=I&&o.y>=E&&o.y<=S?w():y()}}function y(){n(!0)}function w(){n(!1)}function g(_){const E=s.current;o.canDrag&&E&&(o.didMove=!0,e&&w(),o.x=hv(_),o.y=pv(_),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),E.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,E.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",p);const _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();_.style.transition="transform 0.2s, opacity 0.2s",_.style.transform=`translate${t.draggableDirection}(0)`,_.style.opacity="1"}}b.useEffect(()=>{a.current=t}),b.useEffect(()=>(s.current&&s.current.addEventListener("d",y,{once:!0}),ht(t.onOpen)&&t.onOpen(b.isValidElement(t.children)&&t.children.props),()=>{const _=a.current;ht(_.onClose)&&_.onClose(b.isValidElement(_.children)&&_.children.props)}),[]),b.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",y),window.addEventListener("blur",w)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",w))}),[t.pauseOnFocusLoss]);const m={onMouseDown:h,onTouchStart:h,onMouseUp:v,onTouchEnd:v};return l&&u&&(m.onMouseEnter=w,m.onMouseLeave=y),f&&(m.onClick=_=>{d&&d(_),o.canCloseOnClick&&c()}),{playToast:y,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:m}}function FE(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function XN(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:f}=t;const h=s||l&&u===0,v={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:h?0:1};l&&(v.transform=`scaleX(${u})`);const y=Gn("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=ht(o)?o({rtl:c,type:i,defaultClassName:y}):Gn(y,o);return le.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:w,style:v,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const ZN=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=JN(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:f,position:h,className:v,style:y,bodyClassName:w,bodyStyle:g,progressClassName:p,progressStyle:m,updateId:_,role:E,progress:S,rtl:C,toastId:I,deleteToast:R,isIn:T,isLoading:O,iconOut:P,closeOnClick:N,theme:D}=t,L=Gn("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":N}),B=ht(v)?v({rtl:C,position:h,type:u,defaultClassName:L}):Gn(L,v),q=!!S||!a,A={closeToast:d,type:u,theme:D};let x=null;return s===!1||(x=ht(s)?s(A):b.isValidElement(s)?b.cloneElement(s,A):FE(A)),le.createElement(f,{isIn:T,done:R,position:h,preventExitTransition:n,nodeRef:r},le.createElement("div",{id:I,onClick:l,className:B,...i,style:y,ref:r},le.createElement("div",{...T&&{role:E},className:ht(w)?w({type:u}):Gn("Toastify__toast-body",w),style:g},P!=null&&le.createElement("div",{className:Gn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},P),le.createElement("div",null,o)),x,le.createElement(XN,{..._&&!q?{key:`pb-${_}`}:{},rtl:C,theme:D,delay:a,isRunning:e,isIn:T,closeToast:d,hide:c,type:u,style:m,className:p,controlledProgress:q,progress:S||0})))},Xu=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},ex=Ju(Xu("bounce",!0));Ju(Xu("slide",!0));Ju(Xu("zoom"));Ju(Xu("flip"));const Pf=b.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=YN(t),{className:s,style:o,rtl:a,containerId:l}=t;function u(c){const d=Gn("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return ht(s)?s({position:c,rtl:a,defaultClassName:d}):Gn(d,Ua(s))}return b.useEffect(()=>{e&&(e.current=r.current)},[]),le.createElement("div",{ref:r,className:"Toastify",id:l},n((c,d)=>{const f=d.length?{...o}:{...o,pointerEvents:"none"};return le.createElement("div",{className:u(c),style:f,key:`container-${c}`},d.map((h,v)=>{let{content:y,props:w}=h;return le.createElement(ZN,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":v+1,"--len":d.length},key:`toast-${w.key}`},y)}))}))});Pf.displayName="ToastContainer",Pf.defaultProps={position:"top-right",transition:ex,autoClose:5e3,closeButton:FE,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Kc,Pr=new Map,Ps=[],tx=1;function UE(){return""+tx++}function nx(t){return t&&(Zr(t.toastId)||Hs(t.toastId))?t.toastId:UE()}function Vs(t,e){return Pr.size>0?Nt.emit(0,t,e):Ps.push({content:t,options:e}),e.toastId}function Ul(t,e){return{...e,type:e&&e.type||t,toastId:nx(e)}}function _a(t){return(e,n)=>Vs(e,Ul(t,n))}function ce(t,e){return Vs(t,Ul("default",e))}ce.loading=(t,e)=>Vs(t,Ul("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ce.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Zr(i)?ce.loading(i,n):ce.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,f)=>{if(d==null)return void ce.dismiss(r);const h={type:c,...a,...n,data:f},v=Zr(d)?{render:d}:d;return r?ce.update(r,{...h,...v}):ce(v.render,{...h,...v}),f},u=ht(t)?t():t;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},ce.success=_a("success"),ce.info=_a("info"),ce.error=_a("error"),ce.warning=_a("warning"),ce.warn=ce.warning,ce.dark=(t,e)=>Vs(t,Ul("default",{theme:"dark",...e})),ce.dismiss=t=>{Pr.size>0?Nt.emit(1,t):Ps=Ps.filter(e=>t!=null&&e.options.toastId!==t)},ce.clearWaitingQueue=function(t){return t===void 0&&(t={}),Nt.emit(5,t)},ce.isActive=t=>{let e=!1;return Pr.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},ce.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Pr.get(s||Kc);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:UE()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Vs(o,s)}},0)},ce.done=t=>{ce.update(t,{progress:1})},ce.onChange=t=>(Nt.on(4,t),()=>{Nt.off(4,t)}),ce.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ce.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Nt.on(2,t=>{Kc=t.containerId||t,Pr.set(Kc,t),Ps.forEach(e=>{Nt.emit(0,e.content,e.options)}),Ps=[]}).on(3,t=>{Pr.delete(t.containerId||t),Pr.size===0&&Nt.off(0).off(1).off(5)});function rx(t,e){let n=[];for(let r of e)for(let i of t)if(i.id===r){n.push(i.name);break}return n}function ix(t){let e=[];return t.map(n=>e.push(n.name)),e}function sx(t){const e=/([0-9]{4}(?=-))/g,n=t.match(e);return n!==null?n[0]:t}function ox(t,e){return e.find(r=>r.id===t)?"REMOVE FROM COLLECTION":"ADD TO COLLECTION"}function cM(){const t=window.innerWidth;return t>1400?7:t>1200?4:1}const ax="_Link_2zwc1_1",lx="_Image_2zwc1_23",ux="_Title_2zwc1_47",cx="_ItemInfo_2zwc1_61",dx="_Button_2zwc1_87",fx="_Icon_2zwc1_171",hx="_Text_2zwc1_193",cn={Link:ax,Image:lx,Title:ux,ItemInfo:cx,Date:"_Date_2zwc1_75",Button:dx,Icon:fx,Text:hx},px=({movies:t,allGenres:e,genres:n,backdrop_path:r,id:i,title:s,genre_ids:o,release_date:a})=>{const l=qr(y=>y.user.isLoggedIn),u=qr(y=>y.user.uid),[c,d]=b.useState([]),f=Ap(),h=Sr();b.useEffect(()=>{if(!l)return;const y=Fa(f,"collections/"+u),w=LE(y,g=>{const p=g.val(),m=Object.values(p);d(m)});return()=>{w()}},[f,l,u]);const v=y=>{if(!l){ce.error("You must be authorized!");return}const w=t.find(p=>p.id===y);c.find(p=>p.id===y)?(dv(Fa(f,"collections/"+u+"/"+y),null),ce("Deleted from collection")):(dv(Fa(f,"collections/"+u+"/"+y),w),ce("Added to collection"))};return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:cn.Film,children:j.jsx(W0,{to:`/movies/${i}`,state:{from:h},className:cn.Link,children:j.jsxs("li",{children:[j.jsx("img",{className:cn.Image,src:r?`https://image.tmdb.org/t/p/w1920_and_h800_multi_faces/${r}`:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:""}),j.jsx("p",{className:cn.Title,children:s}),j.jsxs("div",{className:cn.ItemInfo,children:[j.jsx("p",{children:o?j.jsx("span",{children:rx(e,o).join(", ")}):j.jsx("span",{children:ix(n).join(", ")})}),j.jsxs("p",{className:cn.Date,children:[j.jsx("span",{children:"|"}),sx(a)]})]})]},i)})}),j.jsxs("button",{className:cn.Button,onClick:()=>v(i),children:[j.jsx("span",{className:cn.Icon,children:"+"}),j.jsx("span",{className:cn.Text,children:ox(i,c)})]})]})};function Ke(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Yt(t){return!!t&&!!t[me]}function Jt(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Cx}(t)||Array.isArray(t)||!!t[qs]||!!(!((e=t.constructor)===null||e===void 0)&&e[qs])||Zu(t)||ec(t))}function mx(t){return Yt(t)||Ke(23,t),t[me].t}function gr(t,e,n){n===void 0&&(n=!1),vr(t)===0?(n?Object.keys:Di)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function vr(t){var e=t[me];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Zu(t)?2:ec(t)?3:0}function ur(t,e){return vr(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $a(t,e){return vr(t)===2?t.get(e):t[e]}function $E(t,e,n){var r=vr(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function zE(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Zu(t){return Ex&&t instanceof Map}function ec(t){return Sx&&t instanceof Set}function br(t){return t.o||t.t}function Dp(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=BE(t);delete e[me];for(var n=Di(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Lp(t,e){return e===void 0&&(e=!1),Mp(t)||Yt(t)||!Jt(t)||(vr(t)>1&&(t.set=t.add=t.clear=t.delete=gx),Object.freeze(t),e&&gr(t,function(n,r){return Lp(r,!0)},!0)),t}function gx(){Ke(2)}function Mp(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function sn(t){var e=Of[t];return e||Ke(18,t),e}function jE(t,e){Of[t]||(Of[t]=e)}function bf(){return To}function Gc(t,e){e&&(sn("Patches"),t.u=[],t.s=[],t.v=e)}function $l(t){Nf(t),t.p.forEach(vx),t.p=null}function Nf(t){t===To&&(To=t.l)}function mv(t){return To={p:[],l:To,h:t,m:!0,_:0}}function vx(t){var e=t[me];e.i===0||e.i===1?e.j():e.g=!0}function Yc(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||sn("ES5").S(e,t,r),r?(n[me].P&&($l(e),Ke(4)),Jt(t)&&(t=zl(e,t),e.l||jl(e,t)),e.u&&sn("Patches").M(n[me].t,t,e.u,e.s)):t=zl(e,n,[]),$l(e),e.u&&e.v(e.u,e.s),t!==Up?t:void 0}function zl(t,e,n){if(Mp(e))return e;var r=e[me];if(!r)return gr(e,function(a,l){return gv(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return jl(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Dp(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),gr(s,function(a,l){return gv(t,r,i,a,l,n,o)}),jl(t,i,!1),n&&t.u&&sn("Patches").N(r,n,t.u,t.s)}return r.o}function gv(t,e,n,r,i,s,o){if(Yt(i)){var a=zl(t,i,s&&e&&e.i!==3&&!ur(e.R,r)?s.concat(r):void 0);if($E(n,r,a),!Yt(a))return;t.m=!1}else o&&n.add(i);if(Jt(i)&&!Mp(i)){if(!t.h.D&&t._<1)return;zl(t,i),e&&e.A.l||jl(t,i)}}function jl(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Lp(e,n)}function Jc(t,e){var n=t[me];return(n?br(n):t)[e]}function vv(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Bn(t){t.P||(t.P=!0,t.l&&Bn(t.l))}function Xc(t){t.o||(t.o=Dp(t.t))}function xf(t,e,n){var r=Zu(e)?sn("MapSet").F(e,n):ec(e)?sn("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:bf(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=ko;o&&(l=[a],u=bs);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):sn("ES5").J(e,n);return(n?n.A:bf()).p.push(r),r}function yx(t){return Yt(t)||Ke(22,t),function e(n){if(!Jt(n))return n;var r,i=n[me],s=vr(n);if(i){if(!i.P&&(i.i<4||!sn("ES5").K(i)))return i.t;i.I=!0,r=yv(n,s),i.I=!1}else r=yv(n,s);return gr(r,function(o,a){i&&$a(i.t,o)===a||$E(r,o,e(a))}),s===3?new Set(r):r}(t)}function yv(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Dp(t)}function _x(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[me];return ko.get(l,s)},set:function(l){var u=this[me];ko.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][me];if(!a.P)switch(a.i){case 5:r(a)&&Bn(a);break;case 4:n(a)&&Bn(a)}}}function n(s){for(var o=s.t,a=s.k,l=Di(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==me){var d=o[c];if(d===void 0&&!ur(o,c))return!0;var f=a[c],h=f&&f[me];if(h?h.t!==d:!zE(f,d))return!0}}var v=!!o[me];return l.length!==Di(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};jE("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,t(h,!0));return f}var v=BE(d);delete v[me];for(var y=Di(v),w=0;w<y.length;w++){var g=y[w];v[g]=t(g,c||!!v[g].enumerable)}return Object.create(Object.getPrototypeOf(d),v)}(a,s),u={i:a?5:4,A:o?o.A:bf(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,me,{value:u,writable:!0}),l},S:function(s,o,a){a?Yt(o)&&o[me].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[me];if(c){var d=c.t,f=c.k,h=c.R,v=c.i;if(v===4)gr(f,function(m){m!==me&&(d[m]!==void 0||ur(d,m)?h[m]||l(f[m]):(h[m]=!0,Bn(c)))}),gr(d,function(m){f[m]!==void 0||ur(f,m)||(h[m]=!1,Bn(c))});else if(v===5){if(r(c)&&(Bn(c),h.length=!0),f.length<d.length)for(var y=f.length;y<d.length;y++)h[y]=!1;else for(var w=d.length;w<f.length;w++)h[w]=!0;for(var g=Math.min(f.length,d.length),p=0;p<g;p++)f.hasOwnProperty(p)||(h[p]=!0),h[p]===void 0&&l(f[p])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}function wx(){function t(r){if(!Jt(r))return r;if(Array.isArray(r))return r.map(t);if(Zu(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],t(o[1])]}));if(ec(r))return new Set(Array.from(r).map(t));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=t(r[s]);return ur(r,qs)&&(i[qs]=r[qs]),i}function e(r){return Yt(r)?t(r):r}var n="add";jE("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,u=0;u<o.length-1;u++){var c=vr(l),d=o[u];typeof d!="string"&&typeof d!="number"&&(d=""+d),c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||Ke(24),typeof l=="function"&&d==="prototype"&&Ke(24),typeof(l=$a(l,d))!="object"&&Ke(15,o.join("/"))}var f=vr(l),h=t(s.value),v=o[o.length-1];switch(a){case"replace":switch(f){case 2:return l.set(v,h);case 3:Ke(16);default:return l[v]=h}case n:switch(f){case 1:return v==="-"?l.push(h):l.splice(v,0,h);case 2:return l.set(v,h);case 3:return l.add(h);default:return l[v]=h}case"remove":switch(f){case 1:return l.splice(v,1);case 2:return l.delete(v);case 3:return l.delete(s.value);default:return delete l[v]}default:Ke(17,a)}}),r},N:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var d=a.t,f=a.o;gr(a.R,function(h,v){var y=$a(d,h),w=$a(f,h),g=v?ur(d,h)?"replace":n:"remove";if(y!==w||g!=="replace"){var p=l.concat(h);u.push(g==="remove"?{op:g,path:p}:{op:g,path:p,value:w}),c.push(g===n?{op:"remove",path:p}:g==="remove"?{op:n,path:p,value:e(y)}:{op:"replace",path:p,value:e(y)})}})}(r,i,s,o);case 5:case 1:return function(a,l,u,c){var d=a.t,f=a.R,h=a.o;if(h.length<d.length){var v=[h,d];d=v[0],h=v[1];var y=[c,u];u=y[0],c=y[1]}for(var w=0;w<d.length;w++)if(f[w]&&h[w]!==d[w]){var g=l.concat([w]);u.push({op:"replace",path:g,value:e(h[w])}),c.push({op:"replace",path:g,value:e(d[w])})}for(var p=d.length;p<h.length;p++){var m=l.concat([p]);u.push({op:n,path:m,value:e(h[p])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,s,o);case 3:return function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(v){if(!f.has(v)){var y=l.concat([h]);u.push({op:"remove",path:y,value:v}),c.unshift({op:n,path:y,value:v})}h++}),h=0,f.forEach(function(v){if(!d.has(v)){var y=l.concat([h]);u.push({op:n,path:y,value:v}),c.unshift({op:"remove",path:y,value:v})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===Up?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var _v,To,Fp=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ex=typeof Map<"u",Sx=typeof Set<"u",wv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Up=Fp?Symbol.for("immer-nothing"):((_v={})["immer-nothing"]=!0,_v),qs=Fp?Symbol.for("immer-draftable"):"__$immer_draftable",me=Fp?Symbol.for("immer-state"):"__$immer_state",Cx=""+Object.prototype.constructor,Di=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,BE=Object.getOwnPropertyDescriptors||function(t){var e={};return Di(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Of={},ko={get:function(t,e){if(e===me)return t;var n=br(t);if(!ur(n,e))return function(i,s,o){var a,l=vv(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Jt(r)?r:r===Jc(t.t,e)?(Xc(t),t.o[e]=xf(t.A.h,r,t)):r},has:function(t,e){return e in br(t)},ownKeys:function(t){return Reflect.ownKeys(br(t))},set:function(t,e,n){var r=vv(br(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Jc(br(t),e),s=i==null?void 0:i[me];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(zE(n,i)&&(n!==void 0||ur(t.t,e)))return!0;Xc(t),Bn(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Jc(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Xc(t),Bn(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=br(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Ke(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ke(12)}},bs={};gr(ko,function(t,e){bs[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),bs.deleteProperty=function(t,e){return bs.set.call(this,t,e,void 0)},bs.set=function(t,e,n){return ko.set.call(this,t[0],e,n,t[0])};var Ix=function(){function t(n){var r=this;this.O=wv,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var w=this;y===void 0&&(y=a);for(var g=arguments.length,p=Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];return l.produce(y,function(_){var E;return(E=s).call.apply(E,[w,_].concat(p))})}}var u;if(typeof s!="function"&&Ke(6),o!==void 0&&typeof o!="function"&&Ke(7),Jt(i)){var c=mv(r),d=xf(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?$l(c):Nf(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return Gc(c,o),Yc(y,c)},function(y){throw $l(c),y}):(Gc(c,o),Yc(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Up&&(u=void 0),r.D&&Lp(u,!0),o){var h=[],v=[];sn("Patches").M(i,u,h,v),o(h,v)}return u}Ke(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Jt(n)||Ke(8),Yt(n)&&(n=yx(n));var r=mv(this),i=xf(this,n,void 0);return i[me].C=!0,Nf(r),i},e.finishDraft=function(n,r){var i=n&&n[me],s=i.A;return Gc(s,r),Yc(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!wv&&Ke(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=sn("Patches").$;return Yt(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Tt=new Ix,Vo=Tt.produce,WE=Tt.produceWithPatches.bind(Tt);Tt.setAutoFreeze.bind(Tt);Tt.setUseProxies.bind(Tt);var Ev=Tt.applyPatches.bind(Tt);Tt.createDraft.bind(Tt);Tt.finishDraft.bind(Tt);function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function Tx(t,e){if(Ro(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ro(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kx(t){var e=Tx(t,"string");return Ro(e)==="symbol"?e:String(e)}function Rx(t,e,n){return e=kx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sv(Object(n),!0).forEach(function(r){Rx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function et(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Iv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Zc=function(){return Math.random().toString(36).substring(7).split("").join(".")},Bl={INIT:"@@redux/INIT"+Zc(),REPLACE:"@@redux/REPLACE"+Zc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Zc()}};function Px(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function $p(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(et(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(et(1));return n($p)(t,e)}if(typeof t!="function")throw new Error(et(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(et(3));return s}function d(y){if(typeof y!="function")throw new Error(et(4));if(l)throw new Error(et(5));var w=!0;return u(),a.push(y),function(){if(w){if(l)throw new Error(et(6));w=!1,u();var p=a.indexOf(y);a.splice(p,1),o=null}}}function f(y){if(!Px(y))throw new Error(et(7));if(typeof y.type>"u")throw new Error(et(8));if(l)throw new Error(et(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var w=o=a,g=0;g<w.length;g++){var p=w[g];p()}return y}function h(y){if(typeof y!="function")throw new Error(et(10));i=y,f({type:Bl.REPLACE})}function v(){var y,w=d;return y={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(et(11));function m(){p.next&&p.next(c())}m();var _=w(m);return{unsubscribe:_}}},y[Iv]=function(){return this},y}return f({type:Bl.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Iv]=v,r}function bx(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Bl.INIT});if(typeof r>"u")throw new Error(et(12));if(typeof n(void 0,{type:Bl.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(et(13))})}function zp(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{bx(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var h=s[f],v=n[h],y=l[h],w=v(y,u);if(typeof w>"u")throw u&&u.type,new Error(et(14));d[h]=w,c=c||w!==y}return c=c||s.length!==Object.keys(l).length,c?d:l}}function Wl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Nx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(et(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Wl.apply(void 0,a)(i.dispatch),Cv(Cv({},i),{},{dispatch:s})}}}var Hl="NOT_FOUND";function xx(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:Hl},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function Ox(t,e){var n=[];function r(a){var l=n.findIndex(function(c){return e(a,c.key)});if(l>-1){var u=n[l];return l>0&&(n.splice(l,1),n.unshift(u)),u.value}return Hl}function i(a,l){r(a)===Hl&&(n.unshift({key:a,value:l}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var Ax=function(e,n){return e===n};function Dx(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function Af(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?Ax:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,l=Dx(i),u=o===1?xx(l):Ox(o,l);function c(){var d=u.get(arguments);if(d===Hl){if(d=t.apply(null,arguments),a){var f=u.getEntries(),h=f.find(function(v){return a(v.value,d)});h&&(d=h.value)}u.put(arguments,d)}return d}return c.clearCache=function(){return u.clear()},c}function Lx(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function Mx(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=0,c,d={memoizeOptions:void 0},f=a.pop();if(typeof f=="object"&&(d=f,f=a.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var h=d,v=h.memoizeOptions,y=v===void 0?n:v,w=Array.isArray(y)?y:[y],g=Lx(a),p=t.apply(void 0,[function(){return u++,f.apply(null,arguments)}].concat(w)),m=t(function(){for(var E=[],S=g.length,C=0;C<S;C++)E.push(g[C].apply(null,arguments));return c=p.apply(null,E),c});return Object.assign(m,{resultFunc:f,memoizedResultFunc:p,dependencies:g,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),m};return i}var Qs=Mx(Af);function HE(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var VE=HE();VE.withExtraArgument=HE;const Tv=VE;var qE=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fx=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Yi=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ux=Object.defineProperty,$x=Object.defineProperties,zx=Object.getOwnPropertyDescriptors,kv=Object.getOwnPropertySymbols,jx=Object.prototype.hasOwnProperty,Bx=Object.prototype.propertyIsEnumerable,Rv=function(t,e,n){return e in t?Ux(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},cr=function(t,e){for(var n in e||(e={}))jx.call(e,n)&&Rv(t,n,e[n]);if(kv)for(var r=0,i=kv(e);r<i.length;r++){var n=i[r];Bx.call(e,n)&&Rv(t,n,e[n])}return t},ed=function(t,e){return $x(t,zx(e))},Wx=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},Hx=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wl:Wl.apply(null,arguments)};function yr(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Vx=function(t){qE(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Yi([void 0],n[0].concat(this)))):new(e.bind.apply(e,Yi([void 0],n.concat(this))))},e}(Array),qx=function(t){qE(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Yi([void 0],n[0].concat(this)))):new(e.bind.apply(e,Yi([void 0],n.concat(this))))},e}(Array);function Df(t){return Jt(t)?Vo(t,function(){}):t}function Qx(t){return typeof t=="boolean"}function Kx(){return function(e){return Gx(e)}}function Gx(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Vx;return n&&(Qx(n)?r.push(Tv):r.push(Tv.withExtraArgument(n.extraArgument))),r}var Yx=!0;function Jx(t){var e=Kx(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(yr(i))h=zp(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var y=Nx.apply(void 0,v),w=Wl;l&&(w=Hx(cr({trace:!Yx},typeof l=="object"&&l)));var g=new qx(y),p=g;Array.isArray(f)?p=Yi([y],f):typeof f=="function"&&(p=f(g));var m=w.apply(void 0,p);return $p(h,c,m)}function yt(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return cr(cr({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function QE(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Xx(t){return typeof t=="function"}function Zx(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?QE(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(Xx(t))l=function(){return Df(t())};else{var u=Df(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Yi([s[f.type]],o.filter(function(v){var y=v.matcher;return y(f)}).map(function(v){var y=v.reducer;return y}));return h.filter(function(v){return!!v}).length===0&&(h=[a]),h.reduce(function(v,y){if(y)if(Yt(v)){var w=v,g=y(w,f);return g===void 0?v:g}else{if(Jt(v))return Vo(v,function(p){return y(p,f)});var g=y(v,f);if(g===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return v},d)}return c.getInitialState=l,c}function eO(t,e){return t+"/"+e}function Nr(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Df(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=eO(e,c),h,v;"reducer"in d?(h=d.reducer,v=d.prepare):h=d,s[c]=h,o[f]=h,a[c]=v?yt(f,v):yt(f)});function l(){var c=typeof t.extraReducers=="function"?QE(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],v=h===void 0?[]:h,y=c[2],w=y===void 0?void 0:y,g=cr(cr({},f),o);return Zx(n,function(p){for(var m in g)p.addCase(m,g[m]);for(var _=0,E=v;_<E.length;_++){var S=E[_];p.addMatcher(S.matcher,S.reducer)}w&&p.addDefaultCase(w)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var tO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KE=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=tO[Math.random()*64|0];return e},nO=["name","message","stack","code"],td=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Pv=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),rO=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=nO;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},bv=function(){function t(e,n,r){var i=yt(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:ed(cr({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=yt(e+"/pending",function(u,c,d){return{payload:void 0,meta:ed(cr({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=yt(e+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||rO)(u||"Rejected"),meta:ed(cr({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):KE(),v=new a,y;function w(p){y=p,v.abort()}var g=function(){return Wx(this,null,function(){var p,m,_,E,S,C,I;return Fx(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),E=(p=r==null?void 0:r.condition)==null?void 0:p.call(r,u,{getState:d,extra:f}),sO(E)?[4,E]:[3,2];case 1:E=R.sent(),R.label=2;case 2:if(E===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(T,O){return v.signal.addEventListener("abort",function(){return O({name:"AbortError",message:y||"Aborted"})})}),c(s(h,u,(m=r==null?void 0:r.getPendingMeta)==null?void 0:m.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:v.signal,abort:w,rejectWithValue:function(T,O){return new td(T,O)},fulfillWithValue:function(T,O){return new Pv(T,O)}})).then(function(T){if(T instanceof td)throw T;return T instanceof Pv?i(T.payload,h,u,T.meta):i(T,h,u)})])];case 3:return _=R.sent(),[3,5];case 4:return C=R.sent(),_=C instanceof td?o(null,h,u,C.payload,C.meta):o(C,h,u),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,I||c(_),[2,_]}})})}();return Object.assign(g,{abort:w,requestId:h,arg:u,unwrap:function(){return g.then(iO)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function iO(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function sO(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var oO=function(t){return t&&typeof t.match=="function"},GE=function(t,e){return oO(t)?t.match(e):t(e)};function ls(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.some(function(r){return GE(r,n)})}}function Ks(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.every(function(r){return GE(r,n)})}}function tc(t,e){if(!t||!t.meta)return!1;var n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function qo(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function jp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return tc(n,["pending"])}:qo(t)?function(n){var r=t.map(function(s){return s.pending}),i=ls.apply(void 0,r);return i(n)}:jp()(t[0])}function Po(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return tc(n,["rejected"])}:qo(t)?function(n){var r=t.map(function(s){return s.rejected}),i=ls.apply(void 0,r);return i(n)}:Po()(t[0])}function nc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return t.length===0?function(r){var i=Ks(Po.apply(void 0,t),n);return i(r)}:qo(t)?function(r){var i=Ks(Po.apply(void 0,t),n);return i(r)}:nc()(t[0])}function si(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return tc(n,["fulfilled"])}:qo(t)?function(n){var r=t.map(function(s){return s.fulfilled}),i=ls.apply(void 0,r);return i(n)}:si()(t[0])}function Lf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return tc(n,["pending","fulfilled","rejected"])}:qo(t)?function(n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];r.push(o.pending,o.rejected,o.fulfilled)}var a=ls.apply(void 0,r);return a(n)}:Lf()(t[0])}var Bp="listenerMiddleware";yt(Bp+"/add");yt(Bp+"/removeAll");yt(Bp+"/remove");var Ns="RTK_autoBatch",nd=function(){return function(t){var e;return{payload:t,meta:(e={},e[Ns]=!0,e)}}},Nv;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);_x();var Vl=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ql=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},aO=Object.defineProperty,lO=Object.defineProperties,uO=Object.getOwnPropertyDescriptors,Ql=Object.getOwnPropertySymbols,YE=Object.prototype.hasOwnProperty,JE=Object.prototype.propertyIsEnumerable,xv=function(t,e,n){return e in t?aO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Re=function(t,e){for(var n in e||(e={}))YE.call(e,n)&&xv(t,n,e[n]);if(Ql)for(var r=0,i=Ql(e);r<i.length;r++){var n=i[r];JE.call(e,n)&&xv(t,n,e[n])}return t},tn=function(t,e){return lO(t,uO(e))},Ov=function(t,e){var n={};for(var r in t)YE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ql)for(var i=0,s=Ql(t);i<s.length;i++){var r=s[i];e.indexOf(r)<0&&JE.call(t,r)&&(n[r]=t[r])}return n},Kl=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},ye;(function(t){t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected"})(ye||(ye={}));function cO(t){return{status:t,isUninitialized:t===ye.uninitialized,isLoading:t===ye.pending,isSuccess:t===ye.fulfilled,isError:t===ye.rejected}}function dO(t){return new RegExp("(^|:)//").test(t)}var fO=function(t){return t.replace(/\/$/,"")},hO=function(t){return t.replace(/^\//,"")};function pO(t,e){if(!t)return e;if(!e)return t;if(dO(e))return e;var n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=fO(t),e=hO(e),""+t+n+e}var Av=function(t){return[].concat.apply([],t)};function mO(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function gO(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var Dv=yr;function XE(t,e){if(t===e||!(Dv(t)&&Dv(e)||Array.isArray(t)&&Array.isArray(e)))return e;for(var n=Object.keys(e),r=Object.keys(t),i=n.length===r.length,s=Array.isArray(e)?[]:{},o=0,a=n;o<a.length;o++){var l=a[o];s[l]=XE(t[l],e[l]),i&&(i=t[l]===s[l])}return i?t:s}var Lv=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fetch.apply(void 0,t)},vO=function(t){return t.status>=200&&t.status<=299},yO=function(t){return/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"")};function Mv(t){if(!yr(t))return t;for(var e=Re({},t),n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],s=i[0],o=i[1];o===void 0&&delete e[s]}return e}function _O(t){var e=this;t===void 0&&(t={});var n=t,r=n.baseUrl,i=n.prepareHeaders,s=i===void 0?function(m){return m}:i,o=n.fetchFn,a=o===void 0?Lv:o,l=n.paramsSerializer,u=n.isJsonContentType,c=u===void 0?yO:u,d=n.jsonContentType,f=d===void 0?"application/json":d,h=n.jsonReplacer,v=n.timeout,y=n.responseHandler,w=n.validateStatus,g=Ov(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&a===Lv&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(m,_){return Kl(e,null,function(){var E,S,C,I,R,T,O,P,N,D,L,B,q,A,x,k,$,M,z,W,V,Q,X,He,wt,be,Ie,ee,Ve,bt,ve,Je,Fe,we,An,oi;return Vl(this,function(Oe){switch(Oe.label){case 0:return E=_.signal,S=_.getState,C=_.extra,I=_.endpoint,R=_.forced,T=_.type,P=typeof m=="string"?{url:m}:m,N=P.url,D=P.headers,L=D===void 0?new Headers(g.headers):D,B=P.params,q=B===void 0?void 0:B,A=P.responseHandler,x=A===void 0?y??"json":A,k=P.validateStatus,$=k===void 0?w??vO:k,M=P.timeout,z=M===void 0?v:M,W=Ov(P,["url","headers","params","responseHandler","validateStatus","timeout"]),V=Re(tn(Re({},g),{signal:E}),W),L=new Headers(Mv(L)),Q=V,[4,s(L,{getState:S,extra:C,endpoint:I,forced:R,type:T})];case 1:Q.headers=Oe.sent()||L,X=function(Ae){return typeof Ae=="object"&&(yr(Ae)||Array.isArray(Ae)||typeof Ae.toJSON=="function")},!V.headers.has("content-type")&&X(V.body)&&V.headers.set("content-type",f),X(V.body)&&c(V.headers)&&(V.body=JSON.stringify(V.body,h)),q&&(He=~N.indexOf("?")?"&":"?",wt=l?l(q):new URLSearchParams(Mv(q)),N+=He+wt),N=pO(r,N),be=new Request(N,V),Ie=be.clone(),O={request:Ie},Ve=!1,bt=z&&setTimeout(function(){Ve=!0,_.abort()},z),Oe.label=2;case 2:return Oe.trys.push([2,4,5,6]),[4,a(be)];case 3:return ee=Oe.sent(),[3,6];case 4:return ve=Oe.sent(),[2,{error:{status:Ve?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ve)},meta:O}];case 5:return bt&&clearTimeout(bt),[7];case 6:Je=ee.clone(),O.response=Je,we="",Oe.label=7;case 7:return Oe.trys.push([7,9,,10]),[4,Promise.all([p(ee,x).then(function(Ae){return Fe=Ae},function(Ae){return An=Ae}),Je.text().then(function(Ae){return we=Ae},function(){})])];case 8:if(Oe.sent(),An)throw An;return[3,10];case 9:return oi=Oe.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:ee.status,data:we,error:String(oi)},meta:O}];case 10:return[2,$(ee,Fe)?{data:Fe,meta:O}:{error:{status:ee.status,data:Fe},meta:O}]}})})};function p(m,_){return Kl(this,null,function(){var E;return Vl(this,function(S){switch(S.label){case 0:return typeof _=="function"?[2,_(m)]:(_==="content-type"&&(_=c(m.headers)?"json":"text"),_!=="json"?[3,2]:[4,m.text()]);case 1:return E=S.sent(),[2,E.length?JSON.parse(E):null];case 2:return[2,m.text()]}})})}}var Fv=function(){function t(e,n){n===void 0&&(n=void 0),this.value=e,this.meta=n}return t}(),Wp=yt("__rtkq/focused"),ZE=yt("__rtkq/unfocused"),Hp=yt("__rtkq/online"),eS=yt("__rtkq/offline"),ln;(function(t){t.query="query",t.mutation="mutation"})(ln||(ln={}));function tS(t){return t.type===ln.query}function wO(t){return t.type===ln.mutation}function nS(t,e,n,r,i,s){return EO(t)?t(e,n,r,i).map(Mf).map(s):Array.isArray(t)?t.map(Mf).map(s):[]}function EO(t){return typeof t=="function"}function Mf(t){return typeof t=="string"?{type:t}:t}function rd(t){return t!=null}var bo=Symbol("forceQueryFn"),Ff=function(t){return typeof t[bo]=="function"};function SO(t){var e=t.serializeQueryArgs,n=t.queryThunk,r=t.mutationThunk,i=t.api,s=t.context,o=new Map,a=new Map,l=i.internalActions,u=l.unsubscribeQueryResult,c=l.removeMutationResult,d=l.updateSubscriptionOptions;return{buildInitiateQuery:p,buildInitiateMutation:m,getRunningQueryThunk:v,getRunningMutationThunk:y,getRunningQueriesThunk:w,getRunningMutationsThunk:g,getRunningOperationPromises:h,removalWarning:f};function f(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function h(){typeof process<"u";var _=function(E){return Array.from(E.values()).flatMap(function(S){return S?Object.values(S):[]})};return ql(ql([],_(o)),_(a)).filter(rd)}function v(_,E){return function(S){var C,I=s.endpointDefinitions[_],R=e({queryArgs:E,endpointDefinition:I,endpointName:_});return(C=o.get(S))==null?void 0:C[R]}}function y(_,E){return function(S){var C;return(C=a.get(S))==null?void 0:C[E]}}function w(){return function(_){return Object.values(o.get(_)||{}).filter(rd)}}function g(){return function(_){return Object.values(a.get(_)||{}).filter(rd)}}function p(_,E){var S=function(C,I){var R=I===void 0?{}:I,T=R.subscribe,O=T===void 0?!0:T,P=R.forceRefetch,N=R.subscriptionOptions,D=bo,L=R[D];return function(B,q){var A,x,k=e({queryArgs:C,endpointDefinition:E,endpointName:_}),$=n((A={type:"query",subscribe:O,forceRefetch:P,subscriptionOptions:N,endpointName:_,originalArgs:C,queryCacheKey:k},A[bo]=L,A)),M=i.endpoints[_].select(C),z=B($),W=M(q()),V=z.requestId,Q=z.abort,X=W.requestId!==V,He=(x=o.get(B))==null?void 0:x[k],wt=function(){return M(q())},be=Object.assign(L?z.then(wt):X&&!He?Promise.resolve(W):Promise.all([He,z]).then(wt),{arg:C,requestId:V,subscriptionOptions:N,queryCacheKey:k,abort:Q,unwrap:function(){return Kl(this,null,function(){var ee;return Vl(this,function(Ve){switch(Ve.label){case 0:return[4,be];case 1:if(ee=Ve.sent(),ee.isError)throw ee.error;return[2,ee.data]}})})},refetch:function(){return B(S(C,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){O&&B(u({queryCacheKey:k,requestId:V}))},updateSubscriptionOptions:function(ee){be.subscriptionOptions=ee,B(d({endpointName:_,requestId:V,queryCacheKey:k,options:ee}))}});if(!He&&!X&&!L){var Ie=o.get(B)||{};Ie[k]=be,o.set(B,Ie),be.then(function(){delete Ie[k],Object.keys(Ie).length||o.delete(B)})}return be}};return S}function m(_){return function(E,S){var C=S===void 0?{}:S,I=C.track,R=I===void 0?!0:I,T=C.fixedCacheKey;return function(O,P){var N=r({type:"mutation",endpointName:_,originalArgs:E,track:R,fixedCacheKey:T}),D=O(N),L=D.requestId,B=D.abort,q=D.unwrap,A=D.unwrap().then(function(M){return{data:M}}).catch(function(M){return{error:M}}),x=function(){O(c({requestId:L,fixedCacheKey:T}))},k=Object.assign(A,{arg:D.arg,requestId:L,abort:B,unwrap:q,unsubscribe:x,reset:x}),$=a.get(O)||{};return a.set(O,$),$[L]=k,k.then(function(){delete $[L],Object.keys($).length||a.delete(O)}),T&&($[T]=k,k.then(function(){$[T]===k&&(delete $[T],Object.keys($).length||a.delete(O))})),k}}}}function Uv(t){return t}function CO(t){var e=this,n=t.reducerPath,r=t.baseQuery,i=t.context.endpointDefinitions,s=t.serializeQueryArgs,o=t.api,a=function(m,_,E){return function(S){var C=i[m];S(o.internalActions.queryResultPatched({queryCacheKey:s({queryArgs:_,endpointDefinition:C,endpointName:m}),patches:E}))}},l=function(m,_,E){return function(S,C){var I,R,T=o.endpoints[m].select(_)(C()),O={patches:[],inversePatches:[],undo:function(){return S(o.util.patchQueryData(m,_,O.inversePatches))}};if(T.status===ye.uninitialized)return O;if("data"in T)if(Jt(T.data)){var P=WE(T.data,E),N=P[1],D=P[2];(I=O.patches).push.apply(I,N),(R=O.inversePatches).push.apply(R,D)}else{var L=E(T.data);O.patches.push({op:"replace",path:[],value:L}),O.inversePatches.push({op:"replace",path:[],value:T.data})}return S(o.util.patchQueryData(m,_,O.patches)),O}},u=function(m,_,E){return function(S){var C;return S(o.endpoints[m].initiate(_,(C={subscribe:!1,forceRefetch:!0},C[bo]=function(){return{data:E}},C)))}},c=function(m,_){return Kl(e,[m,_],function(E,S){var C,I,R,T,O,P,N,D,L,B,q,A,x,k,$,M,z,W,V=S.signal,Q=S.abort,X=S.rejectWithValue,He=S.fulfillWithValue,wt=S.dispatch,be=S.getState,Ie=S.extra;return Vl(this,function(ee){switch(ee.label){case 0:C=i[E.endpointName],ee.label=1;case 1:return ee.trys.push([1,8,,13]),I=Uv,R=void 0,T={signal:V,abort:Q,dispatch:wt,getState:be,extra:Ie,endpoint:E.endpointName,type:E.type,forced:E.type==="query"?d(E,be()):void 0},O=E.type==="query"?E[bo]:void 0,O?(R=O(),[3,6]):[3,2];case 2:return C.query?[4,r(C.query(E.originalArgs),T,C.extraOptions)]:[3,4];case 3:return R=ee.sent(),C.transformResponse&&(I=C.transformResponse),[3,6];case 4:return[4,C.queryFn(E.originalArgs,T,C.extraOptions,function(Ve){return r(Ve,T,C.extraOptions)})];case 5:R=ee.sent(),ee.label=6;case 6:if(typeof process<"u",R.error)throw new Fv(R.error,R.meta);return q=He,[4,I(R.data,R.meta,E.originalArgs)];case 7:return[2,q.apply(void 0,[ee.sent(),(z={fulfilledTimeStamp:Date.now(),baseQueryMeta:R.meta},z[Ns]=!0,z)])];case 8:if(A=ee.sent(),x=A,!(x instanceof Fv))return[3,12];k=Uv,C.query&&C.transformErrorResponse&&(k=C.transformErrorResponse),ee.label=9;case 9:return ee.trys.push([9,11,,12]),$=X,[4,k(x.value,x.meta,E.originalArgs)];case 10:return[2,$.apply(void 0,[ee.sent(),(W={baseQueryMeta:x.meta},W[Ns]=!0,W)])];case 11:return M=ee.sent(),x=M,[3,12];case 12:throw typeof process<"u",console.error(x),x;case 13:return[2]}})})};function d(m,_){var E,S,C,I,R=(S=(E=_[n])==null?void 0:E.queries)==null?void 0:S[m.queryCacheKey],T=(C=_[n])==null?void 0:C.config.refetchOnMountOrArgChange,O=R==null?void 0:R.fulfilledTimeStamp,P=(I=m.forceRefetch)!=null?I:m.subscribe&&T;return P?P===!0||(Number(new Date)-Number(O))/1e3>=P:!1}var f=bv(n+"/executeQuery",c,{getPendingMeta:function(){var m;return m={startedTimeStamp:Date.now()},m[Ns]=!0,m},condition:function(m,_){var E=_.getState,S,C,I,R=E(),T=(C=(S=R[n])==null?void 0:S.queries)==null?void 0:C[m.queryCacheKey],O=T==null?void 0:T.fulfilledTimeStamp,P=m.originalArgs,N=T==null?void 0:T.originalArgs,D=i[m.endpointName];return Ff(m)?!0:(T==null?void 0:T.status)==="pending"?!1:d(m,R)||tS(D)&&((I=D==null?void 0:D.forceRefetch)!=null&&I.call(D,{currentArg:P,previousArg:N,endpointState:T,state:R}))?!0:!O},dispatchConditionRejection:!0}),h=bv(n+"/executeMutation",c,{getPendingMeta:function(){var m;return m={startedTimeStamp:Date.now()},m[Ns]=!0,m}}),v=function(m){return"force"in m},y=function(m){return"ifOlderThan"in m},w=function(m,_,E){return function(S,C){var I=v(E)&&E.force,R=y(E)&&E.ifOlderThan,T=function(D){return D===void 0&&(D=!0),o.endpoints[m].initiate(_,{forceRefetch:D})},O=o.endpoints[m].select(_)(C());if(I)S(T());else if(R){var P=O==null?void 0:O.fulfilledTimeStamp;if(!P){S(T());return}var N=(Number(new Date)-Number(new Date(P)))/1e3>=R;N&&S(T())}else S(T(!1))}};function g(m){return function(_){var E,S;return((S=(E=_==null?void 0:_.meta)==null?void 0:E.arg)==null?void 0:S.endpointName)===m}}function p(m,_){return{matchPending:Ks(jp(m),g(_)),matchFulfilled:Ks(si(m),g(_)),matchRejected:Ks(Po(m),g(_))}}return{queryThunk:f,mutationThunk:h,prefetch:w,updateQueryData:l,upsertQueryData:u,patchQueryData:a,buildMatchThunkActions:p}}function rS(t,e,n,r){return nS(n[t.meta.arg.endpointName][e],si(t)?t.payload:void 0,nc(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function wa(t,e,n){var r=t[e];r&&n(r)}function No(t){var e;return(e="arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)!=null?e:t.requestId}function $v(t,e,n){var r=t[No(e)];r&&n(r)}var Ss={};function IO(t){var e=t.reducerPath,n=t.queryThunk,r=t.mutationThunk,i=t.context,s=i.endpointDefinitions,o=i.apiUid,a=i.extractRehydrationInfo,l=i.hasRehydrationInfo,u=t.assertTagType,c=t.config,d=yt(e+"/resetApiState"),f=Nr({name:e+"/queries",initialState:Ss,reducers:{removeQueryResult:{reducer:function(E,S){var C=S.payload.queryCacheKey;delete E[C]},prepare:nd()},queryResultPatched:function(E,S){var C=S.payload,I=C.queryCacheKey,R=C.patches;wa(E,I,function(T){T.data=Ev(T.data,R.concat())})}},extraReducers:function(E){E.addCase(n.pending,function(S,C){var I=C.meta,R=C.meta.arg,T,O,P=Ff(R);(R.subscribe||P)&&((O=S[T=R.queryCacheKey])!=null||(S[T]={status:ye.uninitialized,endpointName:R.endpointName})),wa(S,R.queryCacheKey,function(N){N.status=ye.pending,N.requestId=P&&N.requestId?N.requestId:I.requestId,R.originalArgs!==void 0&&(N.originalArgs=R.originalArgs),N.startedTimeStamp=I.startedTimeStamp})}).addCase(n.fulfilled,function(S,C){var I=C.meta,R=C.payload;wa(S,I.arg.queryCacheKey,function(T){var O;if(!(T.requestId!==I.requestId&&!Ff(I.arg))){var P=s[I.arg.endpointName].merge;if(T.status=ye.fulfilled,P)if(T.data!==void 0){var N=I.fulfilledTimeStamp,D=I.arg,L=I.baseQueryMeta,B=I.requestId,q=Vo(T.data,function(A){return P(A,R,{arg:D.originalArgs,baseQueryMeta:L,fulfilledTimeStamp:N,requestId:B})});T.data=q}else T.data=R;else T.data=(O=s[I.arg.endpointName].structuralSharing)==null||O?XE(Yt(T.data)?mx(T.data):T.data,R):R;delete T.error,T.fulfilledTimeStamp=I.fulfilledTimeStamp}})}).addCase(n.rejected,function(S,C){var I=C.meta,R=I.condition,T=I.arg,O=I.requestId,P=C.error,N=C.payload;wa(S,T.queryCacheKey,function(D){if(!R){if(D.requestId!==O)return;D.status=ye.rejected,D.error=N??P}})}).addMatcher(l,function(S,C){for(var I=a(C).queries,R=0,T=Object.entries(I);R<T.length;R++){var O=T[R],P=O[0],N=O[1];((N==null?void 0:N.status)===ye.fulfilled||(N==null?void 0:N.status)===ye.rejected)&&(S[P]=N)}})}}),h=Nr({name:e+"/mutations",initialState:Ss,reducers:{removeMutationResult:{reducer:function(E,S){var C=S.payload,I=No(C);I in E&&delete E[I]},prepare:nd()}},extraReducers:function(E){E.addCase(r.pending,function(S,C){var I=C.meta,R=C.meta,T=R.requestId,O=R.arg,P=R.startedTimeStamp;O.track&&(S[No(I)]={requestId:T,status:ye.pending,endpointName:O.endpointName,startedTimeStamp:P})}).addCase(r.fulfilled,function(S,C){var I=C.payload,R=C.meta;R.arg.track&&$v(S,R,function(T){T.requestId===R.requestId&&(T.status=ye.fulfilled,T.data=I,T.fulfilledTimeStamp=R.fulfilledTimeStamp)})}).addCase(r.rejected,function(S,C){var I=C.payload,R=C.error,T=C.meta;T.arg.track&&$v(S,T,function(O){O.requestId===T.requestId&&(O.status=ye.rejected,O.error=I??R)})}).addMatcher(l,function(S,C){for(var I=a(C).mutations,R=0,T=Object.entries(I);R<T.length;R++){var O=T[R],P=O[0],N=O[1];((N==null?void 0:N.status)===ye.fulfilled||(N==null?void 0:N.status)===ye.rejected)&&P!==(N==null?void 0:N.requestId)&&(S[P]=N)}})}}),v=Nr({name:e+"/invalidation",initialState:Ss,reducers:{},extraReducers:function(E){E.addCase(f.actions.removeQueryResult,function(S,C){for(var I=C.payload.queryCacheKey,R=0,T=Object.values(S);R<T.length;R++)for(var O=T[R],P=0,N=Object.values(O);P<N.length;P++){var D=N[P],L=D.indexOf(I);L!==-1&&D.splice(L,1)}}).addMatcher(l,function(S,C){for(var I,R,T,O,P=a(C).provided,N=0,D=Object.entries(P);N<D.length;N++)for(var L=D[N],B=L[0],q=L[1],A=0,x=Object.entries(q);A<x.length;A++)for(var k=x[A],$=k[0],M=k[1],z=(O=(R=(I=S[B])!=null?I:S[B]={})[T=$||"__internal_without_id"])!=null?O:R[T]=[],W=0,V=M;W<V.length;W++){var Q=V[W],X=z.includes(Q);X||z.push(Q)}}).addMatcher(ls(si(n),nc(n)),function(S,C){for(var I,R,T,O,P=rS(C,"providesTags",s,u),N=C.meta.arg.queryCacheKey,D=0,L=Object.values(S);D<L.length;D++)for(var B=L[D],q=0,A=Object.values(B);q<A.length;q++){var x=A[q],k=x.indexOf(N);k!==-1&&x.splice(k,1)}for(var $=0,M=P;$<M.length;$++){var z=M[$],W=z.type,V=z.id,Q=(O=(R=(I=S[W])!=null?I:S[W]={})[T=V||"__internal_without_id"])!=null?O:R[T]=[],X=Q.includes(N);X||Q.push(N)}})}}),y=Nr({name:e+"/subscriptions",initialState:Ss,reducers:{updateSubscriptionOptions:function(E,S){},unsubscribeQueryResult:function(E,S){},internal_probeSubscription:function(E,S){}}}),w=Nr({name:e+"/internalSubscriptions",initialState:Ss,reducers:{subscriptionsUpdated:{reducer:function(E,S){return Ev(E,S.payload)},prepare:nd()}}}),g=Nr({name:e+"/config",initialState:Re({online:mO(),focused:gO(),middlewareRegistered:!1},c),reducers:{middlewareRegistered:function(E,S){var C=S.payload;E.middlewareRegistered=E.middlewareRegistered==="conflict"||o!==C?"conflict":!0}},extraReducers:function(E){E.addCase(Hp,function(S){S.online=!0}).addCase(eS,function(S){S.online=!1}).addCase(Wp,function(S){S.focused=!0}).addCase(ZE,function(S){S.focused=!1}).addMatcher(l,function(S){return Re({},S)})}}),p=zp({queries:f.reducer,mutations:h.reducer,provided:v.reducer,subscriptions:w.reducer,config:g.reducer}),m=function(E,S){return p(d.match(S)?void 0:E,S)},_=tn(Re(Re(Re(Re(Re({},g.actions),f.actions),y.actions),w.actions),h.actions),{unsubscribeMutationResult:h.actions.removeMutationResult,resetApiState:d});return{reducer:m,actions:_}}var Mr=Symbol.for("RTKQ/skipToken"),iS={status:ye.uninitialized},zv=Vo(iS,function(){}),jv=Vo(iS,function(){});function TO(t){var e=t.serializeQueryArgs,n=t.reducerPath,r=function(c){return zv},i=function(c){return jv};return{buildQuerySelector:a,buildMutationSelector:l,selectInvalidatedBy:u};function s(c){return Re(Re({},c),cO(c.status))}function o(c){var d=c[n];return d}function a(c,d){return function(f){var h=e({queryArgs:f,endpointDefinition:d,endpointName:c}),v=function(w){var g,p,m;return(m=(p=(g=o(w))==null?void 0:g.queries)==null?void 0:p[h])!=null?m:zv},y=f===Mr?r:v;return Qs(y,s)}}function l(){return function(c){var d,f;typeof c=="object"?f=(d=No(c))!=null?d:Mr:f=c;var h=function(y){var w,g,p;return(p=(g=(w=o(y))==null?void 0:w.mutations)==null?void 0:g[f])!=null?p:jv},v=f===Mr?i:h;return Qs(v,s)}}function u(c,d){for(var f,h=c[n],v=new Set,y=0,w=d.map(Mf);y<w.length;y++){var g=w[y],p=h.provided[g.type];if(p)for(var m=(f=g.id!==void 0?p[g.id]:Av(Object.values(p)))!=null?f:[],_=0,E=m;_<E.length;_++){var S=E[_];v.add(S)}}return Av(Array.from(v.values()).map(function(C){var I=h.queries[C];return I?[{queryCacheKey:C,endpointName:I.endpointName,originalArgs:I.originalArgs}]:[]}))}}var Ea=WeakMap?new WeakMap:void 0,Bv=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=Ea==null?void 0:Ea.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return yr(a)?Object.keys(a).sort().reduce(function(l,u){return l[u]=a[u],l},{}):a});yr(n)&&(Ea==null||Ea.set(n,s)),r=s}return e+"("+r+")"};function kO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var i=Af(function(c){var d,f;return(f=r.extractRehydrationInfo)==null?void 0:f.call(r,c,{reducerPath:(d=r.reducerPath)!=null?d:"api"})}),s=tn(Re({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},r),{extractRehydrationInfo:i,serializeQueryArgs:function(c){var d=Bv;if("serializeQueryArgs"in c.endpointDefinition){var f=c.endpointDefinition.serializeQueryArgs;d=function(h){var v=f(h);return typeof v=="string"?v:Bv(tn(Re({},h),{queryArgs:v}))}}else r.serializeQueryArgs&&(d=r.serializeQueryArgs);return d(c)},tagTypes:ql([],r.tagTypes||[])}),o={endpointDefinitions:{},batch:function(c){c()},apiUid:KE(),extractRehydrationInfo:i,hasRehydrationInfo:Af(function(c){return i(c)!=null})},a={injectEndpoints:u,enhanceEndpoints:function(c){var d=c.addTagTypes,f=c.endpoints;if(d)for(var h=0,v=d;h<v.length;h++){var y=v[h];s.tagTypes.includes(y)||s.tagTypes.push(y)}if(f)for(var w=0,g=Object.entries(f);w<g.length;w++){var p=g[w],m=p[0],_=p[1];typeof _=="function"?_(o.endpointDefinitions[m]):Object.assign(o.endpointDefinitions[m]||{},_)}return a}},l=t.map(function(c){return c.init(a,s,o)});function u(c){for(var d=c.endpoints({query:function(_){return tn(Re({},_),{type:ln.query})},mutation:function(_){return tn(Re({},_),{type:ln.mutation})}}),f=0,h=Object.entries(d);f<h.length;f++){var v=h[f],y=v[0],w=v[1];if(!c.overrideExisting&&y in o.endpointDefinitions){typeof process<"u";continue}o.endpointDefinitions[y]=w;for(var g=0,p=l;g<p.length;g++){var m=p[g];m.injectEndpoint(y,w)}}return a}return a.injectEndpoints({endpoints:r.endpoints})}}function RO(t){for(var e in t)return!1;return!0}var PO=2147483647/1e3-1,bO=function(t){var e=t.reducerPath,n=t.api,r=t.context,i=t.internalState,s=n.internalActions,o=s.removeQueryResult,a=s.unsubscribeQueryResult;function l(f){var h=i.currentSubscriptions[f];return!!h&&!RO(h)}var u={},c=function(f,h,v){var y;if(a.match(f)){var w=h.getState()[e],g=f.payload.queryCacheKey;d(g,(y=w.queries[g])==null?void 0:y.endpointName,h,w.config)}if(n.util.resetApiState.match(f))for(var p=0,m=Object.entries(u);p<m.length;p++){var _=m[p],E=_[0],S=_[1];S&&clearTimeout(S),delete u[E]}if(r.hasRehydrationInfo(f))for(var w=h.getState()[e],C=r.extractRehydrationInfo(f).queries,I=0,R=Object.entries(C);I<R.length;I++){var T=R[I],g=T[0],O=T[1];d(g,O==null?void 0:O.endpointName,h,w.config)}};function d(f,h,v,y){var w,g=r.endpointDefinitions[h],p=(w=g==null?void 0:g.keepUnusedDataFor)!=null?w:y.keepUnusedDataFor;if(p!==1/0){var m=Math.max(0,Math.min(p,PO));if(!l(f)){var _=u[f];_&&clearTimeout(_),u[f]=setTimeout(function(){l(f)||v.dispatch(o({queryCacheKey:f})),delete u[f]},m*1e3)}}}return c},NO=function(t){var e=t.reducerPath,n=t.context,r=t.context.endpointDefinitions,i=t.mutationThunk,s=t.api,o=t.assertTagType,a=t.refetchQuery,l=s.internalActions.removeQueryResult,u=ls(si(i),nc(i)),c=function(f,h){u(f)&&d(rS(f,"invalidatesTags",r,o),h),s.util.invalidateTags.match(f)&&d(nS(f.payload,void 0,void 0,void 0,void 0,o),h)};function d(f,h){var v=h.getState(),y=v[e],w=s.util.selectInvalidatedBy(v,f);n.batch(function(){for(var g,p=Array.from(w.values()),m=0,_=p;m<_.length;m++){var E=_[m].queryCacheKey,S=y.queries[E],C=(g=y.subscriptions[E])!=null?g:{};S&&(Object.keys(C).length===0?h.dispatch(l({queryCacheKey:E})):S.status!==ye.uninitialized&&h.dispatch(a(S,E)))}})}return c},xO=function(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.refetchQuery,s=t.internalState,o={},a=function(h,v){(r.internalActions.updateSubscriptionOptions.match(h)||r.internalActions.unsubscribeQueryResult.match(h))&&u(h.payload,v),(n.pending.match(h)||n.rejected.match(h)&&h.meta.condition)&&u(h.meta.arg,v),(n.fulfilled.match(h)||n.rejected.match(h)&&!h.meta.condition)&&l(h.meta.arg,v),r.util.resetApiState.match(h)&&d()};function l(h,v){var y=h.queryCacheKey,w=v.getState()[e],g=w.queries[y],p=s.currentSubscriptions[y];if(!(!g||g.status===ye.uninitialized)){var m=f(p);if(Number.isFinite(m)){var _=o[y];_!=null&&_.timeout&&(clearTimeout(_.timeout),_.timeout=void 0);var E=Date.now()+m,S=o[y]={nextPollTimestamp:E,pollingInterval:m,timeout:setTimeout(function(){S.timeout=void 0,v.dispatch(i(g,y))},m)}}}}function u(h,v){var y=h.queryCacheKey,w=v.getState()[e],g=w.queries[y],p=s.currentSubscriptions[y];if(!(!g||g.status===ye.uninitialized)){var m=f(p);if(!Number.isFinite(m)){c(y);return}var _=o[y],E=Date.now()+m;(!_||E<_.nextPollTimestamp)&&l({queryCacheKey:y},v)}}function c(h){var v=o[h];v!=null&&v.timeout&&clearTimeout(v.timeout),delete o[h]}function d(){for(var h=0,v=Object.keys(o);h<v.length;h++){var y=v[h];c(y)}}function f(h){h===void 0&&(h={});var v=Number.POSITIVE_INFINITY;for(var y in h)h[y].pollingInterval&&(v=Math.min(h[y].pollingInterval,v));return v}return a},OO=function(t){var e=t.reducerPath,n=t.context,r=t.api,i=t.refetchQuery,s=t.internalState,o=r.internalActions.removeQueryResult,a=function(u,c){Wp.match(u)&&l(c,"refetchOnFocus"),Hp.match(u)&&l(c,"refetchOnReconnect")};function l(u,c){var d=u.getState()[e],f=d.queries,h=s.currentSubscriptions;n.batch(function(){for(var v=0,y=Object.keys(h);v<y.length;v++){var w=y[v],g=f[w],p=h[w];if(!(!p||!g)){var m=Object.values(p).some(function(_){return _[c]===!0})||Object.values(p).every(function(_){return _[c]===void 0})&&d.config[c];m&&(Object.keys(p).length===0?u.dispatch(o({queryCacheKey:w})):g.status!==ye.uninitialized&&u.dispatch(i(g,w)))}}})}return a},Wv=new Error("Promise never resolved before cacheEntryRemoved."),AO=function(t){var e=t.api,n=t.reducerPath,r=t.context,i=t.queryThunk,s=t.mutationThunk;t.internalState;var o=Lf(i),a=Lf(s),l=si(i,s),u={},c=function(h,v,y){var w=d(h);if(i.pending.match(h)){var g=y[n].queries[w],p=v.getState()[n].queries[w];!g&&p&&f(h.meta.arg.endpointName,h.meta.arg.originalArgs,w,v,h.meta.requestId)}else if(s.pending.match(h)){var p=v.getState()[n].mutations[w];p&&f(h.meta.arg.endpointName,h.meta.arg.originalArgs,w,v,h.meta.requestId)}else if(l(h)){var m=u[w];m!=null&&m.valueResolved&&(m.valueResolved({data:h.payload,meta:h.meta.baseQueryMeta}),delete m.valueResolved)}else if(e.internalActions.removeQueryResult.match(h)||e.internalActions.removeMutationResult.match(h)){var m=u[w];m&&(delete u[w],m.cacheEntryRemoved())}else if(e.util.resetApiState.match(h))for(var _=0,E=Object.entries(u);_<E.length;_++){var S=E[_],C=S[0],m=S[1];delete u[C],m.cacheEntryRemoved()}};function d(h){return o(h)?h.meta.arg.queryCacheKey:a(h)?h.meta.requestId:e.internalActions.removeQueryResult.match(h)?h.payload.queryCacheKey:e.internalActions.removeMutationResult.match(h)?No(h.payload):""}function f(h,v,y,w,g){var p=r.endpointDefinitions[h],m=p==null?void 0:p.onCacheEntryAdded;if(m){var _={},E=new Promise(function(O){_.cacheEntryRemoved=O}),S=Promise.race([new Promise(function(O){_.valueResolved=O}),E.then(function(){throw Wv})]);S.catch(function(){}),u[y]=_;var C=e.endpoints[h].select(p.type===ln.query?v:y),I=w.dispatch(function(O,P,N){return N}),R=tn(Re({},w),{getCacheEntry:function(){return C(w.getState())},requestId:g,extra:I,updateCachedData:p.type===ln.query?function(O){return w.dispatch(e.util.updateQueryData(h,v,O))}:void 0,cacheDataLoaded:S,cacheEntryRemoved:E}),T=m(v,R);Promise.resolve(T).catch(function(O){if(O!==Wv)throw O})}}return c},DO=function(t){var e=t.api,n=t.context,r=t.queryThunk,i=t.mutationThunk,s=jp(r,i),o=Po(r,i),a=si(r,i),l={},u=function(c,d){var f,h,v;if(s(c)){var y=c.meta,w=y.requestId,g=y.arg,p=g.endpointName,m=g.originalArgs,_=n.endpointDefinitions[p],E=_==null?void 0:_.onQueryStarted;if(E){var S={},C=new Promise(function(L,B){S.resolve=L,S.reject=B});C.catch(function(){}),l[w]=S;var I=e.endpoints[p].select(_.type===ln.query?m:w),R=d.dispatch(function(L,B,q){return q}),T=tn(Re({},d),{getCacheEntry:function(){return I(d.getState())},requestId:w,extra:R,updateCachedData:_.type===ln.query?function(L){return d.dispatch(e.util.updateQueryData(p,m,L))}:void 0,queryFulfilled:C});E(m,T)}}else if(a(c)){var O=c.meta,w=O.requestId,P=O.baseQueryMeta;(f=l[w])==null||f.resolve({data:c.payload,meta:P}),delete l[w]}else if(o(c)){var N=c.meta,w=N.requestId,D=N.rejectedWithValue,P=N.baseQueryMeta;(v=l[w])==null||v.reject({error:(h=c.payload)!=null?h:c.error,isUnhandledError:!D,meta:P}),delete l[w]}};return u},LO=function(t){var e=t.api,n=t.context.apiUid,r=t.reducerPath;return function(i,s){var o,a;e.util.resetApiState.match(i)&&s.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"}},Hv,MO=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(t){return(Hv||(Hv=Promise.resolve())).then(t).catch(function(e){return setTimeout(function(){throw e},0)})},FO=function(t){var e=t.api,n=t.queryThunk,r=t.internalState,i=e.reducerPath+"/subscriptions",s=null,o=!1,a=e.internalActions,l=a.updateSubscriptionOptions,u=a.unsubscribeQueryResult,c=function(d,f){var h,v,y,w,g,p,m,_,E;if(l.match(f)){var S=f.payload,C=S.queryCacheKey,I=S.requestId,R=S.options;return(h=d==null?void 0:d[C])!=null&&h[I]&&(d[C][I]=R),!0}if(u.match(f)){var T=f.payload,C=T.queryCacheKey,I=T.requestId;return d[C]&&delete d[C][I],!0}if(e.internalActions.removeQueryResult.match(f))return delete d[f.payload.queryCacheKey],!0;if(n.pending.match(f)){var O=f.meta,P=O.arg,I=O.requestId;if(P.subscribe){var N=(y=d[v=P.queryCacheKey])!=null?y:d[v]={};return N[I]=(g=(w=P.subscriptionOptions)!=null?w:N[I])!=null?g:{},!0}}if(n.rejected.match(f)){var D=f.meta,L=D.condition,P=D.arg,I=D.requestId;if(L&&P.subscribe){var N=(m=d[p=P.queryCacheKey])!=null?m:d[p]={};return N[I]=(E=(_=P.subscriptionOptions)!=null?_:N[I])!=null?E:{},!0}}return!1};return function(d,f){var h,v;if(s||(s=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(d))return s=r.currentSubscriptions={},[!0,!1];if(e.internalActions.internal_probeSubscription.match(d)){var y=d.payload,w=y.queryCacheKey,g=y.requestId,p=!!((h=r.currentSubscriptions[w])!=null&&h[g]);return[!1,p]}var m=c(r.currentSubscriptions,d);if(m){o||(MO(function(){var C=JSON.parse(JSON.stringify(r.currentSubscriptions)),I=WE(s,function(){return C}),R=I[1];f.next(e.internalActions.subscriptionsUpdated(R)),s=C,o=!1}),o=!0);var _=!!((v=d.type)!=null&&v.startsWith(i)),E=n.rejected.match(d)&&d.meta.condition&&!!d.meta.arg.subscribe,S=!_&&!E;return[S,!1]}return[!0,!1]}};function UO(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.context,s=i.apiUid,o={invalidateTags:yt(e+"/invalidateTags")},a=function(d){return!!d&&typeof d.type=="string"&&d.type.startsWith(e+"/")},l=[LO,bO,NO,xO,AO,DO],u=function(d){var f=!1,h={currentSubscriptions:{}},v=tn(Re({},t),{internalState:h,refetchQuery:c}),y=l.map(function(p){return p(v)}),w=FO(v),g=OO(v);return function(p){return function(m){f||(f=!0,d.dispatch(r.internalActions.middlewareRegistered(s)));var _=tn(Re({},d),{next:p}),E=d.getState(),S=w(m,_,E),C=S[0],I=S[1],R;if(C?R=p(m):R=I,d.getState()[e]&&(g(m,_,E),a(m)||i.hasRehydrationInfo(m)))for(var T=0,O=y;T<O.length;T++){var P=O[T];P(m,_,E)}return R}}};return{middleware:u,actions:o};function c(d,f,h){return h===void 0&&(h={}),n(Re({type:"query",endpointName:d.endpointName,originalArgs:d.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:f},h))}}function Ln(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,ql([t],e))}var Vv=Symbol(),$O=function(){return{name:Vv,init:function(t,e,n){var r=e.baseQuery,i=e.tagTypes,s=e.reducerPath,o=e.serializeQueryArgs,a=e.keepUnusedDataFor,l=e.refetchOnMountOrArgChange,u=e.refetchOnFocus,c=e.refetchOnReconnect;wx();var d=function(z){return typeof process<"u",z};Object.assign(t,{reducerPath:s,endpoints:{},internalActions:{onOnline:Hp,onOffline:eS,onFocus:Wp,onFocusLost:ZE},util:{}});var f=CO({baseQuery:r,reducerPath:s,context:n,api:t,serializeQueryArgs:o}),h=f.queryThunk,v=f.mutationThunk,y=f.patchQueryData,w=f.updateQueryData,g=f.upsertQueryData,p=f.prefetch,m=f.buildMatchThunkActions,_=IO({context:n,queryThunk:h,mutationThunk:v,reducerPath:s,assertTagType:d,config:{refetchOnFocus:u,refetchOnReconnect:c,refetchOnMountOrArgChange:l,keepUnusedDataFor:a,reducerPath:s}}),E=_.reducer,S=_.actions;Ln(t.util,{patchQueryData:y,updateQueryData:w,upsertQueryData:g,prefetch:p,resetApiState:S.resetApiState}),Ln(t.internalActions,S);var C=UO({reducerPath:s,context:n,queryThunk:h,mutationThunk:v,api:t,assertTagType:d}),I=C.middleware,R=C.actions;Ln(t.util,R),Ln(t,{reducer:E,middleware:I});var T=TO({serializeQueryArgs:o,reducerPath:s}),O=T.buildQuerySelector,P=T.buildMutationSelector,N=T.selectInvalidatedBy;Ln(t.util,{selectInvalidatedBy:N});var D=SO({queryThunk:h,mutationThunk:v,api:t,serializeQueryArgs:o,context:n}),L=D.buildInitiateQuery,B=D.buildInitiateMutation,q=D.getRunningMutationThunk,A=D.getRunningMutationsThunk,x=D.getRunningQueriesThunk,k=D.getRunningQueryThunk,$=D.getRunningOperationPromises,M=D.removalWarning;return Ln(t.util,{getRunningOperationPromises:$,getRunningOperationPromise:M,getRunningMutationThunk:q,getRunningMutationsThunk:A,getRunningQueryThunk:k,getRunningQueriesThunk:x}),{name:Vv,injectEndpoint:function(z,W){var V,Q,X=t;(Q=(V=X.endpoints)[z])!=null||(V[z]={}),tS(W)?Ln(X.endpoints[z],{name:z,select:O(z,W),initiate:L(z,W)},m(h,z)):wO(W)&&Ln(X.endpoints[z],{name:z,select:P(),initiate:B(z)},m(v,z))}}}}},zO=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},jO=Object.defineProperty,BO=Object.defineProperties,WO=Object.getOwnPropertyDescriptors,qv=Object.getOwnPropertySymbols,HO=Object.prototype.hasOwnProperty,VO=Object.prototype.propertyIsEnumerable,Qv=function(t,e,n){return e in t?jO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},dn=function(t,e){for(var n in e||(e={}))HO.call(e,n)&&Qv(t,n,e[n]);if(qv)for(var r=0,i=qv(e);r<i.length;r++){var n=i[r];VO.call(e,n)&&Qv(t,n,e[n])}return t},za=function(t,e){return BO(t,WO(e))};function Kv(t,e,n,r){var i=b.useMemo(function(){return{queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}},[t,e,n,r]),s=b.useRef(i);return b.useEffect(function(){s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}var id=Symbol();function sd(t){var e=b.useRef(t);return b.useEffect(function(){_l(e.current,t)||(e.current=t)},[t]),_l(e.current,t)?e.current:t}var Sa=WeakMap?new WeakMap:void 0,qO=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=Sa==null?void 0:Sa.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return yr(a)?Object.keys(a).sort().reduce(function(l,u){return l[u]=a[u],l},{}):a});yr(n)&&(Sa==null||Sa.set(n,s)),r=s}return e+"("+r+")"},QO=typeof window<"u"&&window.document&&window.document.createElement?b.useLayoutEffect:b.useEffect,KO=function(t){return t},GO=function(t){return t.isUninitialized?za(dn({},t),{isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:ye.pending}):t};function YO(t){var e=t.api,n=t.moduleOptions,r=n.batch,i=n.useDispatch,s=n.useSelector,o=n.useStore,a=n.unstable__sideEffectsInRender,l=t.serializeQueryArgs,u=t.context,c=a?function(y){return y()}:b.useEffect;return{buildQueryHooks:h,buildMutationHook:v,usePrefetch:f};function d(y,w,g){if(w!=null&&w.endpointName&&y.isUninitialized){var p=w.endpointName,m=u.endpointDefinitions[p];l({queryArgs:w.originalArgs,endpointDefinition:m,endpointName:p})===l({queryArgs:g,endpointDefinition:m,endpointName:p})&&(w=void 0)}var _=y.isSuccess?y.data:w==null?void 0:w.data;_===void 0&&(_=y.data);var E=_!==void 0,S=y.isLoading,C=!E&&S,I=y.isSuccess||S&&E;return za(dn({},y),{data:_,currentData:y.data,isFetching:S,isLoading:C,isSuccess:I})}function f(y,w){var g=i(),p=sd(w);return b.useCallback(function(m,_){return g(e.util.prefetch(y,m,dn(dn({},p),_)))},[y,g,p])}function h(y){var w=function(m,_){var E=_===void 0?{}:_,S=E.refetchOnReconnect,C=E.refetchOnFocus,I=E.refetchOnMountOrArgChange,R=E.skip,T=R===void 0?!1:R,O=E.pollingInterval,P=O===void 0?0:O,N=e.endpoints[y].initiate,D=i(),L=Kv(T?Mr:m,qO,u.endpointDefinitions[y],y),B=sd({refetchOnReconnect:S,refetchOnFocus:C,pollingInterval:P}),q=b.useRef(!1),A=b.useRef(),x=A.current||{},k=x.queryCacheKey,$=x.requestId,M=!1;if(k&&$){var z=D(e.internalActions.internal_probeSubscription({queryCacheKey:k,requestId:$}));M=!!z}var W=!M&&q.current;return c(function(){q.current=M}),c(function(){W&&(A.current=void 0)},[W]),c(function(){var V,Q=A.current;if(typeof process<"u",L===Mr){Q==null||Q.unsubscribe(),A.current=void 0;return}var X=(V=A.current)==null?void 0:V.subscriptionOptions;if(!Q||Q.arg!==L){Q==null||Q.unsubscribe();var He=D(N(L,{subscriptionOptions:B,forceRefetch:I}));A.current=He}else B!==X&&Q.updateSubscriptionOptions(B)},[D,N,I,L,B,W]),b.useEffect(function(){return function(){var V;(V=A.current)==null||V.unsubscribe(),A.current=void 0}},[]),b.useMemo(function(){return{refetch:function(){var V;if(!A.current)throw new Error("Cannot refetch a query that has not been started yet.");return(V=A.current)==null?void 0:V.refetch()}}},[])},g=function(m){var _=m===void 0?{}:m,E=_.refetchOnReconnect,S=_.refetchOnFocus,C=_.pollingInterval,I=C===void 0?0:C,R=e.endpoints[y].initiate,T=i(),O=b.useState(id),P=O[0],N=O[1],D=b.useRef(),L=sd({refetchOnReconnect:E,refetchOnFocus:S,pollingInterval:I});c(function(){var A,x,k=(A=D.current)==null?void 0:A.subscriptionOptions;L!==k&&((x=D.current)==null||x.updateSubscriptionOptions(L))},[L]);var B=b.useRef(L);c(function(){B.current=L},[L]);var q=b.useCallback(function(A,x){x===void 0&&(x=!1);var k;return r(function(){var $;($=D.current)==null||$.unsubscribe(),D.current=k=T(R(A,{subscriptionOptions:B.current,forceRefetch:!x})),N(A)}),k},[T,R]);return b.useEffect(function(){return function(){var A;(A=D==null?void 0:D.current)==null||A.unsubscribe()}},[]),b.useEffect(function(){P!==id&&!D.current&&q(P,!0)},[P,q]),b.useMemo(function(){return[q,P]},[q,P])},p=function(m,_){var E=_===void 0?{}:_,S=E.skip,C=S===void 0?!1:S,I=E.selectFromResult,R=e.endpoints[y].select,T=Kv(C?Mr:m,l,u.endpointDefinitions[y],y),O=b.useRef(),P=b.useMemo(function(){return Qs([R(T),function(q,A){return A},function(q){return T}],d)},[R,T]),N=b.useMemo(function(){return I?Qs([P],I):P},[P,I]),D=s(function(q){return N(q,O.current)},_l),L=o(),B=P(L.getState(),O.current);return QO(function(){O.current=B},[B]),D};return{useQueryState:p,useQuerySubscription:w,useLazyQuerySubscription:g,useLazyQuery:function(m){var _=g(m),E=_[0],S=_[1],C=p(S,za(dn({},m),{skip:S===id})),I=b.useMemo(function(){return{lastArg:S}},[S]);return b.useMemo(function(){return[E,C,I]},[E,C,I])},useQuery:function(m,_){var E=w(m,_),S=p(m,dn({selectFromResult:m===Mr||_!=null&&_.skip?void 0:GO},_)),C=S.data,I=S.status,R=S.isLoading,T=S.isSuccess,O=S.isError,P=S.error;return b.useDebugValue({data:C,status:I,isLoading:R,isSuccess:T,isError:O,error:P}),b.useMemo(function(){return dn(dn({},S),E)},[S,E])}}}function v(y){return function(w){var g=w===void 0?{}:w,p=g.selectFromResult,m=p===void 0?KO:p,_=g.fixedCacheKey,E=e.endpoints[y],S=E.select,C=E.initiate,I=i(),R=b.useState(),T=R[0],O=R[1];b.useEffect(function(){return function(){T!=null&&T.arg.fixedCacheKey||T==null||T.reset()}},[T]);var P=b.useCallback(function(Q){var X=I(C(Q,{fixedCacheKey:_}));return O(X),X},[I,C,_]),N=(T||{}).requestId,D=b.useMemo(function(){return Qs([S({fixedCacheKey:_,requestId:T==null?void 0:T.requestId})],m)},[S,T,m,_]),L=s(D,_l),B=_==null?T==null?void 0:T.arg.originalArgs:void 0,q=b.useCallback(function(){r(function(){T&&O(void 0),_&&I(e.internalActions.removeMutationResult({requestId:N,fixedCacheKey:_}))})},[I,_,T,N]),A=L.endpointName,x=L.data,k=L.status,$=L.isLoading,M=L.isSuccess,z=L.isError,W=L.error;b.useDebugValue({endpointName:A,data:x,status:k,isLoading:$,isSuccess:M,isError:z,error:W});var V=b.useMemo(function(){return za(dn({},L),{originalArgs:B,reset:q})},[L,B,q]);return b.useMemo(function(){return[P,V]},[P,V])}}}var Gl;(function(t){t.query="query",t.mutation="mutation"})(Gl||(Gl={}));function JO(t){return t.type===Gl.query}function XO(t){return t.type===Gl.mutation}function od(t){return t.replace(t[0],t[0].toUpperCase())}function Ca(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,zO([t],e))}var ZO=Symbol(),eA=function(t){var e=t===void 0?{}:t,n=e.batch,r=n===void 0?Lh.unstable_batchedUpdates:n,i=e.useDispatch,s=i===void 0?Vh:i,o=e.useSelector,a=o===void 0?qr:o,l=e.useStore,u=l===void 0?rw:l,c=e.unstable__sideEffectsInRender,d=c===void 0?!1:c;return{name:ZO,init:function(f,h,v){var y=h.serializeQueryArgs,w=f,g=YO({api:f,moduleOptions:{batch:r,useDispatch:s,useSelector:a,useStore:u,unstable__sideEffectsInRender:d},serializeQueryArgs:y,context:v}),p=g.buildQueryHooks,m=g.buildMutationHook,_=g.usePrefetch;return Ca(w,{usePrefetch:_}),Ca(v,{batch:r}),{injectEndpoint:function(E,S){if(JO(S)){var C=p(E),I=C.useQuery,R=C.useLazyQuery,T=C.useLazyQuerySubscription,O=C.useQueryState,P=C.useQuerySubscription;Ca(w.endpoints[E],{useQuery:I,useLazyQuery:R,useLazyQuerySubscription:T,useQueryState:O,useQuerySubscription:P}),f["use"+od(E)+"Query"]=I,f["useLazy"+od(E)+"Query"]=R}else if(XO(S)){var N=m(E);Ca(w.endpoints[E],{useMutation:N}),f["use"+od(E)+"Mutation"]=N}}}}}},tA=kO($O(),eA());const Yl=tA({reducerPath:"genres",baseQuery:_O({baseUrl:"https://api.themoviedb.org/3/genre/movie/list?api_key=54ca32600b8d3533c486c2b7fe8c8efb"}),tagTypes:["Genre"],endpoints:t=>({getGenres:t.query({query:()=>"",providesTags:["Genre"]})})}),{useGetGenresQuery:nA}=Yl,rA="_GalleryContainer_1p2re_1",iA="_ItemContainer_1p2re_13",Gv={GalleryContainer:rA,ItemContainer:iA},sS=({movies:t})=>{const{data:e}=nA(),n=(e==null?void 0:e.genres)??[];return j.jsx("ul",{className:Gv.GalleryContainer,children:t.map(r=>j.jsx("div",{className:Gv.ItemContainer,children:j.jsx(px,{movies:t,allGenres:n,genres:r.genres,backdrop_path:r.backdrop_path,id:r.id,title:r.title,genre_ids:r.genre_ids,release_date:r.release_date})},r.id))})};var oS={exports:{}};(function(t,e){(function(n,r){t.exports=r(b)})(eC,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function d(){}function f(){}f.resetWarningCache=d,a.exports=function(){function h(w,g,p,m,_,E){if(E!==c){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}function v(){return h}h.isRequired=h;var y={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:v,element:h,elementType:h,instanceOf:v,node:h,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:f,resetWarningCache:d};return y.PropTypes=y,y}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,s),u.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{default:()=>O});var a=s(98),l=s.n(a),u=s(697),c=s.n(u);function d(){return d=Object.assign?Object.assign.bind():function(P){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(P[L]=D[L])}return P},d.apply(this,arguments)}var f=function(P){var N=P.pageClassName,D=P.pageLinkClassName,L=P.page,B=P.selected,q=P.activeClassName,A=P.activeLinkClassName,x=P.getEventListener,k=P.pageSelectedHandler,$=P.href,M=P.extraAriaContext,z=P.pageLabelBuilder,W=P.rel,V=P.ariaLabel||"Page "+L+(M?" "+M:""),Q=null;return B&&(Q="page",V=P.ariaLabel||"Page "+L+" is your current page",N=N!==void 0?N+" "+q:q,D!==void 0?A!==void 0&&(D=D+" "+A):D=A),l().createElement("li",{className:N},l().createElement("a",d({rel:W,role:$?void 0:"button",className:D,href:$,tabIndex:B?"-1":"0","aria-label":V,"aria-current":Q,onKeyPress:k},x(k)),z(L)))};f.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const h=f;function v(){return v=Object.assign?Object.assign.bind():function(P){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(P[L]=D[L])}return P},v.apply(this,arguments)}var y=function(P){var N=P.breakLabel,D=P.breakAriaLabel,L=P.breakClassName,B=P.breakLinkClassName,q=P.breakHandler,A=P.getEventListener,x=L||"break";return l().createElement("li",{className:x},l().createElement("a",v({className:B,role:"button",tabIndex:"0","aria-label":D,onKeyPress:q},A(q)),N))};y.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const w=y;function g(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return P??N}function p(P){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},p(P)}function m(){return m=Object.assign?Object.assign.bind():function(P){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(P[L]=D[L])}return P},m.apply(this,arguments)}function _(P,N){for(var D=0;D<N.length;D++){var L=N[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(P,L.key,L)}}function E(P,N){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,L){return D.__proto__=L,D},E(P,N)}function S(P,N){if(N&&(p(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(P)}function C(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function I(P){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},I(P)}function R(P,N,D){return N in P?Object.defineProperty(P,N,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[N]=D,P}var T=function(P){(function(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),k&&E(x,k)})(A,P);var N,D,L,B,q=(L=A,B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,k=I(L);if(B){var $=I(this).constructor;x=Reflect.construct(k,arguments,$)}else x=k.apply(this,arguments);return S(this,x)});function A(x){var k,$;return function(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}(this,A),R(C(k=q.call(this,x)),"handlePreviousPage",function(M){var z=k.state.selected;k.handleClick(M,null,z>0?z-1:void 0,{isPrevious:!0})}),R(C(k),"handleNextPage",function(M){var z=k.state.selected,W=k.props.pageCount;k.handleClick(M,null,z<W-1?z+1:void 0,{isNext:!0})}),R(C(k),"handlePageSelected",function(M,z){if(k.state.selected===M)return k.callActiveCallback(M),void k.handleClick(z,null,void 0,{isActive:!0});k.handleClick(z,null,M)}),R(C(k),"handlePageChange",function(M){k.state.selected!==M&&(k.setState({selected:M}),k.callCallback(M))}),R(C(k),"getEventListener",function(M){return R({},k.props.eventListener,M)}),R(C(k),"handleClick",function(M,z,W){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Q=V.isPrevious,X=Q!==void 0&&Q,He=V.isNext,wt=He!==void 0&&He,be=V.isBreak,Ie=be!==void 0&&be,ee=V.isActive,Ve=ee!==void 0&&ee;M.preventDefault?M.preventDefault():M.returnValue=!1;var bt=k.state.selected,ve=k.props.onClick,Je=W;if(ve){var Fe=ve({index:z,selected:bt,nextSelectedPage:W,event:M,isPrevious:X,isNext:wt,isBreak:Ie,isActive:Ve});if(Fe===!1)return;Number.isInteger(Fe)&&(Je=Fe)}Je!==void 0&&k.handlePageChange(Je)}),R(C(k),"handleBreakClick",function(M,z){var W=k.state.selected;k.handleClick(z,M,W<M?k.getForwardJump():k.getBackwardJump(),{isBreak:!0})}),R(C(k),"callCallback",function(M){k.props.onPageChange!==void 0&&typeof k.props.onPageChange=="function"&&k.props.onPageChange({selected:M})}),R(C(k),"callActiveCallback",function(M){k.props.onPageActive!==void 0&&typeof k.props.onPageActive=="function"&&k.props.onPageActive({selected:M})}),R(C(k),"getElementPageRel",function(M){var z=k.state.selected,W=k.props,V=W.nextPageRel,Q=W.prevPageRel,X=W.selectedPageRel;return z-1===M?Q:z===M?X:z+1===M?V:void 0}),R(C(k),"pagination",function(){var M=[],z=k.props,W=z.pageRangeDisplayed,V=z.pageCount,Q=z.marginPagesDisplayed,X=z.breakLabel,He=z.breakClassName,wt=z.breakLinkClassName,be=z.breakAriaLabels,Ie=k.state.selected;if(V<=W)for(var ee=0;ee<V;ee++)M.push(k.getPageElement(ee));else{var Ve=W/2,bt=W-Ve;Ie>V-W/2?Ve=W-(bt=V-Ie):Ie<W/2&&(bt=W-(Ve=Ie));var ve,Je,Fe=function(Oe){return k.getPageElement(Oe)},we=[];for(ve=0;ve<V;ve++){var An=ve+1;if(An<=Q)we.push({type:"page",index:ve,display:Fe(ve)});else if(An>V-Q)we.push({type:"page",index:ve,display:Fe(ve)});else if(ve>=Ie-Ve&&ve<=Ie+(Ie===0&&W>1?bt-1:bt))we.push({type:"page",index:ve,display:Fe(ve)});else if(X&&we.length>0&&we[we.length-1].display!==Je&&(W>0||Q>0)){var oi=ve<Ie?be.backward:be.forward;Je=l().createElement(w,{key:ve,breakAriaLabel:oi,breakLabel:X,breakClassName:He,breakLinkClassName:wt,breakHandler:k.handleBreakClick.bind(null,ve),getEventListener:k.getEventListener}),we.push({type:"break",index:ve,display:Je})}}we.forEach(function(Oe,Ae){var Jo=Oe;Oe.type==="break"&&we[Ae-1]&&we[Ae-1].type==="page"&&we[Ae+1]&&we[Ae+1].type==="page"&&we[Ae+1].index-we[Ae-1].index<=2&&(Jo={type:"page",index:Oe.index,display:Fe(Oe.index)}),M.push(Jo.display)})}return M}),x.initialPage!==void 0&&x.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(x.initialPage,") and forcePage (").concat(x.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),$=x.initialPage?x.initialPage:x.forcePage?x.forcePage:0,k.state={selected:$},k}return N=A,(D=[{key:"componentDidMount",value:function(){var x=this.props,k=x.initialPage,$=x.disableInitialCallback,M=x.extraAriaContext,z=x.pageCount,W=x.forcePage;k===void 0||$||this.callCallback(k),M&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(z)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(z,"). Did you forget a Math.ceil()?")),k!==void 0&&k>z-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(k," > ").concat(z-1,").")),W!==void 0&&W>z-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(W," > ").concat(z-1,")."))}},{key:"componentDidUpdate",value:function(x){this.props.forcePage!==void 0&&this.props.forcePage!==x.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(x.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var x=this.state.selected,k=this.props,$=k.pageCount,M=x+k.pageRangeDisplayed;return M>=$?$-1:M}},{key:"getBackwardJump",value:function(){var x=this.state.selected-this.props.pageRangeDisplayed;return x<0?0:x}},{key:"getElementHref",value:function(x){var k=this.props,$=k.hrefBuilder,M=k.pageCount,z=k.hrefAllControls;if($)return z||x>=0&&x<M?$(x+1,M,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(x){var k=x===this.state.selected;if(this.props.ariaLabelBuilder&&x>=0&&x<this.props.pageCount){var $=this.props.ariaLabelBuilder(x+1,k);return this.props.extraAriaContext&&!k&&($=$+" "+this.props.extraAriaContext),$}}},{key:"getPageElement",value:function(x){var k=this.state.selected,$=this.props,M=$.pageClassName,z=$.pageLinkClassName,W=$.activeClassName,V=$.activeLinkClassName,Q=$.extraAriaContext,X=$.pageLabelBuilder;return l().createElement(h,{key:x,pageSelectedHandler:this.handlePageSelected.bind(null,x),selected:k===x,rel:this.getElementPageRel(x),pageClassName:M,pageLinkClassName:z,activeClassName:W,activeLinkClassName:V,extraAriaContext:Q,href:this.getElementHref(x),ariaLabel:this.ariaLabelBuilder(x),page:x+1,pageLabelBuilder:X,getEventListener:this.getEventListener})}},{key:"render",value:function(){var x=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&x!==void 0)return x&&x(this.props);var k=this.props,$=k.disabledClassName,M=k.disabledLinkClassName,z=k.pageCount,W=k.className,V=k.containerClassName,Q=k.previousLabel,X=k.previousClassName,He=k.previousLinkClassName,wt=k.previousAriaLabel,be=k.prevRel,Ie=k.nextLabel,ee=k.nextClassName,Ve=k.nextLinkClassName,bt=k.nextAriaLabel,ve=k.nextRel,Je=this.state.selected,Fe=Je===0,we=Je===z-1,An="".concat(g(X)).concat(Fe?" ".concat(g($)):""),oi="".concat(g(ee)).concat(we?" ".concat(g($)):""),Oe="".concat(g(He)).concat(Fe?" ".concat(g(M)):""),Ae="".concat(g(Ve)).concat(we?" ".concat(g(M)):""),Jo=Fe?"true":"false",ZS=we?"true":"false";return l().createElement("ul",{className:W||V,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:An},l().createElement("a",m({className:Oe,href:this.getElementHref(Je-1),tabIndex:Fe?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Jo,"aria-label":wt,rel:be},this.getEventListener(this.handlePreviousPage)),Q)),this.pagination(),l().createElement("li",{className:oi},l().createElement("a",m({className:Ae,href:this.getElementHref(Je+1),tabIndex:we?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":ZS,"aria-label":bt,rel:ve},this.getEventListener(this.handleNextPage)),Ie)))}}])&&_(N.prototype,D),Object.defineProperty(N,"prototype",{writable:!1}),A}(a.Component);R(T,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),R(T,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(P){return P},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const O=T})(),o})())})(oS);var sA=oS.exports;const oA=yy(sA),aA="_Pagination_w1d9c_1",lA="_PageNum_w1d9c_21",uA="_Active_w1d9c_45",cA="_GalleryContainer_w1d9c_55",ui={Pagination:aA,PageNum:lA,Active:uA,GalleryContainer:cA};function dA({data:t,total:e,clickHandler:n,location:r,initialPage:i}){const s=e,o=a=>{n(a.selected+1)};return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:ui.GalleryContainer,children:j.jsx(sS,{movies:t,location:r})}),j.jsx(oA,{breakLabel:"...",nextLabel:">",onPageChange:o,pageRangeDisplayed:4,pageCount:s,previousLabel:"<",containerClassName:ui.Pagination,pageLinkClassName:ui.PageNum,previousLinkClassName:ui.PageNum,nextLinkClassName:ui.PageNum,activeLinkClassName:ui.Active,initialPage:i})]})}const fA="_Section_1tagy_1",hA="_SectionHead_1tagy_9",pA="_DetailPageContainer_1tagy_33",mA="_BtnContainer_1tagy_51",gA="_Btn_1tagy_51",vA="_InfoContainer_1tagy_87",yA="_List_1tagy_101",_A="_ListItem_1tagy_127",wA="_Title_1tagy_135",EA="_ItemInfo_1tagy_147",SA="_FailMessage_1tagy_171",CA="_SearchGanresContainer_1tagy_183",IA="_UnauthorizeMessage_1tagy_205",TA={Section:fA,SectionHead:hA,DetailPageContainer:pA,BtnContainer:mA,Btn:gA,InfoContainer:vA,List:yA,ListItem:_A,Title:wA,ItemInfo:EA,Date:"_Date_1tagy_161",FailMessage:SA,SearchGanresContainer:CA,UnauthorizeMessage:IA},kA=()=>{const t=qr(p=>p.user.isLoggedIn),e=qr(p=>p.user.uid),[n,r]=b.useState([]),i=Ap(),s=Sr(),[o,a]=kT({page:1}),[l,u]=b.useState(0),c=o.get("page"),d=Number(c)-1,f=12,h=l+f,v=n.slice(l,h),y=Math.ceil(n.length/f);b.useEffect(()=>{if(!t)return;const p=Fa(i,"collections/"+e),m=LE(p,_=>{const E=_.val(),S=Object.values(E);r(S)});return()=>{m()}},[i,t,e]);const w=p=>{a({page:p})},g=p=>{const m=(p-1)*f%n.length;u(m),w(p)};return j.jsxs(j.Fragment,{children:[!t&&j.jsx("p",{className:TA.UnauthorizeMessage,children:"You should authorize to use this functionality"}),t&&n.length<=12&&j.jsx(sS,{movies:n}),t&&n.length>12&&j.jsx(dA,{itemsPerPage:f,data:v,total:y,clickHandler:g,location:s,initialPage:d,showPagination:!1})]})};function Vp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RA=aS,lS=new $o("auth","Firebase",aS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Yh("@firebase/auth");function PA(t,...e){Jl.logLevel<=oe.WARN&&Jl.warn(`Auth (${is}): ${t}`,...e)}function ja(t,...e){Jl.logLevel<=oe.ERROR&&Jl.error(`Auth (${is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,...e){throw qp(t,...e)}function on(t,...e){return qp(t,...e)}function uS(t,e,n){const r=Object.assign(Object.assign({},RA()),{[e]:n});return new $o("auth","Firebase",r).create(e,{appName:t.name})}function bA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&un(t,"argument-error"),uS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lS.create(t,...e)}function G(t,e,...n){if(!t)throw qp(e,...n)}function yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ja(e),new Error(e)}function Pn(t,e){t||yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NA(){return Yv()==="http:"||Yv()==="https:"}function Yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NA()||Tk()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pn(n>e,"Short delay should be less than long delay!"),this.isMobile=Kh()||dw()}get(){return xA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e){Pn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Qo(3e4,6e4);function dS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ko(t,e,n,r,i={}){return fS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=rs(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),cS.fetch()(hS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function fS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AA),e);try{const i=new MA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ia(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ia(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ia(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ia(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uS(t,c,u);un(t,c)}}catch(i){if(i instanceof Cr)throw i;un(t,"network-request-failed",{message:String(i)})}}async function LA(t,e,n,r,i={}){const s=await Ko(t,e,n,r,i);return"mfaPendingCredential"in s&&un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function hS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Qp(t.config,i):`${t.config.apiScheme}://${i}`}class MA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),DA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ia(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=on(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t,e){return Ko(t,"POST","/v1/accounts:delete",e)}async function UA(t,e){return Ko(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),i=Kp(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gs(ad(i.auth_time)),issuedAtTime:Gs(ad(i.iat)),expirationTime:Gs(ad(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ad(t){return Number(t)*1e3}function Kp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ja("JWT malformed, contained fewer than 3 sections"),null;try{const i=El(n);return i?JSON.parse(i):(ja("Failed to decode base64 JWT payload"),null)}catch(i){return ja("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zA(t){const e=Kp(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cr&&jA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gs(this.lastLoginAt),this.creationTime=Gs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xo(t,UA(n,{idToken:r}));G(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VA(s.providerUserInfo):[],a=HA(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pS(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function WA(t){const e=Ut(t);await Xl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VA(t){return t.map(e=>{var{providerId:n}=e,r=Vp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t,e){const n=await fS(t,{},async()=>{const r=rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=hS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Oo;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $A(this,e)}reload(){return WA(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xo(this,FA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:m,emailVerified:_,isAnonymous:E,providerData:S,stsTokenManager:C}=n;G(m&&C,e,"internal-error");const I=Oo.fromJSON(this.name,C);G(typeof m=="string",e,"internal-error"),Mn(d,e.name),Mn(f,e.name),G(typeof _=="boolean",e,"internal-error"),G(typeof E=="boolean",e,"internal-error"),Mn(h,e.name),Mn(v,e.name),Mn(y,e.name),Mn(w,e.name),Mn(g,e.name),Mn(p,e.name);const R=new zr({uid:m,auth:e,email:f,emailVerified:_,displayName:d,isAnonymous:E,photoURL:v,phoneNumber:h,tenantId:y,stsTokenManager:I,createdAt:g,lastLoginAt:p});return S&&Array.isArray(S)&&(R.providerData=S.map(T=>Object.assign({},T))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Oo;i.updateFromServerResponse(n);const s=new zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xl(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function _n(t){Pn(t instanceof Function,"Expected a class definition");let e=Jv.get(t);return e?(Pn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mS.type="NONE";const Xv=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e,n){return`firebase:${t}:${e}:${n}`}class Li{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ba(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ba("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Li(_n(Xv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_n(Xv);const o=Ba(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=zr._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Li(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Li(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wS(e))return"Blackberry";if(ES(e))return"Webos";if(Gp(e))return"Safari";if((e.includes("chrome/")||vS(e))&&!e.includes("edge/"))return"Chrome";if(_S(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gS(t=it()){return/firefox\//i.test(t)}function Gp(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vS(t=it()){return/crios\//i.test(t)}function yS(t=it()){return/iemobile/i.test(t)}function _S(t=it()){return/android/i.test(t)}function wS(t=it()){return/blackberry/i.test(t)}function ES(t=it()){return/webos/i.test(t)}function rc(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QA(t=it()){var e;return rc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KA(){return kk()&&document.documentMode===10}function SS(t=it()){return rc(t)||_S(t)||ES(t)||wS(t)||/windows phone/i.test(t)||yS(t)}function GA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e=[]){let n;switch(t){case"Browser":n=Zv(it());break;case"Worker":n=`${Zv(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${r}`}async function IS(t,e){return Ko(t,"GET","/v2/recaptchaConfig",dS(t,e))}function ey(t){return t!==void 0&&t.enterprise!==void 0}class TS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function kS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=on("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YA().appendChild(r)})}function JA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XA="https://www.google.com/recaptcha/enterprise.js?render=",ZA="recaptcha-enterprise",eD="NO_RECAPTCHA";class tD{constructor(e){this.type=ZA,this.auth=us(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{IS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new TS(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ey(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(eD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ey(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}kS(XA+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ty(this),this.idTokenSubscription=new ty(this),this.beforeStateQueue=new nD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_n(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Li.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ut(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_n(e))})}async initializeRecaptchaConfig(){const e=await IS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new TS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new tD(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_n(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Li.create(this,[_n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return G(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function us(t){return Ut(t)}class ty{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lk(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){const n=Xh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Cl(s,e??{}))return i;un(i,"already-initialized")}return n.initialize({options:e})}function sD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oD(t,e,n){const r=us(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=RS(e),{host:o,port:a}=aD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||lD()}function RS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aD(t){const e=RS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ny(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ny(o)}}}function ny(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yn("not implemented")}_getIdTokenResponse(e){return yn("not implemented")}_linkToIdToken(e,n){return yn("not implemented")}_getReauthenticationResolver(e){return yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(t,e){return LA(t,"POST","/v1/accounts:signInWithIdp",dS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="http://localhost";class ei extends PS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Vp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ei(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mi(e,n)}buildRequest(){const e={requestUri:uD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Go{constructor(){super("facebook.com")}static credential(e){return ei._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wn.credential(e.oauthAccessToken)}catch{return null}}}Wn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ei._fromParams({providerId:pn.PROVIDER_ID,signInMethod:pn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pn.credentialFromTaggedObject(e)}static credentialFromError(e){return pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pn.credential(n,r)}catch{return null}}}pn.GOOGLE_SIGN_IN_METHOD="google.com";pn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends Go{constructor(){super("github.com")}static credential(e){return ei._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com";Hn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Go{constructor(){super("twitter.com")}static credential(e,n){return ei._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vn.credential(n,r)}catch{return null}}}Vn.TWITTER_SIGN_IN_METHOD="twitter.com";Vn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await zr._fromIdTokenResponse(e,r,i),o=ry(r);return new Ji({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ry(r);return new Ji({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ry(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Cr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zl.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zl(e,n,r,i)}}function bS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zl._fromErrorAndOperation(t,s,e,r):s})}async function cD(t,e,n=!1){const r=await xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await xo(t,bS(r,i,e,t),n);G(s.idToken,r,"internal-error");const o=Kp(s.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),Ji._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e,n=!1){const r="signIn",i=await bS(t,r,e),s=await Ji._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function hD(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function pD(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function mD(t){return Ut(t).signOut()}const eu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eu,"1"),this.storage.removeItem(eu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){const t=it();return Gp(t)||rc(t)}const vD=1e3,yD=10;class xS extends NS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gD()&&GA(),this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);KA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xS.type="LOCAL";const _D=xS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends NS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OS.type="SESSION";const AS=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ic(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await wD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ic.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Jp("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function SD(t){an().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function CD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ID(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TD(){return DS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebaseLocalStorageDb",kD=1,tu="firebaseLocalStorage",MS="fbase_key";class Yo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sc(t,e){return t.transaction([tu],e?"readwrite":"readonly").objectStore(tu)}function RD(){const t=indexedDB.deleteDatabase(LS);return new Yo(t).toPromise()}function $f(){const t=indexedDB.open(LS,kD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tu,{keyPath:MS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tu)?e(r):(r.close(),await RD(),e(await $f()))})})}async function iy(t,e,n){const r=sc(t,!0).put({[MS]:e,value:n});return new Yo(r).toPromise()}async function PD(t,e){const n=sc(t,!1).get(e),r=await new Yo(n).toPromise();return r===void 0?null:r.value}function sy(t,e){const n=sc(t,!0).delete(e);return new Yo(n).toPromise()}const bD=800,ND=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $f(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ND)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ic._getInstance(TD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CD(),!this.activeServiceWorker)return;this.sender=new ED(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ID()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $f();return await iy(e,eu,"1"),await sy(e,eu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sc(i,!1).getAll();return new Yo(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const xD=FS;new Qo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e){return e?_n(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends PS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OD(t){return fD(t.auth,new Xp(t),t.bypassAuthState)}function AD(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),dD(n,new Xp(t),t.bypassAuthState)}async function DD(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),cD(n,new Xp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OD;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return AD;default:un(this.auth,"internal-error")}}resolve(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Qo(2e3,1e4);class Ci extends $S{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ci.currentPopupAction&&Ci.currentPopupAction.cancel(),Ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){Pn(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LD.get())};e()}}Ci.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="pendingRedirect",Wa=new Map;class FD extends $S{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wa.get(this.auth._key());if(!e){try{const r=await UD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wa.set(this.auth._key(),e)}return this.bypassAuthState||Wa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UD(t,e){const n=jS(e),r=zS(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function $D(t,e){return zS(t)._set(jS(e),"true")}function zD(t,e){Wa.set(t._key(),e)}function zS(t){return _n(t._redirectPersistence)}function jS(t){return Ba(MD,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e,n){return BD(t,e,n)}async function BD(t,e,n){const r=us(t);bA(t,e,Yp),await r._initializationPromise;const i=US(r,n);return await $D(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function WD(t,e){return await us(t)._initializationPromise,BS(t,e,!1)}async function BS(t,e,n=!1){const r=us(t),i=US(r,e),o=await new FD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=10*60*1e3;class VD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(on(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HD&&this.cachedEventUids.clear(),this.cachedEventUids.has(oy(e))}saveEventToCache(e){this.cachedEventUids.add(oy(e)),this.lastProcessedEventTime=Date.now()}}function oy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e={}){return Ko(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GD=/^https?/;async function YD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QD(t);for(const n of e)try{if(JD(n))return}catch{}un(t,"unauthorized-domain")}function JD(t){const e=Uf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GD.test(n))return!1;if(KD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Qo(3e4,6e4);function ay(){const t=an().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZD(t){return new Promise((e,n)=>{var r,i,s;function o(){ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ay(),n(on(t,"network-request-failed"))},timeout:XD.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=an().gapi)===null||s===void 0)&&s.load)o();else{const a=JA("iframefcb");return an()[a]=()=>{gapi.load?o():n(on(t,"network-request-failed"))},kS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ha=null,e})}let Ha=null;function eL(t){return Ha=Ha||ZD(t),Ha}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new Qo(5e3,15e3),nL="__/auth/iframe",rL="emulator/auth/iframe",iL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oL(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qp(e,rL):`https://${t.config.authDomain}/${nL}`,r={apiKey:e.apiKey,appName:t.name,v:is},i=sL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${rs(r).slice(1)}`}async function aL(t){const e=await eL(t),n=an().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:oL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=on(t,"network-request-failed"),a=an().setTimeout(()=>{s(o)},tL.get());function l(){an().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uL=500,cL=600,dL="_blank",fL="http://localhost";class ly{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hL(t,e,n,r=uL,i=cL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lL),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(a=vS(u)?dL:n),gS(u)&&(e=e||fL,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,v])=>`${f}${h}=${v},`,"");if(QA(u)&&a!=="_self")return pL(e||"",a),new ly(null);const d=window.open(e||"",a,c);G(d,t,"popup-blocked");try{d.focus()}catch{}return new ly(d)}function pL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="__/auth/handler",gL="emulator/auth/handler",vL=encodeURIComponent("fac");async function uy(t,e,n,r,i,s){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:is,eventId:i};if(e instanceof Yp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Go){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${vL}=${encodeURIComponent(l)}`:"";return`${yL(t)}?${rs(a).slice(1)}${u}`}function yL({config:t}){return t.emulator?Qp(t,gL):`https://${t.authDomain}/${mL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="webStorageSupport";class _L{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=BS,this._overrideRedirectResult=zD}async _openPopup(e,n,r,i){var s;Pn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await uy(e,n,r,Uf(),i);return hL(e,o,Jp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await uy(e,n,r,Uf(),i);return SD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aL(e),r=new VD(e);return n.register("authEvent",i=>(G(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ld,{type:ld},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ld];o!==void 0&&n(!!o),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||Gp()||rc()}}const wL=_L;var cy="@firebase/auth",dy="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function CL(t){qi(new Qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CS(t)},u=new rD(r,i,s,l);return sD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qi(new Qr("auth-internal",e=>{const n=us(e.getProvider("auth").getImmediate());return(r=>new EL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(cy,dy,SL(t)),ar(cy,dy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=5*60,TL=cw("authIdTokenMaxAge")||IL;let fy=null;const kL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TL)return;const i=n==null?void 0:n.token;fy!==i&&(fy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HS(t=vw()){const e=Xh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iD(t,{popupRedirectResolver:wL,persistence:[xD,_D,AS]}),r=cw("authTokenSyncURL");if(r){const s=kL(r);pD(n,s,()=>s(n.currentUser)),hD(n,o=>s(o))}const i=lw("auth");return i&&oD(n,`http://${i}`),n}CL("Browser");var RL="firebase",PL="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(RL,PL,"app");const bL="AIzaSyCdJfzvI8eoe8_vuLp_xGO9dkDfJtXxslI",NL={apiKey:bL,authDomain:"movieprjauth.firebaseapp.com",projectId:"movieprjauth",storageBucket:"movieprjauth.appspot.com",messagingSenderId:"207972865784",appId:"1:207972865784:web:11da772ad79fc9d1c38d0d",databaseURL:"https://movieprjauth-default-rtdb.europe-west1.firebasedatabase.app/"},VS=gw(NL),hy=new pn;Ap(VS);const qS=Nr({name:"user",initialState:{login:"",uid:"",isLoggedIn:!1},reducers:{logIn(t,e){t.login=e.payload.login,t.uid=e.payload.uid,t.isLoggedIn=!0},logOut(t){t.login="",t.uid="",t.isLoggedIn=!1}}}),{logIn:xL,logOut:OL}=qS.actions,AL="_UserMenuContainer_12qwm_1",DL="_UserName_12qwm_13",LL="_EnterBtn_12qwm_23",ud={UserMenuContainer:AL,UserName:DL,EnterBtn:LL},ML=()=>{const t=Vh(),e=qr(r=>r.user.login);function n(){const r=HS();mD(r).then(()=>{t(OL())}).catch(i=>{console.log(i)})}return j.jsxs("div",{className:ud.UserMenuContainer,children:[j.jsx("p",{className:ud.UserName,children:e}),j.jsx("button",{type:"button",onClick:n,className:ud.EnterBtn,children:"Log out"})]})},FL="_Enter_o0q1y_1",UL="_EnterBtn_o0q1y_13",py={Enter:FL,EnterBtn:UL},$L=()=>{const t=qr(i=>i.user.isLoggedIn),e=HS(VS),n=Vh();b.useEffect(()=>e.onAuthStateChanged(s=>{if(s!==null)return n(xL({login:s.displayName,uid:s.uid}))}),[e,n]);function r(){hy.setCustomParameters({prompt:"select_account"}),jD(e,hy),WD(e).then(i=>{}).catch(i=>{console.log(i.message)})}return j.jsxs("div",{className:py.Enter,children:[!t&&j.jsx("button",{className:py.EnterBtn,onClick:r,children:"Log In with Google"}),t&&j.jsx(ML,{})]})},zL="_Header_1qxjk_1",jL="_NavItem_1qxjk_47",Cs={Header:zL,NavItem:jL},BL=()=>j.jsxs(j.Fragment,{children:[j.jsxs("header",{className:Cs.Header,children:[j.jsxs("nav",{children:[j.jsx(ma,{to:"/",className:Cs.NavItem,children:"Home"}),j.jsx(ma,{to:"/more",className:Cs.NavItem,children:"MORE MOVIES"}),j.jsx(ma,{to:"/movies",className:Cs.NavItem,children:"Search"}),j.jsx(ma,{to:"/collection",className:Cs.NavItem,children:"My collection"})]}),j.jsx($L,{})]}),j.jsx("main",{children:j.jsx(b.Suspense,{fallback:j.jsx("div",{children:"Loading..."}),children:j.jsx(pT,{})})}),j.jsx("footer",{}),j.jsx(Pf,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]}),my=b.lazy(()=>yu(()=>import("./HomePage-cfdfd82e.js"),["assets/HomePage-cfdfd82e.js","assets/api-32c7f2a8.js","assets/HomePage-8f7857ff.css"])),WL=b.lazy(()=>yu(()=>import("./SearchPage-a699ae81.js"),["assets/SearchPage-a699ae81.js","assets/api-32c7f2a8.js","assets/SearchPage-e93b16e7.css"])),HL=b.lazy(()=>yu(()=>import("./MoreMoviesPage-9c60e78f.js"),["assets/MoreMoviesPage-9c60e78f.js","assets/api-32c7f2a8.js","assets/MoreMoviesPage-7e24908c.css"])),VL=b.lazy(()=>yu(()=>import("./MovieDetailsPage-49542916.js"),["assets/MovieDetailsPage-49542916.js","assets/api-32c7f2a8.js","assets/MovieDetailsPage-421245b9.css"])),qL=()=>j.jsx(j.Fragment,{children:j.jsx(gT,{children:j.jsxs(Fn,{path:"/",element:j.jsx(BL,{}),children:[j.jsx(Fn,{index:!0,element:j.jsx(my,{})}),j.jsx(Fn,{path:"movies",element:j.jsx(WL,{})}),j.jsx(Fn,{path:"more",element:j.jsx(HL,{})}),j.jsx(Fn,{path:"movies/:movieId",element:j.jsx(VL,{})}),j.jsx(Fn,{path:"collection",element:j.jsx(kA,{})}),j.jsx(Fn,{path:"*",element:j.jsx(my,{})})]})})});var QS="persist/FLUSH",Zp="persist/REHYDRATE",KS="persist/PAUSE",GS="persist/PERSIST",YS="persist/PURGE",em="persist/REGISTER";function gy(t){return GL(t)||KL(t)||QL()}function QL(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function KL(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function GL(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vy(n,!0).forEach(function(r){YL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vy(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JS={registry:[],bootstrapped:!1},JL=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:JS,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case em:return zf({},e,{registry:[].concat(gy(e.registry),[n.key])});case Zp:var r=e.registry.indexOf(n.key),i=gy(e.registry);return i.splice(r,1),zf({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function XL(t,e,n){var r=n||!1,i=$p(JL,JS,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:em,key:u})},o=function(u,c,d){var f={type:Zp,payload:c,err:d,key:u};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=zf({},i,{purge:function(){var u=[];return t.dispatch({type:YS,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:QS,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:KS})},persist:function(){t.dispatch({type:GS,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var tm={},nm={};nm.__esModule=!0;nm.default=tM;function Va(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(n){return typeof n}:Va=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Va(t)}function cd(){}var ZL={getItem:cd,setItem:cd,removeItem:cd};function eM(t){if((typeof self>"u"?"undefined":Va(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function tM(t){var e="".concat(t,"Storage");return eM(e)?self[e]:ZL}tm.__esModule=!0;tm.default=iM;var nM=rM(nm);function rM(t){return t&&t.__esModule?t:{default:t}}function iM(t){var e=(0,nM.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var sM=oM(tm);function oM(t){return t&&t.__esModule?t:{default:t}}(0,sM.default)("local");const aM=zp({[Yl.reducerPath]:Yl.reducer,user:qS.reducer}),XS=Jx({reducer:aM,middleware:t=>[...t({serializableCheck:{ignoredActions:[QS,Zp,KS,GS,YS,em]}}),Yl.middleware]});XL(XS);dd.createRoot(document.getElementById("root")).render(j.jsx(le.StrictMode,{children:j.jsx(ST,{basename:"/",children:j.jsx(hk,{store:XS,children:j.jsx(qL,{})})})}));export{sS as G,W0 as L,px as M,dA as P,ce as Q,le as R,yy as a,TA as b,eC as c,Sr as d,kT as e,cM as f,lM as g,sx as h,uM as i,j,qr as k,Ap as l,Fa as m,dv as n,LE as o,b as r,ox as s,nA as u};
