(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function EM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ey={exports:{}},ru={},Sy={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),oC=Symbol.for("react.portal"),aC=Symbol.for("react.fragment"),lC=Symbol.for("react.strict_mode"),uC=Symbol.for("react.profiler"),cC=Symbol.for("react.provider"),dC=Symbol.for("react.context"),fC=Symbol.for("react.forward_ref"),hC=Symbol.for("react.suspense"),pC=Symbol.for("react.memo"),mC=Symbol.for("react.lazy"),im=Symbol.iterator;function gC(t){return t===null||typeof t!="object"?null:(t=im&&t[im]||t["@@iterator"],typeof t=="function"?t:null)}var Cy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iy=Object.assign,Ty={};function es(t,e,n){this.props=t,this.context=e,this.refs=Ty,this.updater=n||Cy}es.prototype.isReactComponent={};es.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};es.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ky(){}ky.prototype=es.prototype;function Bf(t,e,n){this.props=t,this.context=e,this.refs=Ty,this.updater=n||Cy}var Wf=Bf.prototype=new ky;Wf.constructor=Bf;Iy(Wf,es.prototype);Wf.isPureReactComponent=!0;var sm=Array.isArray,by=Object.prototype.hasOwnProperty,Hf={current:null},Ry={key:!0,ref:!0,__self:!0,__source:!0};function Py(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)by.call(e,r)&&!Ry.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Do,type:t,key:s,ref:o,props:i,_owner:Hf.current}}function vC(t,e){return{$$typeof:Do,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Do}function yC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var om=/\/+/g;function ac(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yC(""+t.key):e.toString(36)}function ka(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Do:case oC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ac(o,0):r,sm(i)?(n="",t!=null&&(n=t.replace(om,"$&/")+"/"),ka(i,e,n,"",function(u){return u})):i!=null&&(Vf(i)&&(i=vC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(om,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ac(s,a);o+=ka(s,e,n,l,i)}else if(l=gC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ac(s,a++),o+=ka(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zo(t,e,n){if(t==null)return t;var r=[],i=0;return ka(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _C(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var at={current:null},ba={transition:null},wC={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:ba,ReactCurrentOwner:Hf};te.Children={map:Zo,forEach:function(t,e,n){Zo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zo(t,function(){e++}),e},toArray:function(t){return Zo(t,function(e){return e})||[]},only:function(t){if(!Vf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=es;te.Fragment=aC;te.Profiler=uC;te.PureComponent=Bf;te.StrictMode=lC;te.Suspense=hC;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Iy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)by.call(e,l)&&!Ry.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Do,type:t.type,key:i,ref:s,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:dC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cC,_context:t},t.Consumer=t};te.createElement=Py;te.createFactory=function(t){var e=Py.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:fC,render:t}};te.isValidElement=Vf;te.lazy=function(t){return{$$typeof:mC,_payload:{_status:-1,_result:t},_init:_C}};te.memo=function(t,e){return{$$typeof:pC,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=ba.transition;ba.transition={};try{t()}finally{ba.transition=e}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(t,e){return at.current.useCallback(t,e)};te.useContext=function(t){return at.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return at.current.useDeferredValue(t)};te.useEffect=function(t,e){return at.current.useEffect(t,e)};te.useId=function(){return at.current.useId()};te.useImperativeHandle=function(t,e,n){return at.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return at.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return at.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return at.current.useMemo(t,e)};te.useReducer=function(t,e,n){return at.current.useReducer(t,e,n)};te.useRef=function(t){return at.current.useRef(t)};te.useState=function(t){return at.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return at.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return at.current.useTransition()};te.version="18.2.0";Sy.exports=te;var P=Sy.exports;const ne=wy(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=P,SC=Symbol.for("react.element"),CC=Symbol.for("react.fragment"),IC=Object.prototype.hasOwnProperty,TC=EC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kC={key:!0,ref:!0,__self:!0,__source:!0};function Ny(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IC.call(e,r)&&!kC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SC,type:t,key:s,ref:o,props:i,_owner:TC.current}}ru.Fragment=CC;ru.jsx=Ny;ru.jsxs=Ny;Ey.exports=ru;var j=Ey.exports,fd={},xy={exports:{}},kt={},Oy={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,x){var k=A.length;A.push(x);e:for(;0<k;){var $=k-1>>>1,M=A[$];if(0<i(M,x))A[$]=x,A[k]=M,k=$;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var x=A[0],k=A.pop();if(k!==x){A[0]=k;e:for(var $=0,M=A.length,z=M>>>1;$<z;){var W=2*($+1)-1,V=A[W],Q=W+1,X=A[Q];if(0>i(V,k))Q<M&&0>i(X,V)?(A[$]=X,A[Q]=k,$=Q):(A[$]=V,A[W]=k,$=W);else if(Q<M&&0>i(X,k))A[$]=X,A[Q]=k,$=Q;else break e}}return x}function i(A,x){var k=A.sortIndex-x.sortIndex;return k!==0?k:A.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var x=n(u);x!==null;){if(x.callback===null)r(u);else if(x.startTime<=A)r(u),x.sortIndex=x.expirationTime,e(l,x);else break;x=n(u)}}function _(A){if(y=!1,m(A),!v)if(n(l)!==null)v=!0,B(E);else{var x=n(u);x!==null&&q(_,x.startTime-A)}}function E(A,x){v=!1,y&&(y=!1,g(I),I=-1),h=!0;var k=f;try{for(m(x),d=n(l);d!==null&&(!(d.expirationTime>x)||A&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var M=$(d.expirationTime<=x);x=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),m(x)}else r(l);d=n(l)}if(d!==null)var z=!0;else{var W=n(u);W!==null&&q(_,W.startTime-x),z=!1}return z}finally{d=null,f=k,h=!1}}var S=!1,C=null,I=-1,b=5,T=-1;function O(){return!(t.unstable_now()-T<b)}function R(){if(C!==null){var A=t.unstable_now();T=A;var x=!0;try{x=C(!0,A)}finally{x?N():(S=!1,C=null)}}else S=!1}var N;if(typeof p=="function")N=function(){p(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,L=D.port2;D.port1.onmessage=R,N=function(){L.postMessage(null)}}else N=function(){w(R,0)};function B(A){C=A,S||(S=!0,N())}function q(A,x){I=w(function(){A(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,B(E))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var x=3;break;default:x=f}var k=f;f=x;try{return A()}finally{f=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,x){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var k=f;f=A;try{return x()}finally{f=k}},t.unstable_scheduleCallback=function(A,x,k){var $=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?$+k:$):k=$,A){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=k+M,A={id:c++,callback:x,priorityLevel:A,startTime:k,expirationTime:M,sortIndex:-1},k>$?(A.sortIndex=k,e(u,A),n(l)===null&&A===n(u)&&(y?(g(I),I=-1):y=!0,q(_,k-$))):(A.sortIndex=M,e(l,A),v||h||(v=!0,B(E))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var x=f;return function(){var k=f;f=x;try{return A.apply(this,arguments)}finally{f=k}}}})(Ay);Oy.exports=Ay;var bC=Oy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy=P,It=bC;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ly=new Set,Js={};function ri(t,e){$i(t,e),$i(t+"Capture",e)}function $i(t,e){for(Js[t]=e,t=0;t<e.length;t++)Ly.add(e[t])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,RC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,am={},lm={};function PC(t){return hd.call(lm,t)?!0:hd.call(am,t)?!1:RC.test(t)?lm[t]=!0:(am[t]=!0,!1)}function NC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xC(t,e,n,r){if(e===null||typeof e>"u"||NC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qf=/[\-:]([a-z])/g;function Qf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qf,Qf);Ye[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qf,Qf);Ye[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qf,Qf);Ye[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kf(t,e,n,r){var i=Ye.hasOwnProperty(e)?Ye[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xC(e,n,i,r)&&(n=null),r||i===null?PC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pn=Dy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ea=Symbol.for("react.element"),fi=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),pd=Symbol.for("react.profiler"),My=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),Yf=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),gd=Symbol.for("react.suspense_list"),Jf=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Uy=Symbol.for("react.offscreen"),um=Symbol.iterator;function fs(t){return t===null||typeof t!="object"?null:(t=um&&t[um]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,lc;function Ts(t){if(lc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lc=e&&e[1]||""}return`
`+lc+t}var uc=!1;function cc(t,e){if(!t||uc)return"";uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{uc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ts(t):""}function OC(t){switch(t.tag){case 5:return Ts(t.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 2:case 15:return t=cc(t.type,!1),t;case 11:return t=cc(t.type.render,!1),t;case 1:return t=cc(t.type,!0),t;default:return""}}function vd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hi:return"Fragment";case fi:return"Portal";case pd:return"Profiler";case Gf:return"StrictMode";case md:return"Suspense";case gd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fy:return(t.displayName||"Context")+".Consumer";case My:return(t._context.displayName||"Context")+".Provider";case Yf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jf:return e=t.displayName||null,e!==null?e:vd(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return vd(t(e))}catch{}}return null}function AC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vd(e);case 8:return e===Gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $y(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DC(t){var e=$y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ta(t){t._valueTracker||(t._valueTracker=DC(t))}function zy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$y(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yd(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jy(t,e){e=e.checked,e!=null&&Kf(t,"checked",e,!1)}function _d(t,e){jy(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wd(t,e.type,n):e.hasOwnProperty("defaultValue")&&wd(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wd(t,e,n){(e!=="number"||Qa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ks=Array.isArray;function ki(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ed(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(ks(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function By(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var na,Hy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(na=na||document.createElement("div"),na.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=na.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LC=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(t){LC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Os[e]=Os[t]})});function Vy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Os.hasOwnProperty(t)&&Os[t]?(""+e).trim():e+"px"}function qy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MC=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cd(t,e){if(e){if(MC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Id(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function Xf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kd=null,bi=null,Ri=null;function pm(t){if(t=Fo(t)){if(typeof kd!="function")throw Error(F(280));var e=t.stateNode;e&&(e=lu(e),kd(t.stateNode,t.type,e))}}function Qy(t){bi?Ri?Ri.push(t):Ri=[t]:bi=t}function Ky(){if(bi){var t=bi,e=Ri;if(Ri=bi=null,pm(t),e)for(t=0;t<e.length;t++)pm(e[t])}}function Gy(t,e){return t(e)}function Yy(){}var dc=!1;function Jy(t,e,n){if(dc)return t(e,n);dc=!0;try{return Gy(t,e,n)}finally{dc=!1,(bi!==null||Ri!==null)&&(Yy(),Ky())}}function Zs(t,e){var n=t.stateNode;if(n===null)return null;var r=lu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var bd=!1;if(Sn)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){bd=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{bd=!1}function FC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var As=!1,Ka=null,Ga=!1,Rd=null,UC={onError:function(t){As=!0,Ka=t}};function $C(t,e,n,r,i,s,o,a,l){As=!1,Ka=null,FC.apply(UC,arguments)}function zC(t,e,n,r,i,s,o,a,l){if($C.apply(this,arguments),As){if(As){var u=Ka;As=!1,Ka=null}else throw Error(F(198));Ga||(Ga=!0,Rd=u)}}function ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mm(t){if(ii(t)!==t)throw Error(F(188))}function jC(t){var e=t.alternate;if(!e){if(e=ii(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return mm(i),t;if(s===r)return mm(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Zy(t){return t=jC(t),t!==null?e_(t):null}function e_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e_(t);if(e!==null)return e;t=t.sibling}return null}var t_=It.unstable_scheduleCallback,gm=It.unstable_cancelCallback,BC=It.unstable_shouldYield,WC=It.unstable_requestPaint,Re=It.unstable_now,HC=It.unstable_getCurrentPriorityLevel,Zf=It.unstable_ImmediatePriority,n_=It.unstable_UserBlockingPriority,Ya=It.unstable_NormalPriority,VC=It.unstable_LowPriority,r_=It.unstable_IdlePriority,iu=null,nn=null;function qC(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(iu,t,void 0,(t.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:GC,QC=Math.log,KC=Math.LN2;function GC(t){return t>>>=0,t===0?32:31-(QC(t)/KC|0)|0}var ra=64,ia=4194304;function bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ja(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=bs(a):(s&=o,s!==0&&(r=bs(s)))}else o=n&~i,o!==0?r=bs(o):s!==0&&(r=bs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qt(e),i=1<<n,r|=t[n],e&=~i;return r}function YC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=YC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i_(){var t=ra;return ra<<=1,!(ra&4194240)&&(ra=64),t}function fc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qt(e),t[e]=n}function XC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function eh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function s_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o_,th,a_,l_,u_,Nd=!1,sa=[],Yn=null,Jn=null,Xn=null,eo=new Map,to=new Map,zn=[],ZC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vm(t,e){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(e.pointerId)}}function ps(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fo(e),e!==null&&th(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function e1(t,e,n,r,i){switch(e){case"focusin":return Yn=ps(Yn,t,e,n,r,i),!0;case"dragenter":return Jn=ps(Jn,t,e,n,r,i),!0;case"mouseover":return Xn=ps(Xn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return eo.set(s,ps(eo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,to.set(s,ps(to.get(s)||null,t,e,n,r,i)),!0}return!1}function c_(t){var e=Ar(t.target);if(e!==null){var n=ii(e);if(n!==null){if(e=n.tag,e===13){if(e=Xy(n),e!==null){t.blockedOn=e,u_(t.priority,function(){a_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ra(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Td=r,n.target.dispatchEvent(r),Td=null}else return e=Fo(n),e!==null&&th(e),t.blockedOn=n,!1;e.shift()}return!0}function ym(t,e,n){Ra(t)&&n.delete(e)}function t1(){Nd=!1,Yn!==null&&Ra(Yn)&&(Yn=null),Jn!==null&&Ra(Jn)&&(Jn=null),Xn!==null&&Ra(Xn)&&(Xn=null),eo.forEach(ym),to.forEach(ym)}function ms(t,e){t.blockedOn===e&&(t.blockedOn=null,Nd||(Nd=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,t1)))}function no(t){function e(i){return ms(i,t)}if(0<sa.length){ms(sa[0],t);for(var n=1;n<sa.length;n++){var r=sa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yn!==null&&ms(Yn,t),Jn!==null&&ms(Jn,t),Xn!==null&&ms(Xn,t),eo.forEach(e),to.forEach(e),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)c_(n),n.blockedOn===null&&zn.shift()}var Pi=Pn.ReactCurrentBatchConfig,Xa=!0;function n1(t,e,n,r){var i=se,s=Pi.transition;Pi.transition=null;try{se=1,nh(t,e,n,r)}finally{se=i,Pi.transition=s}}function r1(t,e,n,r){var i=se,s=Pi.transition;Pi.transition=null;try{se=4,nh(t,e,n,r)}finally{se=i,Pi.transition=s}}function nh(t,e,n,r){if(Xa){var i=xd(t,e,n,r);if(i===null)Sc(t,e,r,Za,n),vm(t,r);else if(e1(i,t,e,n,r))r.stopPropagation();else if(vm(t,r),e&4&&-1<ZC.indexOf(t)){for(;i!==null;){var s=Fo(i);if(s!==null&&o_(s),s=xd(t,e,n,r),s===null&&Sc(t,e,r,Za,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sc(t,e,r,null,n)}}var Za=null;function xd(t,e,n,r){if(Za=null,t=Xf(r),t=Ar(t),t!==null)if(e=ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Za=t,null}function d_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HC()){case Zf:return 1;case n_:return 4;case Ya:case VC:return 16;case r_:return 536870912;default:return 16}default:return 16}}var qn=null,rh=null,Pa=null;function f_(){if(Pa)return Pa;var t,e=rh,n=e.length,r,i="value"in qn?qn.value:qn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pa=i.slice(t,1<r?1-r:void 0)}function Na(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oa(){return!0}function _m(){return!1}function bt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oa:_m,this.isPropagationStopped=_m,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),e}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=bt(ts),Mo=Ce({},ts,{view:0,detail:0}),i1=bt(Mo),hc,pc,gs,su=Ce({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(hc=t.screenX-gs.screenX,pc=t.screenY-gs.screenY):pc=hc=0,gs=t),hc)},movementY:function(t){return"movementY"in t?t.movementY:pc}}),wm=bt(su),s1=Ce({},su,{dataTransfer:0}),o1=bt(s1),a1=Ce({},Mo,{relatedTarget:0}),mc=bt(a1),l1=Ce({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),u1=bt(l1),c1=Ce({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d1=bt(c1),f1=Ce({},ts,{data:0}),Em=bt(f1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m1[t])?!!e[t]:!1}function sh(){return g1}var v1=Ce({},Mo,{key:function(t){if(t.key){var e=h1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Na(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sh,charCode:function(t){return t.type==="keypress"?Na(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Na(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y1=bt(v1),_1=Ce({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sm=bt(_1),w1=Ce({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sh}),E1=bt(w1),S1=Ce({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),C1=bt(S1),I1=Ce({},su,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T1=bt(I1),k1=[9,13,27,32],oh=Sn&&"CompositionEvent"in window,Ds=null;Sn&&"documentMode"in document&&(Ds=document.documentMode);var b1=Sn&&"TextEvent"in window&&!Ds,h_=Sn&&(!oh||Ds&&8<Ds&&11>=Ds),Cm=String.fromCharCode(32),Im=!1;function p_(t,e){switch(t){case"keyup":return k1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function R1(t,e){switch(t){case"compositionend":return m_(e);case"keypress":return e.which!==32?null:(Im=!0,Cm);case"textInput":return t=e.data,t===Cm&&Im?null:t;default:return null}}function P1(t,e){if(pi)return t==="compositionend"||!oh&&p_(t,e)?(t=f_(),Pa=rh=qn=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h_&&e.locale!=="ko"?null:e.data;default:return null}}var N1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N1[t.type]:e==="textarea"}function g_(t,e,n,r){Qy(r),e=el(e,"onChange"),0<e.length&&(n=new ih("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ls=null,ro=null;function x1(t){b_(t,0)}function ou(t){var e=vi(t);if(zy(e))return t}function O1(t,e){if(t==="change")return e}var v_=!1;if(Sn){var gc;if(Sn){var vc="oninput"in document;if(!vc){var km=document.createElement("div");km.setAttribute("oninput","return;"),vc=typeof km.oninput=="function"}gc=vc}else gc=!1;v_=gc&&(!document.documentMode||9<document.documentMode)}function bm(){Ls&&(Ls.detachEvent("onpropertychange",y_),ro=Ls=null)}function y_(t){if(t.propertyName==="value"&&ou(ro)){var e=[];g_(e,ro,t,Xf(t)),Jy(x1,e)}}function A1(t,e,n){t==="focusin"?(bm(),Ls=e,ro=n,Ls.attachEvent("onpropertychange",y_)):t==="focusout"&&bm()}function D1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(ro)}function L1(t,e){if(t==="click")return ou(e)}function M1(t,e){if(t==="input"||t==="change")return ou(e)}function F1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:F1;function io(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hd.call(e,i)||!Gt(t[i],e[i]))return!1}return!0}function Rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pm(t,e){var n=Rm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rm(n)}}function __(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?__(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w_(){for(var t=window,e=Qa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qa(t.document)}return e}function ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function U1(t){var e=w_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&__(n.ownerDocument.documentElement,n)){if(r!==null&&ah(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Pm(n,s);var o=Pm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $1=Sn&&"documentMode"in document&&11>=document.documentMode,mi=null,Od=null,Ms=null,Ad=!1;function Nm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ad||mi==null||mi!==Qa(r)||(r=mi,"selectionStart"in r&&ah(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ms&&io(Ms,r)||(Ms=r,r=el(Od,"onSelect"),0<r.length&&(e=new ih("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mi)))}function aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gi={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},yc={},E_={};Sn&&(E_=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function au(t){if(yc[t])return yc[t];if(!gi[t])return t;var e=gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E_)return yc[t]=e[n];return t}var S_=au("animationend"),C_=au("animationiteration"),I_=au("animationstart"),T_=au("transitionend"),k_=new Map,xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,e){k_.set(t,e),ri(e,[t])}for(var _c=0;_c<xm.length;_c++){var wc=xm[_c],z1=wc.toLowerCase(),j1=wc[0].toUpperCase()+wc.slice(1);wr(z1,"on"+j1)}wr(S_,"onAnimationEnd");wr(C_,"onAnimationIteration");wr(I_,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(T_,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function Om(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zC(r,e,void 0,t),t.currentTarget=null}function b_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Om(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Om(i,a,u),s=l}}}if(Ga)throw t=Rd,Ga=!1,Rd=null,t}function he(t,e){var n=e[Ud];n===void 0&&(n=e[Ud]=new Set);var r=t+"__bubble";n.has(r)||(R_(e,t,2,!1),n.add(r))}function Ec(t,e,n){var r=0;e&&(r|=4),R_(n,t,r,e)}var la="_reactListening"+Math.random().toString(36).slice(2);function so(t){if(!t[la]){t[la]=!0,Ly.forEach(function(n){n!=="selectionchange"&&(B1.has(n)||Ec(n,!1,t),Ec(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[la]||(e[la]=!0,Ec("selectionchange",!1,e))}}function R_(t,e,n,r){switch(d_(e)){case 1:var i=n1;break;case 4:i=r1;break;default:i=nh}n=i.bind(null,e,n,t),i=void 0,!bd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ar(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Jy(function(){var u=s,c=Xf(n),d=[];e:{var f=k_.get(t);if(f!==void 0){var h=ih,v=t;switch(t){case"keypress":if(Na(n)===0)break e;case"keydown":case"keyup":h=y1;break;case"focusin":v="focus",h=mc;break;case"focusout":v="blur",h=mc;break;case"beforeblur":case"afterblur":h=mc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=E1;break;case S_:case C_:case I_:h=u1;break;case T_:h=C1;break;case"scroll":h=i1;break;case"wheel":h=T1;break;case"copy":case"cut":case"paste":h=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Sm}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,m;p!==null;){m=p;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,g!==null&&(_=Zs(p,g),_!=null&&y.push(oo(p,_,m)))),w)break;p=p.return}0<y.length&&(f=new h(f,v,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Td&&(v=n.relatedTarget||n.fromElement)&&(Ar(v)||v[Cn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Ar(v):null,v!==null&&(w=ii(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=wm,_="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Sm,_="onPointerLeave",g="onPointerEnter",p="pointer"),w=h==null?f:vi(h),m=v==null?f:vi(v),f=new y(_,p+"leave",h,n,c),f.target=w,f.relatedTarget=m,_=null,Ar(c)===u&&(y=new y(g,p+"enter",v,n,c),y.target=m,y.relatedTarget=w,_=y),w=_,h&&v)t:{for(y=h,g=v,p=0,m=y;m;m=ui(m))p++;for(m=0,_=g;_;_=ui(_))m++;for(;0<p-m;)y=ui(y),p--;for(;0<m-p;)g=ui(g),m--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=ui(y),g=ui(g)}y=null}else y=null;h!==null&&Am(d,f,h,y,!1),v!==null&&w!==null&&Am(d,w,v,y,!0)}}e:{if(f=u?vi(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=O1;else if(Tm(f))if(v_)E=M1;else{E=D1;var S=A1}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=L1);if(E&&(E=E(t,u))){g_(d,E,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&wd(f,"number",f.value)}switch(S=u?vi(u):window,t){case"focusin":(Tm(S)||S.contentEditable==="true")&&(mi=S,Od=u,Ms=null);break;case"focusout":Ms=Od=mi=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Nm(d,n,c);break;case"selectionchange":if($1)break;case"keydown":case"keyup":Nm(d,n,c)}var C;if(oh)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else pi?p_(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(h_&&n.locale!=="ko"&&(pi||I!=="onCompositionStart"?I==="onCompositionEnd"&&pi&&(C=f_()):(qn=c,rh="value"in qn?qn.value:qn.textContent,pi=!0)),S=el(u,I),0<S.length&&(I=new Em(I,t,null,n,c),d.push({event:I,listeners:S}),C?I.data=C:(C=m_(n),C!==null&&(I.data=C)))),(C=b1?R1(t,n):P1(t,n))&&(u=el(u,"onBeforeInput"),0<u.length&&(c=new Em("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}b_(d,e)})}function oo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function el(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zs(t,n),s!=null&&r.unshift(oo(t,s,i)),s=Zs(t,e),s!=null&&r.push(oo(t,s,i))),t=t.return}return r}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Am(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Zs(n,s),l!=null&&o.unshift(oo(n,l,a))):i||(l=Zs(n,s),l!=null&&o.push(oo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var W1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Dm(t){return(typeof t=="string"?t:""+t).replace(W1,`
`).replace(H1,"")}function ua(t,e,n){if(e=Dm(e),Dm(t)!==e&&n)throw Error(F(425))}function tl(){}var Dd=null,Ld=null;function Md(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(t){return Lm.resolve(null).then(t).catch(Q1)}:Fd;function Q1(t){setTimeout(function(){throw t})}function Cc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),no(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);no(e)}function Zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),en="__reactFiber$"+ns,ao="__reactProps$"+ns,Cn="__reactContainer$"+ns,Ud="__reactEvents$"+ns,K1="__reactListeners$"+ns,G1="__reactHandles$"+ns;function Ar(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mm(t);t!==null;){if(n=t[en])return n;t=Mm(t)}return e}t=n,n=t.parentNode}return null}function Fo(t){return t=t[en]||t[Cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function lu(t){return t[ao]||null}var $d=[],yi=-1;function Er(t){return{current:t}}function ge(t){0>yi||(t.current=$d[yi],$d[yi]=null,yi--)}function fe(t,e){yi++,$d[yi]=t.current,t.current=e}var hr={},rt=Er(hr),pt=Er(!1),Wr=hr;function zi(t,e){var n=t.type.contextTypes;if(!n)return hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function nl(){ge(pt),ge(rt)}function Fm(t,e,n){if(rt.current!==hr)throw Error(F(168));fe(rt,e),fe(pt,n)}function P_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,AC(t)||"Unknown",i));return Ce({},n,r)}function rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,Wr=rt.current,fe(rt,t),fe(pt,pt.current),!0}function Um(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=P_(t,e,Wr),r.__reactInternalMemoizedMergedChildContext=t,ge(pt),ge(rt),fe(rt,t)):ge(pt),fe(pt,n)}var hn=null,uu=!1,Ic=!1;function N_(t){hn===null?hn=[t]:hn.push(t)}function Y1(t){uu=!0,N_(t)}function Sr(){if(!Ic&&hn!==null){Ic=!0;var t=0,e=se;try{var n=hn;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hn=null,uu=!1}catch(i){throw hn!==null&&(hn=hn.slice(t+1)),t_(Zf,Sr),i}finally{se=e,Ic=!1}}return null}var _i=[],wi=0,il=null,sl=0,xt=[],Ot=0,Hr=null,mn=1,gn="";function kr(t,e){_i[wi++]=sl,_i[wi++]=il,il=t,sl=e}function x_(t,e,n){xt[Ot++]=mn,xt[Ot++]=gn,xt[Ot++]=Hr,Hr=t;var r=mn;t=gn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var s=32-qt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mn=1<<32-qt(e)+i|n<<i|r,gn=s+t}else mn=1<<s|n<<i|r,gn=t}function lh(t){t.return!==null&&(kr(t,1),x_(t,1,0))}function uh(t){for(;t===il;)il=_i[--wi],_i[wi]=null,sl=_i[--wi],_i[wi]=null;for(;t===Hr;)Hr=xt[--Ot],xt[Ot]=null,gn=xt[--Ot],xt[Ot]=null,mn=xt[--Ot],xt[Ot]=null}var Ct=null,St=null,_e=!1,Bt=null;function O_(t,e){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $m(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ct=t,St=Zn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ct=t,St=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hr!==null?{id:mn,overflow:gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ct=t,St=null,!0):!1;default:return!1}}function zd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jd(t){if(_e){var e=St;if(e){var n=e;if(!$m(t,e)){if(zd(t))throw Error(F(418));e=Zn(n.nextSibling);var r=Ct;e&&$m(t,e)?O_(r,n):(t.flags=t.flags&-4097|2,_e=!1,Ct=t)}}else{if(zd(t))throw Error(F(418));t.flags=t.flags&-4097|2,_e=!1,Ct=t}}}function zm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function ca(t){if(t!==Ct)return!1;if(!_e)return zm(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Md(t.type,t.memoizedProps)),e&&(e=St)){if(zd(t))throw A_(),Error(F(418));for(;e;)O_(t,e),e=Zn(e.nextSibling)}if(zm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){St=Zn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}St=null}}else St=Ct?Zn(t.stateNode.nextSibling):null;return!0}function A_(){for(var t=St;t;)t=Zn(t.nextSibling)}function ji(){St=Ct=null,_e=!1}function ch(t){Bt===null?Bt=[t]:Bt.push(t)}var J1=Pn.ReactCurrentBatchConfig;function zt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ol=Er(null),al=null,Ei=null,dh=null;function fh(){dh=Ei=al=null}function hh(t){var e=ol.current;ge(ol),t._currentValue=e}function Bd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ni(t,e){al=t,dh=Ei=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(dh!==t)if(t={context:t,memoizedValue:e,next:null},Ei===null){if(al===null)throw Error(F(308));Ei=t,al.dependencies={lanes:0,firstContext:t}}else Ei=Ei.next=t;return e}var Dr=null;function ph(t){Dr===null?Dr=[t]:Dr.push(t)}function D_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ph(e)):(n.next=i.next,i.next=n),e.interleaved=n,In(t,r)}function In(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $n=!1;function mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function er(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,In(t,n)}return i=r.interleaved,i===null?(e.next=e,ph(r)):(e.next=i.next,i.next=e),r.interleaved=e,In(t,n)}function xa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eh(t,n)}}function jm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ll(t,e,n,r){var i=t.updateQueue;$n=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(h,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(h,d,f):v,f==null)break e;d=Ce({},d,f);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qr|=o,t.lanes=o,t.memoizedState=d}}function Bm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var M_=new Dy.Component().refs;function Wd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cu={isMounted:function(t){return(t=t._reactInternals)?ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ot(),i=nr(t),s=wn(r,i);s.payload=e,n!=null&&(s.callback=n),e=er(t,s,i),e!==null&&(Qt(e,t,i,r),xa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ot(),i=nr(t),s=wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=er(t,s,i),e!==null&&(Qt(e,t,i,r),xa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),r=nr(t),i=wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=er(t,i,r),e!==null&&(Qt(e,t,r,n),xa(e,t,r))}};function Wm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!io(n,r)||!io(i,s):!0}function F_(t,e,n){var r=!1,i=hr,s=e.contextType;return typeof s=="object"&&s!==null?s=Lt(s):(i=mt(e)?Wr:rt.current,r=e.contextTypes,s=(r=r!=null)?zi(t,i):hr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Hm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cu.enqueueReplaceState(e,e.state,null)}function Hd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=M_,mh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Lt(s):(s=mt(e)?Wr:rt.current,i.context=zi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cu.enqueueReplaceState(i,i.state,null),ll(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===M_&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function da(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vm(t){var e=t._init;return e(t._payload)}function U_(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=rr(g,p),g.index=0,g.sibling=null,g}function s(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,_){return p===null||p.tag!==6?(p=xc(m,g.mode,_),p.return=g,p):(p=i(p,m),p.return=g,p)}function l(g,p,m,_){var E=m.type;return E===hi?c(g,p,m.props.children,_,m.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Un&&Vm(E)===p.type)?(_=i(p,m.props),_.ref=vs(g,p,m),_.return=g,_):(_=Fa(m.type,m.key,m.props,null,g.mode,_),_.ref=vs(g,p,m),_.return=g,_)}function u(g,p,m,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Oc(m,g.mode,_),p.return=g,p):(p=i(p,m.children||[]),p.return=g,p)}function c(g,p,m,_,E){return p===null||p.tag!==7?(p=zr(m,g.mode,_,E),p.return=g,p):(p=i(p,m),p.return=g,p)}function d(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=xc(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ea:return m=Fa(p.type,p.key,p.props,null,g.mode,m),m.ref=vs(g,null,p),m.return=g,m;case fi:return p=Oc(p,g.mode,m),p.return=g,p;case Un:var _=p._init;return d(g,_(p._payload),m)}if(ks(p)||fs(p))return p=zr(p,g.mode,m,null),p.return=g,p;da(g,p)}return null}function f(g,p,m,_){var E=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:a(g,p,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ea:return m.key===E?l(g,p,m,_):null;case fi:return m.key===E?u(g,p,m,_):null;case Un:return E=m._init,f(g,p,E(m._payload),_)}if(ks(m)||fs(m))return E!==null?null:c(g,p,m,_,null);da(g,m)}return null}function h(g,p,m,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(m)||null,a(p,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ea:return g=g.get(_.key===null?m:_.key)||null,l(p,g,_,E);case fi:return g=g.get(_.key===null?m:_.key)||null,u(p,g,_,E);case Un:var S=_._init;return h(g,p,m,S(_._payload),E)}if(ks(_)||fs(_))return g=g.get(m)||null,c(p,g,_,E,null);da(p,_)}return null}function v(g,p,m,_){for(var E=null,S=null,C=p,I=p=0,b=null;C!==null&&I<m.length;I++){C.index>I?(b=C,C=null):b=C.sibling;var T=f(g,C,m[I],_);if(T===null){C===null&&(C=b);break}t&&C&&T.alternate===null&&e(g,C),p=s(T,p,I),S===null?E=T:S.sibling=T,S=T,C=b}if(I===m.length)return n(g,C),_e&&kr(g,I),E;if(C===null){for(;I<m.length;I++)C=d(g,m[I],_),C!==null&&(p=s(C,p,I),S===null?E=C:S.sibling=C,S=C);return _e&&kr(g,I),E}for(C=r(g,C);I<m.length;I++)b=h(C,g,I,m[I],_),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?I:b.key),p=s(b,p,I),S===null?E=b:S.sibling=b,S=b);return t&&C.forEach(function(O){return e(g,O)}),_e&&kr(g,I),E}function y(g,p,m,_){var E=fs(m);if(typeof E!="function")throw Error(F(150));if(m=E.call(m),m==null)throw Error(F(151));for(var S=E=null,C=p,I=p=0,b=null,T=m.next();C!==null&&!T.done;I++,T=m.next()){C.index>I?(b=C,C=null):b=C.sibling;var O=f(g,C,T.value,_);if(O===null){C===null&&(C=b);break}t&&C&&O.alternate===null&&e(g,C),p=s(O,p,I),S===null?E=O:S.sibling=O,S=O,C=b}if(T.done)return n(g,C),_e&&kr(g,I),E;if(C===null){for(;!T.done;I++,T=m.next())T=d(g,T.value,_),T!==null&&(p=s(T,p,I),S===null?E=T:S.sibling=T,S=T);return _e&&kr(g,I),E}for(C=r(g,C);!T.done;I++,T=m.next())T=h(C,g,I,T.value,_),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?I:T.key),p=s(T,p,I),S===null?E=T:S.sibling=T,S=T);return t&&C.forEach(function(R){return e(g,R)}),_e&&kr(g,I),E}function w(g,p,m,_){if(typeof m=="object"&&m!==null&&m.type===hi&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ea:e:{for(var E=m.key,S=p;S!==null;){if(S.key===E){if(E=m.type,E===hi){if(S.tag===7){n(g,S.sibling),p=i(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Un&&Vm(E)===S.type){n(g,S.sibling),p=i(S,m.props),p.ref=vs(g,S,m),p.return=g,g=p;break e}n(g,S);break}else e(g,S);S=S.sibling}m.type===hi?(p=zr(m.props.children,g.mode,_,m.key),p.return=g,g=p):(_=Fa(m.type,m.key,m.props,null,g.mode,_),_.ref=vs(g,p,m),_.return=g,g=_)}return o(g);case fi:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=i(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Oc(m,g.mode,_),p.return=g,g=p}return o(g);case Un:return S=m._init,w(g,p,S(m._payload),_)}if(ks(m))return v(g,p,m,_);if(fs(m))return y(g,p,m,_);da(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,m),p.return=g,g=p):(n(g,p),p=xc(m,g.mode,_),p.return=g,g=p),o(g)):n(g,p)}return w}var Bi=U_(!0),$_=U_(!1),Uo={},rn=Er(Uo),lo=Er(Uo),uo=Er(Uo);function Lr(t){if(t===Uo)throw Error(F(174));return t}function gh(t,e){switch(fe(uo,e),fe(lo,t),fe(rn,Uo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sd(e,t)}ge(rn),fe(rn,e)}function Wi(){ge(rn),ge(lo),ge(uo)}function z_(t){Lr(uo.current);var e=Lr(rn.current),n=Sd(e,t.type);e!==n&&(fe(lo,t),fe(rn,n))}function vh(t){lo.current===t&&(ge(rn),ge(lo))}var Ee=Er(0);function ul(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tc=[];function yh(){for(var t=0;t<Tc.length;t++)Tc[t]._workInProgressVersionPrimary=null;Tc.length=0}var Oa=Pn.ReactCurrentDispatcher,kc=Pn.ReactCurrentBatchConfig,Vr=0,Se=null,De=null,$e=null,cl=!1,Fs=!1,co=0,X1=0;function Xe(){throw Error(F(321))}function _h(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function wh(t,e,n,r,i,s){if(Vr=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oa.current=t===null||t.memoizedState===null?nI:rI,t=n(r,i),Fs){s=0;do{if(Fs=!1,co=0,25<=s)throw Error(F(301));s+=1,$e=De=null,e.updateQueue=null,Oa.current=iI,t=n(r,i)}while(Fs)}if(Oa.current=dl,e=De!==null&&De.next!==null,Vr=0,$e=De=Se=null,cl=!1,e)throw Error(F(300));return t}function Eh(){var t=co!==0;return co=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Se.memoizedState=$e=t:$e=$e.next=t,$e}function Mt(){if(De===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=$e===null?Se.memoizedState:$e.next;if(e!==null)$e=e,De=t;else{if(t===null)throw Error(F(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},$e===null?Se.memoizedState=$e=t:$e=$e.next=t}return $e}function fo(t,e){return typeof e=="function"?e(t):e}function bc(t){var e=Mt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Vr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Se.lanes|=c,qr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Gt(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Se.lanes|=s,qr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rc(t){var e=Mt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gt(s,e.memoizedState)||(ct=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function j_(){}function B_(t,e){var n=Se,r=Mt(),i=e(),s=!Gt(r.memoizedState,i);if(s&&(r.memoizedState=i,ct=!0),r=r.queue,Sh(V_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,ho(9,H_.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(F(349));Vr&30||W_(n,e,i)}return i}function W_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function H_(t,e,n,r){e.value=n,e.getSnapshot=r,q_(e)&&Q_(t)}function V_(t,e,n){return n(function(){q_(e)&&Q_(t)})}function q_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function Q_(t){var e=In(t,1);e!==null&&Qt(e,t,1,-1)}function qm(t){var e=Zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:t},e.queue=t,t=t.dispatch=tI.bind(null,Se,t),[e.memoizedState,t]}function ho(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function K_(){return Mt().memoizedState}function Aa(t,e,n,r){var i=Zt();Se.flags|=t,i.memoizedState=ho(1|e,n,void 0,r===void 0?null:r)}function du(t,e,n,r){var i=Mt();r=r===void 0?null:r;var s=void 0;if(De!==null){var o=De.memoizedState;if(s=o.destroy,r!==null&&_h(r,o.deps)){i.memoizedState=ho(e,n,s,r);return}}Se.flags|=t,i.memoizedState=ho(1|e,n,s,r)}function Qm(t,e){return Aa(8390656,8,t,e)}function Sh(t,e){return du(2048,8,t,e)}function G_(t,e){return du(4,2,t,e)}function Y_(t,e){return du(4,4,t,e)}function J_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X_(t,e,n){return n=n!=null?n.concat([t]):null,du(4,4,J_.bind(null,e,t),n)}function Ch(){}function Z_(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_h(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e0(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_h(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t0(t,e,n){return Vr&21?(Gt(n,e)||(n=i_(),Se.lanes|=n,qr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n)}function Z1(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=kc.transition;kc.transition={};try{t(!1),e()}finally{se=n,kc.transition=r}}function n0(){return Mt().memoizedState}function eI(t,e,n){var r=nr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r0(t))i0(e,n);else if(n=D_(t,e,n,r),n!==null){var i=ot();Qt(n,t,r,i),s0(n,e,r)}}function tI(t,e,n){var r=nr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r0(t))i0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gt(a,o)){var l=e.interleaved;l===null?(i.next=i,ph(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=D_(t,e,i,r),n!==null&&(i=ot(),Qt(n,t,r,i),s0(n,e,r))}}function r0(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function i0(t,e){Fs=cl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function s0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eh(t,n)}}var dl={readContext:Lt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},nI={readContext:Lt,useCallback:function(t,e){return Zt().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:Qm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Aa(4194308,4,J_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Aa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Aa(4,2,t,e)},useMemo:function(t,e){var n=Zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eI.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=Zt();return t={current:t},e.memoizedState=t},useState:qm,useDebugValue:Ch,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=qm(!1),e=t[0];return t=Z1.bind(null,t[1]),Zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=Zt();if(_e){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Be===null)throw Error(F(349));Vr&30||W_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qm(V_.bind(null,r,s,t),[t]),r.flags|=2048,ho(9,H_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zt(),e=Be.identifierPrefix;if(_e){var n=gn,r=mn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=co++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=X1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rI={readContext:Lt,useCallback:Z_,useContext:Lt,useEffect:Sh,useImperativeHandle:X_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:e0,useReducer:bc,useRef:K_,useState:function(){return bc(fo)},useDebugValue:Ch,useDeferredValue:function(t){var e=Mt();return t0(e,De.memoizedState,t)},useTransition:function(){var t=bc(fo)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:B_,useId:n0,unstable_isNewReconciler:!1},iI={readContext:Lt,useCallback:Z_,useContext:Lt,useEffect:Sh,useImperativeHandle:X_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:e0,useReducer:Rc,useRef:K_,useState:function(){return Rc(fo)},useDebugValue:Ch,useDeferredValue:function(t){var e=Mt();return De===null?e.memoizedState=t:t0(e,De.memoizedState,t)},useTransition:function(){var t=Rc(fo)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:B_,useId:n0,unstable_isNewReconciler:!1};function Hi(t,e){try{var n="",r=e;do n+=OC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sI=typeof WeakMap=="function"?WeakMap:Map;function o0(t,e,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hl||(hl=!0,tf=r),Vd(t,e)},n}function a0(t,e,n){n=wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vd(t,e),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Km(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_I.bind(null,t,e,n),e.then(t,t))}function Gm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ym(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wn(-1,1),e.tag=2,er(n,e,1))),n.lanes|=1),t)}var oI=Pn.ReactCurrentOwner,ct=!1;function st(t,e,n,r){e.child=t===null?$_(e,null,n,r):Bi(e,t.child,n,r)}function Jm(t,e,n,r,i){n=n.render;var s=e.ref;return Ni(e,i),r=wh(t,e,n,r,s,i),n=Eh(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(_e&&n&&lh(e),e.flags|=1,st(t,e,r,i),e.child)}function Xm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,l0(t,e,s,r,i)):(t=Fa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:io,n(o,r)&&t.ref===e.ref)return Tn(t,e,i)}return e.flags|=1,t=rr(s,r),t.ref=e.ref,t.return=e,e.child=t}function l0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(io(s,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,Tn(t,e,i)}return qd(t,e,n,r,i)}function u0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Ci,Et),Et|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Ci,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(Ci,Et),Et|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fe(Ci,Et),Et|=r;return st(t,e,i,n),e.child}function c0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qd(t,e,n,r,i){var s=mt(n)?Wr:rt.current;return s=zi(e,s),Ni(e,i),n=wh(t,e,n,r,s,i),r=Eh(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(_e&&r&&lh(e),e.flags|=1,st(t,e,n,i),e.child)}function Zm(t,e,n,r,i){if(mt(n)){var s=!0;rl(e)}else s=!1;if(Ni(e,i),e.stateNode===null)Da(t,e),F_(e,n,r),Hd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=mt(n)?Wr:rt.current,u=zi(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hm(e,o,r,u),$n=!1;var f=e.memoizedState;o.state=f,ll(e,r,o,i),l=e.memoizedState,a!==r||f!==l||pt.current||$n?(typeof c=="function"&&(Wd(e,n,c,r),l=e.memoizedState),(a=$n||Wm(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,L_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:zt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Lt(l):(l=mt(n)?Wr:rt.current,l=zi(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Hm(e,o,r,l),$n=!1,f=e.memoizedState,o.state=f,ll(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||pt.current||$n?(typeof h=="function"&&(Wd(e,n,h,r),v=e.memoizedState),(u=$n||Wm(e,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Qd(t,e,n,r,s,i)}function Qd(t,e,n,r,i,s){c0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Um(e,n,!1),Tn(t,e,s);r=e.stateNode,oI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bi(e,t.child,null,s),e.child=Bi(e,null,a,s)):st(t,e,a,s),e.memoizedState=r.state,i&&Um(e,n,!0),e.child}function d0(t){var e=t.stateNode;e.pendingContext?Fm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fm(t,e.context,!1),gh(t,e.containerInfo)}function eg(t,e,n,r,i){return ji(),ch(i),e.flags|=256,st(t,e,n,r),e.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function Gd(t){return{baseLanes:t,cachePool:null,transitions:null}}function f0(t,e,n){var r=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(Ee,i&1),t===null)return jd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pu(o,r,0,null),t=zr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gd(n),e.memoizedState=Kd,t):Ih(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rr(a,s):(s=zr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kd,r}return s=t.child,t=s.sibling,r=rr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ih(t,e){return e=pu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fa(t,e,n,r){return r!==null&&ch(r),Bi(e,t.child,null,n),t=Ih(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pc(Error(F(422))),fa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pu({mode:"visible",children:r.children},i,0,null),s=zr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Bi(e,t.child,null,o),e.child.memoizedState=Gd(o),e.memoizedState=Kd,s);if(!(e.mode&1))return fa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Pc(s,r,void 0),fa(t,e,o,r)}if(a=(o&t.childLanes)!==0,ct||a){if(r=Be,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,In(t,i),Qt(r,t,i,-1))}return Nh(),r=Pc(Error(F(421))),fa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,St=Zn(i.nextSibling),Ct=e,_e=!0,Bt=null,t!==null&&(xt[Ot++]=mn,xt[Ot++]=gn,xt[Ot++]=Hr,mn=t.id,gn=t.overflow,Hr=e),e=Ih(e,r.children),e.flags|=4096,e)}function tg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bd(t.return,e,n)}function Nc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function h0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(st(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tg(t,n,e);else if(t.tag===19)tg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ul(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ul(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nc(e,!0,n,null,s);break;case"together":Nc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Da(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lI(t,e,n){switch(e.tag){case 3:d0(e),ji();break;case 5:z_(e);break;case 1:mt(e.type)&&rl(e);break;case 4:gh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(ol,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?f0(t,e,n):(fe(Ee,Ee.current&1),t=Tn(t,e,n),t!==null?t.sibling:null);fe(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,u0(t,e,n)}return Tn(t,e,n)}var p0,Yd,m0,g0;p0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yd=function(){};m0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Lr(rn.current);var s=null;switch(n){case"input":i=yd(t,i),r=yd(t,r),s=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),s=[];break;case"textarea":i=Ed(t,i),r=Ed(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tl)}Cd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Js.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Js.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&he("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};g0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ys(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uI(t,e,n){var r=e.pendingProps;switch(uh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return mt(e.type)&&nl(),Ze(e),null;case 3:return r=e.stateNode,Wi(),ge(pt),ge(rt),yh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ca(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(sf(Bt),Bt=null))),Yd(t,e),Ze(e),null;case 5:vh(e);var i=Lr(uo.current);if(n=e.type,t!==null&&e.stateNode!=null)m0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ze(e),null}if(t=Lr(rn.current),ca(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[en]=e,r[ao]=s,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<Rs.length;i++)he(Rs[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":cm(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":fm(r,s),he("invalid",r)}Cd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ua(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ua(r.textContent,a,t),i=["children",""+a]):Js.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":ta(r),dm(r,s,!0);break;case"textarea":ta(r),hm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[en]=e,t[ao]=r,p0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Id(n,r),n){case"dialog":he("cancel",t),he("close",t),i=r;break;case"iframe":case"object":case"embed":he("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rs.length;i++)he(Rs[i],t);i=r;break;case"source":he("error",t),i=r;break;case"img":case"image":case"link":he("error",t),he("load",t),i=r;break;case"details":he("toggle",t),i=r;break;case"input":cm(t,r),i=yd(t,r),he("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),he("invalid",t);break;case"textarea":fm(t,r),i=Ed(t,r),he("invalid",t);break;default:i=r}Cd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xs(t,l):typeof l=="number"&&Xs(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Js.hasOwnProperty(s)?l!=null&&s==="onScroll"&&he("scroll",t):l!=null&&Kf(t,s,l,o))}switch(n){case"input":ta(t),dm(t,r,!1);break;case"textarea":ta(t),hm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ki(t,!!r.multiple,s,!1):r.defaultValue!=null&&ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)g0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Lr(uo.current),Lr(rn.current),ca(e)){if(r=e.stateNode,n=e.memoizedProps,r[en]=e,(s=r.nodeValue!==n)&&(t=Ct,t!==null))switch(t.tag){case 3:ua(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ua(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=e,e.stateNode=r}return Ze(e),null;case 13:if(ge(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&St!==null&&e.mode&1&&!(e.flags&128))A_(),ji(),e.flags|=98560,s=!1;else if(s=ca(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[en]=e}else ji(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),s=!1}else Bt!==null&&(sf(Bt),Bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Me===0&&(Me=3):Nh())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return Wi(),Yd(t,e),t===null&&so(e.stateNode.containerInfo),Ze(e),null;case 10:return hh(e.type._context),Ze(e),null;case 17:return mt(e.type)&&nl(),Ze(e),null;case 19:if(ge(Ee),s=e.memoizedState,s===null)return Ze(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ys(s,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ul(t),o!==null){for(e.flags|=128,ys(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&Re()>Vi&&(e.flags|=128,r=!0,ys(s,!1),e.lanes=4194304)}else{if(!r)if(t=ul(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ys(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return Ze(e),null}else 2*Re()-s.renderingStartTime>Vi&&n!==1073741824&&(e.flags|=128,r=!0,ys(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Re(),e.sibling=null,n=Ee.current,fe(Ee,r?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return Ph(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function cI(t,e){switch(uh(e),e.tag){case 1:return mt(e.type)&&nl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wi(),ge(pt),ge(rt),yh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vh(e),null;case 13:if(ge(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));ji()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(Ee),null;case 4:return Wi(),null;case 10:return hh(e.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var ha=!1,tt=!1,dI=typeof WeakSet=="function"?WeakSet:Set,H=null;function Si(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function Jd(t,e,n){try{n()}catch(r){Te(t,e,r)}}var ng=!1;function fI(t,e){if(Dd=Xa,t=w_(),ah(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ld={focusedElem:t,selectionRange:n},Xa=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:zt(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(_){Te(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=ng,ng=!1,v}function Us(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jd(e,n,s)}i=i.next}while(i!==r)}}function fu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v0(t){var e=t.alternate;e!==null&&(t.alternate=null,v0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[en],delete e[ao],delete e[Ud],delete e[K1],delete e[G1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y0(t){return t.tag===5||t.tag===3||t.tag===4}function rg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tl));else if(r!==4&&(t=t.child,t!==null))for(Zd(t,e,n),t=t.sibling;t!==null;)Zd(t,e,n),t=t.sibling}function ef(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ef(t,e,n),t=t.sibling;t!==null;)ef(t,e,n),t=t.sibling}var qe=null,jt=!1;function Dn(t,e,n){for(n=n.child;n!==null;)_0(t,e,n),n=n.sibling}function _0(t,e,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(iu,n)}catch{}switch(n.tag){case 5:tt||Si(n,e);case 6:var r=qe,i=jt;qe=null,Dn(t,e,n),qe=r,jt=i,qe!==null&&(jt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(jt?(t=qe,n=n.stateNode,t.nodeType===8?Cc(t.parentNode,n):t.nodeType===1&&Cc(t,n),no(t)):Cc(qe,n.stateNode));break;case 4:r=qe,i=jt,qe=n.stateNode.containerInfo,jt=!0,Dn(t,e,n),qe=r,jt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jd(n,e,o),i=i.next}while(i!==r)}Dn(t,e,n);break;case 1:if(!tt&&(Si(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,e,a)}Dn(t,e,n);break;case 21:Dn(t,e,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Dn(t,e,n),tt=r):Dn(t,e,n);break;default:Dn(t,e,n)}}function ig(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dI),e.forEach(function(r){var i=EI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $t(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,jt=!1;break e;case 3:qe=a.stateNode.containerInfo,jt=!0;break e;case 4:qe=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(qe===null)throw Error(F(160));_0(s,o,i),qe=null,jt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w0(e,t),e=e.sibling}function w0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(e,t),Xt(t),r&4){try{Us(3,t,t.return),fu(3,t)}catch(y){Te(t,t.return,y)}try{Us(5,t,t.return)}catch(y){Te(t,t.return,y)}}break;case 1:$t(e,t),Xt(t),r&512&&n!==null&&Si(n,n.return);break;case 5:if($t(e,t),Xt(t),r&512&&n!==null&&Si(n,n.return),t.flags&32){var i=t.stateNode;try{Xs(i,"")}catch(y){Te(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jy(i,s),Id(a,o);var u=Id(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?qy(i,d):c==="dangerouslySetInnerHTML"?Hy(i,d):c==="children"?Xs(i,d):Kf(i,c,d,u)}switch(a){case"input":_d(i,s);break;case"textarea":By(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ki(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?ki(i,!!s.multiple,s.defaultValue,!0):ki(i,!!s.multiple,s.multiple?[]:"",!1))}i[ao]=s}catch(y){Te(t,t.return,y)}}break;case 6:if($t(e,t),Xt(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Te(t,t.return,y)}}break;case 3:if($t(e,t),Xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{no(e.containerInfo)}catch(y){Te(t,t.return,y)}break;case 4:$t(e,t),Xt(t);break;case 13:$t(e,t),Xt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bh=Re())),r&4&&ig(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tt=(u=tt)||c,$t(e,t),tt=u):$t(e,t),Xt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(H=t,c=t.child;c!==null;){for(d=H=c;H!==null;){switch(f=H,h=f.child,f.tag){case 0:case 11:case 14:case 15:Us(4,f,f.return);break;case 1:Si(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Te(r,n,y)}}break;case 5:Si(f,f.return);break;case 22:if(f.memoizedState!==null){og(d);continue}}h!==null?(h.return=f,H=h):og(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Vy("display",o))}catch(y){Te(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Te(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:$t(e,t),Xt(t),r&4&&ig(t);break;case 21:break;default:$t(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y0(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xs(i,""),r.flags&=-33);var s=rg(t);ef(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rg(t);Zd(t,a,o);break;default:throw Error(F(161))}}catch(l){Te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hI(t,e,n){H=t,E0(t)}function E0(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ha;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tt;a=ha;var u=tt;if(ha=o,(tt=l)&&!u)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?ag(i):l!==null?(l.return=o,H=l):ag(i);for(;s!==null;)H=s,E0(s),s=s.sibling;H=i,ha=a,tt=u}sg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):sg(t)}}function sg(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||fu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Bm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&no(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}tt||e.flags&512&&Xd(e)}catch(f){Te(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function og(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function ag(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fu(4,e)}catch(l){Te(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Te(e,i,l)}}var s=e.return;try{Xd(e)}catch(l){Te(e,s,l)}break;case 5:var o=e.return;try{Xd(e)}catch(l){Te(e,o,l)}}}catch(l){Te(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var pI=Math.ceil,fl=Pn.ReactCurrentDispatcher,Th=Pn.ReactCurrentOwner,Dt=Pn.ReactCurrentBatchConfig,re=0,Be=null,Ne=null,Ge=0,Et=0,Ci=Er(0),Me=0,po=null,qr=0,hu=0,kh=0,$s=null,ut=null,bh=0,Vi=1/0,fn=null,hl=!1,tf=null,tr=null,pa=!1,Qn=null,pl=0,zs=0,nf=null,La=-1,Ma=0;function ot(){return re&6?Re():La!==-1?La:La=Re()}function nr(t){return t.mode&1?re&2&&Ge!==0?Ge&-Ge:J1.transition!==null?(Ma===0&&(Ma=i_()),Ma):(t=se,t!==0||(t=window.event,t=t===void 0?16:d_(t.type)),t):1}function Qt(t,e,n,r){if(50<zs)throw zs=0,nf=null,Error(F(185));Lo(t,n,r),(!(re&2)||t!==Be)&&(t===Be&&(!(re&2)&&(hu|=n),Me===4&&jn(t,Ge)),gt(t,r),n===1&&re===0&&!(e.mode&1)&&(Vi=Re()+500,uu&&Sr()))}function gt(t,e){var n=t.callbackNode;JC(t,e);var r=Ja(t,t===Be?Ge:0);if(r===0)n!==null&&gm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gm(n),e===1)t.tag===0?Y1(lg.bind(null,t)):N_(lg.bind(null,t)),q1(function(){!(re&6)&&Sr()}),n=null;else{switch(s_(r)){case 1:n=Zf;break;case 4:n=n_;break;case 16:n=Ya;break;case 536870912:n=r_;break;default:n=Ya}n=P0(n,S0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function S0(t,e){if(La=-1,Ma=0,re&6)throw Error(F(327));var n=t.callbackNode;if(xi()&&t.callbackNode!==n)return null;var r=Ja(t,t===Be?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ml(t,r);else{e=r;var i=re;re|=2;var s=I0();(Be!==t||Ge!==e)&&(fn=null,Vi=Re()+500,$r(t,e));do try{vI();break}catch(a){C0(t,a)}while(1);fh(),fl.current=s,re=i,Ne!==null?e=0:(Be=null,Ge=0,e=Me)}if(e!==0){if(e===2&&(i=Pd(t),i!==0&&(r=i,e=rf(t,i))),e===1)throw n=po,$r(t,0),jn(t,r),gt(t,Re()),n;if(e===6)jn(t,r);else{if(i=t.current.alternate,!(r&30)&&!mI(i)&&(e=ml(t,r),e===2&&(s=Pd(t),s!==0&&(r=s,e=rf(t,s))),e===1))throw n=po,$r(t,0),jn(t,r),gt(t,Re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:br(t,ut,fn);break;case 3:if(jn(t,r),(r&130023424)===r&&(e=bh+500-Re(),10<e)){if(Ja(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fd(br.bind(null,t,ut,fn),e);break}br(t,ut,fn);break;case 4:if(jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pI(r/1960))-r,10<r){t.timeoutHandle=Fd(br.bind(null,t,ut,fn),r);break}br(t,ut,fn);break;case 5:br(t,ut,fn);break;default:throw Error(F(329))}}}return gt(t,Re()),t.callbackNode===n?S0.bind(null,t):null}function rf(t,e){var n=$s;return t.current.memoizedState.isDehydrated&&($r(t,e).flags|=256),t=ml(t,e),t!==2&&(e=ut,ut=n,e!==null&&sf(e)),t}function sf(t){ut===null?ut=t:ut.push.apply(ut,t)}function mI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jn(t,e){for(e&=~kh,e&=~hu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qt(e),r=1<<n;t[n]=-1,e&=~r}}function lg(t){if(re&6)throw Error(F(327));xi();var e=Ja(t,0);if(!(e&1))return gt(t,Re()),null;var n=ml(t,e);if(t.tag!==0&&n===2){var r=Pd(t);r!==0&&(e=r,n=rf(t,r))}if(n===1)throw n=po,$r(t,0),jn(t,e),gt(t,Re()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,br(t,ut,fn),gt(t,Re()),null}function Rh(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Vi=Re()+500,uu&&Sr())}}function Qr(t){Qn!==null&&Qn.tag===0&&!(re&6)&&xi();var e=re;re|=1;var n=Dt.transition,r=se;try{if(Dt.transition=null,se=1,t)return t()}finally{se=r,Dt.transition=n,re=e,!(re&6)&&Sr()}}function Ph(){Et=Ci.current,ge(Ci)}function $r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,V1(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(uh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nl();break;case 3:Wi(),ge(pt),ge(rt),yh();break;case 5:vh(r);break;case 4:Wi();break;case 13:ge(Ee);break;case 19:ge(Ee);break;case 10:hh(r.type._context);break;case 22:case 23:Ph()}n=n.return}if(Be=t,Ne=t=rr(t.current,null),Ge=Et=e,Me=0,po=null,kh=hu=qr=0,ut=$s=null,Dr!==null){for(e=0;e<Dr.length;e++)if(n=Dr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dr=null}return t}function C0(t,e){do{var n=Ne;try{if(fh(),Oa.current=dl,cl){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cl=!1}if(Vr=0,$e=De=Se=null,Fs=!1,co=0,Th.current=null,n===null||n.return===null){Me=1,po=e,Ne=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Gm(o);if(h!==null){h.flags&=-257,Ym(h,o,a,s,e),h.mode&1&&Km(s,u,e),e=h,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Km(s,u,e),Nh();break e}l=Error(F(426))}}else if(_e&&a.mode&1){var w=Gm(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ym(w,o,a,s,e),ch(Hi(l,a));break e}}s=l=Hi(l,a),Me!==4&&(Me=2),$s===null?$s=[s]:$s.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=o0(s,l,e);jm(s,g);break e;case 1:a=l;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tr===null||!tr.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=a0(s,a,e);jm(s,_);break e}}s=s.return}while(s!==null)}k0(n)}catch(E){e=E,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(1)}function I0(){var t=fl.current;return fl.current=dl,t===null?dl:t}function Nh(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||!(qr&268435455)&&!(hu&268435455)||jn(Be,Ge)}function ml(t,e){var n=re;re|=2;var r=I0();(Be!==t||Ge!==e)&&(fn=null,$r(t,e));do try{gI();break}catch(i){C0(t,i)}while(1);if(fh(),re=n,fl.current=r,Ne!==null)throw Error(F(261));return Be=null,Ge=0,Me}function gI(){for(;Ne!==null;)T0(Ne)}function vI(){for(;Ne!==null&&!BC();)T0(Ne)}function T0(t){var e=R0(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?k0(t):Ne=e,Th.current=null}function k0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cI(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Ne=null;return}}else if(n=uI(n,e,Et),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Me===0&&(Me=5)}function br(t,e,n){var r=se,i=Dt.transition;try{Dt.transition=null,se=1,yI(t,e,n,r)}finally{Dt.transition=i,se=r}return null}function yI(t,e,n,r){do xi();while(Qn!==null);if(re&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(XC(t,s),t===Be&&(Ne=Be=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pa||(pa=!0,P0(Ya,function(){return xi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var o=se;se=1;var a=re;re|=4,Th.current=null,fI(t,n),w0(n,t),U1(Ld),Xa=!!Dd,Ld=Dd=null,t.current=n,hI(n),WC(),re=a,se=o,Dt.transition=s}else t.current=n;if(pa&&(pa=!1,Qn=t,pl=i),s=t.pendingLanes,s===0&&(tr=null),qC(n.stateNode),gt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hl)throw hl=!1,t=tf,tf=null,t;return pl&1&&t.tag!==0&&xi(),s=t.pendingLanes,s&1?t===nf?zs++:(zs=0,nf=t):zs=0,Sr(),null}function xi(){if(Qn!==null){var t=s_(pl),e=Dt.transition,n=se;try{if(Dt.transition=null,se=16>t?16:t,Qn===null)var r=!1;else{if(t=Qn,Qn=null,pl=0,re&6)throw Error(F(331));var i=re;for(re|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(H=u;H!==null;){var c=H;switch(c.tag){case 0:case 11:case 15:Us(8,c,s)}var d=c.child;if(d!==null)d.return=c,H=d;else for(;H!==null;){c=H;var f=c.sibling,h=c.return;if(v0(c),c===u){H=null;break}if(f!==null){f.return=h,H=f;break}H=h}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Us(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,H=g;break e}H=s.return}}var p=t.current;for(H=p;H!==null;){o=H;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,H=m;else e:for(o=p;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fu(9,a)}}catch(E){Te(a,a.return,E)}if(a===o){H=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,H=_;break e}H=a.return}}if(re=i,Sr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(iu,t)}catch{}r=!0}return r}finally{se=n,Dt.transition=e}}return!1}function ug(t,e,n){e=Hi(n,e),e=o0(t,e,1),t=er(t,e,1),e=ot(),t!==null&&(Lo(t,1,e),gt(t,e))}function Te(t,e,n){if(t.tag===3)ug(t,t,n);else for(;e!==null;){if(e.tag===3){ug(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){t=Hi(n,t),t=a0(e,t,1),e=er(e,t,1),t=ot(),e!==null&&(Lo(e,1,t),gt(e,t));break}}e=e.return}}function _I(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Ge&n)===n&&(Me===4||Me===3&&(Ge&130023424)===Ge&&500>Re()-bh?$r(t,0):kh|=n),gt(t,e)}function b0(t,e){e===0&&(t.mode&1?(e=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):e=1);var n=ot();t=In(t,e),t!==null&&(Lo(t,e,n),gt(t,n))}function wI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),b0(t,n)}function EI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),b0(t,n)}var R0;R0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ct=!1,lI(t,e,n);ct=!!(t.flags&131072)}else ct=!1,_e&&e.flags&1048576&&x_(e,sl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Da(t,e),t=e.pendingProps;var i=zi(e,rt.current);Ni(e,n),i=wh(null,e,r,t,i,n);var s=Eh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(s=!0,rl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mh(e),i.updater=cu,e.stateNode=i,i._reactInternals=e,Hd(e,r,t,n),e=Qd(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&lh(e),st(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Da(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CI(r),t=zt(r,t),i){case 0:e=qd(null,e,r,t,n);break e;case 1:e=Zm(null,e,r,t,n);break e;case 11:e=Jm(null,e,r,t,n);break e;case 14:e=Xm(null,e,r,zt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),qd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Zm(t,e,r,i,n);case 3:e:{if(d0(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,L_(t,e),ll(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hi(Error(F(423)),e),e=eg(t,e,r,n,i);break e}else if(r!==i){i=Hi(Error(F(424)),e),e=eg(t,e,r,n,i);break e}else for(St=Zn(e.stateNode.containerInfo.firstChild),Ct=e,_e=!0,Bt=null,n=$_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ji(),r===i){e=Tn(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return z_(e),t===null&&jd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Md(r,i)?o=null:s!==null&&Md(r,s)&&(e.flags|=32),c0(t,e),st(t,e,o,n),e.child;case 6:return t===null&&jd(e),null;case 13:return f0(t,e,n);case 4:return gh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bi(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Jm(t,e,r,i,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fe(ol,r._currentValue),r._currentValue=o,s!==null)if(Gt(s.value,o)){if(s.children===i.children&&!pt.current){e=Tn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}st(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ni(e,n),i=Lt(i),r=r(i),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,i=zt(r,e.pendingProps),i=zt(r.type,i),Xm(t,e,r,i,n);case 15:return l0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Da(t,e),e.tag=1,mt(r)?(t=!0,rl(e)):t=!1,Ni(e,n),F_(e,r,i),Hd(e,r,i,n),Qd(null,e,r,!0,t,n);case 19:return h0(t,e,n);case 22:return u0(t,e,n)}throw Error(F(156,e.tag))};function P0(t,e){return t_(t,e)}function SI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,e,n,r){return new SI(t,e,n,r)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CI(t){if(typeof t=="function")return xh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yf)return 11;if(t===Jf)return 14}return 2}function rr(t,e){var n=t.alternate;return n===null?(n=At(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hi:return zr(n.children,i,s,e);case Gf:o=8,i|=8;break;case pd:return t=At(12,n,e,i|2),t.elementType=pd,t.lanes=s,t;case md:return t=At(13,n,e,i),t.elementType=md,t.lanes=s,t;case gd:return t=At(19,n,e,i),t.elementType=gd,t.lanes=s,t;case Uy:return pu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case My:o=10;break e;case Fy:o=9;break e;case Yf:o=11;break e;case Jf:o=14;break e;case Un:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=At(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function zr(t,e,n,r){return t=At(7,t,r,e),t.lanes=n,t}function pu(t,e,n,r){return t=At(22,t,r,e),t.elementType=Uy,t.lanes=n,t.stateNode={isHidden:!1},t}function xc(t,e,n){return t=At(6,t,null,e),t.lanes=n,t}function Oc(t,e,n){return e=At(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function II(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Oh(t,e,n,r,i,s,o,a,l){return t=new II(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=At(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(s),t}function TI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N0(t){if(!t)return hr;t=t._reactInternals;e:{if(ii(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(mt(n))return P_(t,n,e)}return e}function x0(t,e,n,r,i,s,o,a,l){return t=Oh(n,r,!0,t,i,s,o,a,l),t.context=N0(null),n=t.current,r=ot(),i=nr(n),s=wn(r,i),s.callback=e??null,er(n,s,i),t.current.lanes=i,Lo(t,i,r),gt(t,r),t}function mu(t,e,n,r){var i=e.current,s=ot(),o=nr(i);return n=N0(n),e.context===null?e.context=n:e.pendingContext=n,e=wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=er(i,e,o),t!==null&&(Qt(t,i,o,s),xa(t,i,o)),o}function gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ah(t,e){cg(t,e),(t=t.alternate)&&cg(t,e)}function kI(){return null}var O0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dh(t){this._internalRoot=t}gu.prototype.render=Dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));mu(t,e,null,null)};gu.prototype.unmount=Dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){mu(null,t,null,null)}),e[Cn]=null}};function gu(t){this._internalRoot=t}gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=l_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zn.length&&e!==0&&e<zn[n].priority;n++);zn.splice(n,0,t),n===0&&c_(t)}};function Lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dg(){}function bI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gl(o);s.call(u)}}var o=x0(e,r,t,0,null,!1,!1,"",dg);return t._reactRootContainer=o,t[Cn]=o.current,so(t.nodeType===8?t.parentNode:t),Qr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=gl(l);a.call(u)}}var l=Oh(t,0,!1,null,null,!1,!1,"",dg);return t._reactRootContainer=l,t[Cn]=l.current,so(t.nodeType===8?t.parentNode:t),Qr(function(){mu(e,l,n,r)}),l}function yu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=gl(o);a.call(l)}}mu(e,o,t,i)}else o=bI(n,e,t,i,r);return gl(o)}o_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bs(e.pendingLanes);n!==0&&(eh(e,n|1),gt(e,Re()),!(re&6)&&(Vi=Re()+500,Sr()))}break;case 13:Qr(function(){var r=In(t,1);if(r!==null){var i=ot();Qt(r,t,1,i)}}),Ah(t,1)}};th=function(t){if(t.tag===13){var e=In(t,134217728);if(e!==null){var n=ot();Qt(e,t,134217728,n)}Ah(t,134217728)}};a_=function(t){if(t.tag===13){var e=nr(t),n=In(t,e);if(n!==null){var r=ot();Qt(n,t,e,r)}Ah(t,e)}};l_=function(){return se};u_=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};kd=function(t,e,n){switch(e){case"input":if(_d(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lu(r);if(!i)throw Error(F(90));zy(r),_d(r,i)}}}break;case"textarea":By(t,n);break;case"select":e=n.value,e!=null&&ki(t,!!n.multiple,e,!1)}};Gy=Rh;Yy=Qr;var RI={usingClientEntryPoint:!1,Events:[Fo,vi,lu,Qy,Ky,Rh]},_s={findFiberByHostInstance:Ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PI={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zy(t),t===null?null:t.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||kI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{iu=ma.inject(PI),nn=ma}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RI;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(e))throw Error(F(200));return TI(t,e,null,n)};kt.createRoot=function(t,e){if(!Lh(t))throw Error(F(299));var n=!1,r="",i=O0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Oh(t,1,!1,null,null,n,!1,r,i),t[Cn]=e.current,so(t.nodeType===8?t.parentNode:t),new Dh(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Zy(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return Qr(t)};kt.hydrate=function(t,e,n){if(!vu(e))throw Error(F(200));return yu(null,t,e,!0,n)};kt.hydrateRoot=function(t,e,n){if(!Lh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=O0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=x0(e,null,t,1,n??null,i,!1,s,o),t[Cn]=e.current,so(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gu(e)};kt.render=function(t,e,n){if(!vu(e))throw Error(F(200));return yu(null,t,e,!1,n)};kt.unmountComponentAtNode=function(t){if(!vu(t))throw Error(F(40));return t._reactRootContainer?(Qr(function(){yu(null,null,t,!1,function(){t._reactRootContainer=null,t[Cn]=null})}),!0):!1};kt.unstable_batchedUpdates=Rh;kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vu(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return yu(t,e,n,!1,r)};kt.version="18.2.0-next-9e3b772b8-20220608";function A0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A0)}catch(t){console.error(t)}}A0(),xy.exports=kt;var Mh=xy.exports,fg=Mh;fd.createRoot=fg.createRoot,fd.hydrateRoot=fg.hydrateRoot;const NI="modulepreload",xI=function(t){return"/"+t},hg={},_u=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=xI(s),s in hg)return;hg[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":NI,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mo(){return mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mo.apply(this,arguments)}var Kn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kn||(Kn={}));const pg="popstate";function OI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return of("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vl(i)}return DI(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AI(){return Math.random().toString(36).substr(2,8)}function mg(t,e){return{usr:t.state,key:t.key,idx:e}}function of(t,e,n,r){return n===void 0&&(n=null),mo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rs(e):e,{state:n,key:e&&e.key||r||AI()})}function vl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Kn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(mo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Kn.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:g})}function f(w,g){a=Kn.Push;let p=of(y.location,w,g);n&&n(p,w),u=c()+1;let m=mg(p,u),_=y.createHref(p);try{o.pushState(m,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:y.location,delta:1})}function h(w,g){a=Kn.Replace;let p=of(y.location,w,g);n&&n(p,w),u=c();let m=mg(p,u),_=y.createHref(p);o.replaceState(m,"",_),s&&l&&l({action:a,location:y.location,delta:0})}function v(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:vl(w);return xe(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pg,d),l=w,()=>{i.removeEventListener(pg,d),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let g=v(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(w){return o.go(w)}};return y}var gg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gg||(gg={}));function LI(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?rs(e):e,i=Uh(r.pathname||"/",n);if(i==null)return null;let s=D0(t);MI(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=VI(s[a],KI(i));return o}function D0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ir([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(xe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),D0(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:WI(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of L0(s.path))i(s,o,l)}),e}function L0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=L0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function MI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FI=/^:\w+$/,UI=3,$I=2,zI=1,jI=10,BI=-2,vg=t=>t==="*";function WI(t,e){let n=t.split("/"),r=n.length;return n.some(vg)&&(r+=BI),e&&(r+=$I),n.filter(i=>!vg(i)).reduce((i,s)=>i+(FI.test(s)?UI:s===""?zI:jI),r)}function HI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function VI(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=qI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ir([i,c.pathname]),pathnameBase:XI(ir([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ir([i,c.pathnameBase]))}return s}function qI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=GI(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function QI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KI(t){try{return decodeURI(t)}catch(e){return Fh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function GI(t,e){try{return decodeURIComponent(t)}catch(n){return Fh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Uh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rs(t):t;return{pathname:n?n.startsWith("/")?n:JI(n,e):e,search:ZI(r),hash:eT(i)}}function JI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ac(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rs(t):(i=mo({},t),xe(!i.pathname||!i.pathname.includes("?"),Ac("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Ac("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Ac("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=YI(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ir=t=>t.join("/").replace(/\/\/+/g,"/"),XI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U0=["post","put","patch","delete"];new Set(U0);const nT=["get",...U0];new Set(nT);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}const $h=P.createContext(null),$0=P.createContext(null),si=P.createContext(null),wu=P.createContext(null),Nn=P.createContext({outlet:null,matches:[],isDataRoute:!1}),z0=P.createContext(null);function rT(t,e){let{relative:n}=e===void 0?{}:e;$o()||xe(!1);let{basename:r,navigator:i}=P.useContext(si),{hash:s,pathname:o,search:a}=zh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ir([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $o(){return P.useContext(wu)!=null}function Cr(){return $o()||xe(!1),P.useContext(wu).location}function j0(t){P.useContext(si).static||P.useLayoutEffect(t)}function B0(){let{isDataRoute:t}=P.useContext(Nn);return t?yT():iT()}function iT(){$o()||xe(!1);let t=P.useContext($h),{basename:e,navigator:n}=P.useContext(si),{matches:r}=P.useContext(Nn),{pathname:i}=Cr(),s=JSON.stringify(M0(r).map(l=>l.pathnameBase)),o=P.useRef(!1);return j0(()=>{o.current=!0}),P.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=F0(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ir([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const sT=P.createContext(null);function oT(t){let e=P.useContext(Nn).outlet;return e&&P.createElement(sT.Provider,{value:t},e)}function SM(){let{matches:t}=P.useContext(Nn),e=t[t.length-1];return e?e.params:{}}function zh(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=P.useContext(Nn),{pathname:i}=Cr(),s=JSON.stringify(M0(r).map(o=>o.pathnameBase));return P.useMemo(()=>F0(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function aT(t,e){return lT(t,e)}function lT(t,e,n){$o()||xe(!1);let{navigator:r}=P.useContext(si),{matches:i}=P.useContext(Nn),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Cr(),u;if(e){var c;let y=typeof e=="string"?rs(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||xe(!1),u=y}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=LI(t,{pathname:f}),v=hT(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ir([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:ir([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&v?P.createElement(wu.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Kn.Pop}},v):v}function uT(){let t=vT(),e=tT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,s)}const cT=P.createElement(uT,null);class dT extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?P.createElement(Nn.Provider,{value:this.props.routeContext},P.createElement(z0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fT(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext($h);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Nn.Provider,{value:e},r)}function hT(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||xe(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||cT);let f=e.concat(s.slice(0,u+1)),h=()=>{let v;return c?v=d:l.route.Component?v=P.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,P.createElement(fT,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?P.createElement(dT,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var af;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(af||(af={}));var go;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(go||(go={}));function pT(t){let e=P.useContext($h);return e||xe(!1),e}function mT(t){let e=P.useContext($0);return e||xe(!1),e}function gT(t){let e=P.useContext(Nn);return e||xe(!1),e}function W0(t){let e=gT(),n=e.matches[e.matches.length-1];return n.route.id||xe(!1),n.route.id}function vT(){var t;let e=P.useContext(z0),n=mT(go.UseRouteError),r=W0(go.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function yT(){let{router:t}=pT(af.UseNavigateStable),e=W0(go.UseNavigateStable),n=P.useRef(!1);return j0(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yl({fromRouteId:e},s)))},[t,e])}function _T(t){return oT(t.context)}function Fn(t){xe(!1)}function wT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Kn.Pop,navigator:s,static:o=!1}=t;$o()&&xe(!1);let a=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=rs(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,v=P.useMemo(()=>{let y=Uh(u,a);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:h},navigationType:i}},[a,u,c,d,f,h,i]);return v==null?null:P.createElement(si.Provider,{value:l},P.createElement(wu.Provider,{children:n,value:v}))}function ET(t){let{children:e,location:n}=t;return aT(lf(e),n)}var yg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(yg||(yg={}));new Promise(()=>{});function lf(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,lf(r.props.children,s));return}r.type!==Fn&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function H0(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ST(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CT(t,e){return t.button===0&&(!e||e==="_self")&&!ST(t)}function uf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function IT(t,e){let n=uf(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const TT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],kT=["aria-current","caseSensitive","className","end","style","to","children"];function bT(t){let{basename:e,children:n,window:r}=t,i=P.useRef();i.current==null&&(i.current=OI({window:r,v5Compat:!0}));let s=i.current,[o,a]=P.useState({action:s.action,location:s.location});return P.useLayoutEffect(()=>s.listen(a),[s]),P.createElement(wT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const RT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V0=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=H0(e,TT),{basename:f}=P.useContext(si),h,v=!1;if(typeof u=="string"&&PT.test(u)&&(h=u,RT))try{let p=new URL(window.location.href),m=u.startsWith("//")?new URL(p.protocol+u):new URL(u),_=Uh(m.pathname,f);m.origin===p.origin&&_!=null?u=_+m.search+m.hash:v=!0}catch{}let y=rT(u,{relative:i}),w=NT(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(p){r&&r(p),p.defaultPrevented||w(p)}return P.createElement("a",_l({},d,{href:h||y,onClick:v||s?r:g,ref:n,target:l}))}),ga=P.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=H0(e,kT),d=zh(l,{relative:c.relative}),f=Cr(),h=P.useContext($0),{navigator:v}=P.useContext(si),y=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,w=f.pathname,g=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;i||(w=w.toLowerCase(),g=g?g.toLowerCase():null,y=y.toLowerCase());let p=w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/",m=g!=null&&(g===y||!o&&g.startsWith(y)&&g.charAt(y.length)==="/"),_=p?r:void 0,E;typeof s=="function"?E=s({isActive:p,isPending:m}):E=[s,p?"active":null,m?"pending":null].filter(Boolean).join(" ");let S=typeof a=="function"?a({isActive:p,isPending:m}):a;return P.createElement(V0,_l({},c,{"aria-current":_,className:E,ref:n,style:S,to:l}),typeof u=="function"?u({isActive:p,isPending:m}):u)});var _g;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(_g||(_g={}));var wg;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wg||(wg={}));function NT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=B0(),l=Cr(),u=zh(t,{relative:o});return P.useCallback(c=>{if(CT(c,n)){c.preventDefault();let d=r!==void 0?r:vl(l)===vl(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function xT(t){let e=P.useRef(uf(t)),n=P.useRef(!1),r=Cr(),i=P.useMemo(()=>IT(r.search,n.current?null:e.current),[r.search]),s=B0(),o=P.useCallback((a,l)=>{const u=uf(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var q0={exports:{}},Q0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=P;function OT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AT=typeof Object.is=="function"?Object.is:OT,DT=qi.useState,LT=qi.useEffect,MT=qi.useLayoutEffect,FT=qi.useDebugValue;function UT(t,e){var n=e(),r=DT({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return MT(function(){i.value=n,i.getSnapshot=e,Dc(i)&&s({inst:i})},[t,n,e]),LT(function(){return Dc(i)&&s({inst:i}),t(function(){Dc(i)&&s({inst:i})})},[t]),FT(n),n}function Dc(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!AT(t,n)}catch{return!0}}function $T(t,e){return e()}var zT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$T:UT;Q0.useSyncExternalStore=qi.useSyncExternalStore!==void 0?qi.useSyncExternalStore:zT;q0.exports=Q0;var jT=q0.exports,K0={exports:{}},G0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=P,BT=jT;function WT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HT=typeof Object.is=="function"?Object.is:WT,VT=BT.useSyncExternalStore,qT=Eu.useRef,QT=Eu.useEffect,KT=Eu.useMemo,GT=Eu.useDebugValue;G0.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=qT(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=KT(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var v=o.value;if(i(v,h))return d=v}return d=h}if(v=d,HT(c,h))return v;var y=r(h);return i!==void 0&&i(v,y)?v:(c=h,d=y)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=VT(t,s[0],s[1]);return QT(function(){o.hasValue=!0,o.value=a},[a]),GT(a),a};K0.exports=G0;var YT=K0.exports;function JT(t){t()}let Y0=JT;const XT=t=>Y0=t,ZT=()=>Y0,pr=P.createContext(null);function J0(){return P.useContext(pr)}const ek=()=>{throw new Error("uSES not initialized!")};let X0=ek;const tk=t=>{X0=t},nk=(t,e)=>t===e;function rk(t=pr){const e=t===pr?J0:()=>P.useContext(t);return function(r,i=nk){const{store:s,subscription:o,getServerState:a}=e(),l=X0(o.addNestedSub,s.getState,a||s.getState,r,i);return P.useDebugValue(l),l}}const Kr=rk();var Z0={exports:{}},oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=typeof Symbol=="function"&&Symbol.for,jh=We?Symbol.for("react.element"):60103,Bh=We?Symbol.for("react.portal"):60106,Su=We?Symbol.for("react.fragment"):60107,Cu=We?Symbol.for("react.strict_mode"):60108,Iu=We?Symbol.for("react.profiler"):60114,Tu=We?Symbol.for("react.provider"):60109,ku=We?Symbol.for("react.context"):60110,Wh=We?Symbol.for("react.async_mode"):60111,bu=We?Symbol.for("react.concurrent_mode"):60111,Ru=We?Symbol.for("react.forward_ref"):60112,Pu=We?Symbol.for("react.suspense"):60113,ik=We?Symbol.for("react.suspense_list"):60120,Nu=We?Symbol.for("react.memo"):60115,xu=We?Symbol.for("react.lazy"):60116,sk=We?Symbol.for("react.block"):60121,ok=We?Symbol.for("react.fundamental"):60117,ak=We?Symbol.for("react.responder"):60118,lk=We?Symbol.for("react.scope"):60119;function Rt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jh:switch(t=t.type,t){case Wh:case bu:case Su:case Iu:case Cu:case Pu:return t;default:switch(t=t&&t.$$typeof,t){case ku:case Ru:case xu:case Nu:case Tu:return t;default:return e}}case Bh:return e}}}function ew(t){return Rt(t)===bu}oe.AsyncMode=Wh;oe.ConcurrentMode=bu;oe.ContextConsumer=ku;oe.ContextProvider=Tu;oe.Element=jh;oe.ForwardRef=Ru;oe.Fragment=Su;oe.Lazy=xu;oe.Memo=Nu;oe.Portal=Bh;oe.Profiler=Iu;oe.StrictMode=Cu;oe.Suspense=Pu;oe.isAsyncMode=function(t){return ew(t)||Rt(t)===Wh};oe.isConcurrentMode=ew;oe.isContextConsumer=function(t){return Rt(t)===ku};oe.isContextProvider=function(t){return Rt(t)===Tu};oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jh};oe.isForwardRef=function(t){return Rt(t)===Ru};oe.isFragment=function(t){return Rt(t)===Su};oe.isLazy=function(t){return Rt(t)===xu};oe.isMemo=function(t){return Rt(t)===Nu};oe.isPortal=function(t){return Rt(t)===Bh};oe.isProfiler=function(t){return Rt(t)===Iu};oe.isStrictMode=function(t){return Rt(t)===Cu};oe.isSuspense=function(t){return Rt(t)===Pu};oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Su||t===bu||t===Iu||t===Cu||t===Pu||t===ik||typeof t=="object"&&t!==null&&(t.$$typeof===xu||t.$$typeof===Nu||t.$$typeof===Tu||t.$$typeof===ku||t.$$typeof===Ru||t.$$typeof===ok||t.$$typeof===ak||t.$$typeof===lk||t.$$typeof===sk)};oe.typeOf=Rt;Z0.exports=oe;var uk=Z0.exports,tw=uk,ck={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nw={};nw[tw.ForwardRef]=ck;nw[tw.Memo]=dk;var le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=Symbol.for("react.element"),Vh=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),Au=Symbol.for("react.strict_mode"),Du=Symbol.for("react.profiler"),Lu=Symbol.for("react.provider"),Mu=Symbol.for("react.context"),fk=Symbol.for("react.server_context"),Fu=Symbol.for("react.forward_ref"),Uu=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),zu=Symbol.for("react.memo"),ju=Symbol.for("react.lazy"),hk=Symbol.for("react.offscreen"),rw;rw=Symbol.for("react.module.reference");function Ft(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hh:switch(t=t.type,t){case Ou:case Du:case Au:case Uu:case $u:return t;default:switch(t=t&&t.$$typeof,t){case fk:case Mu:case Fu:case ju:case zu:case Lu:return t;default:return e}}case Vh:return e}}}le.ContextConsumer=Mu;le.ContextProvider=Lu;le.Element=Hh;le.ForwardRef=Fu;le.Fragment=Ou;le.Lazy=ju;le.Memo=zu;le.Portal=Vh;le.Profiler=Du;le.StrictMode=Au;le.Suspense=Uu;le.SuspenseList=$u;le.isAsyncMode=function(){return!1};le.isConcurrentMode=function(){return!1};le.isContextConsumer=function(t){return Ft(t)===Mu};le.isContextProvider=function(t){return Ft(t)===Lu};le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hh};le.isForwardRef=function(t){return Ft(t)===Fu};le.isFragment=function(t){return Ft(t)===Ou};le.isLazy=function(t){return Ft(t)===ju};le.isMemo=function(t){return Ft(t)===zu};le.isPortal=function(t){return Ft(t)===Vh};le.isProfiler=function(t){return Ft(t)===Du};le.isStrictMode=function(t){return Ft(t)===Au};le.isSuspense=function(t){return Ft(t)===Uu};le.isSuspenseList=function(t){return Ft(t)===$u};le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ou||t===Du||t===Au||t===Uu||t===$u||t===hk||typeof t=="object"&&t!==null&&(t.$$typeof===ju||t.$$typeof===zu||t.$$typeof===Lu||t.$$typeof===Mu||t.$$typeof===Fu||t.$$typeof===rw||t.getModuleId!==void 0)};le.typeOf=Ft;function pk(){const t=ZT();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Eg={notify(){},get:()=>[]};function mk(t,e){let n,r=Eg;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=pk())}function u(){n&&(n(),n=void 0,r.clear(),r=Eg)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vk=gk?P.useLayoutEffect:P.useEffect;function Sg(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function wl(t,e){if(Sg(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Sg(t[n[i]],e[n[i]]))return!1;return!0}function yk({store:t,context:e,children:n,serverState:r}){const i=P.useMemo(()=>{const a=mk(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=P.useMemo(()=>t.getState(),[t]);vk(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||pr;return ne.createElement(o.Provider,{value:i},n)}function iw(t=pr){const e=t===pr?J0:()=>P.useContext(t);return function(){const{store:r}=e();return r}}const sw=iw();function _k(t=pr){const e=t===pr?sw:iw(t);return function(){return e().dispatch}}const qh=_k();tk(YT.useSyncExternalStoreWithSelector);XT(Mh.unstable_batchedUpdates);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw is(e)},is=function(t){return new Error("Firebase Database ("+ow.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Ek;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ek extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lw=function(t){const e=aw(t);return Qh.encodeByteArray(e,!0)},El=function(t){return lw(t).replace(/\./g,"")},Sl=function(t){try{return Qh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){return uw(void 0,t)}function uw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ck(n)||(t[n]=uw(t[n],e[n]));return t}function Ck(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=()=>Ik().__FIREBASE_DEFAULTS__,kk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sl(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return Tk()||kk()||bk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cw=t=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rk=t=>{const e=cw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dw=()=>{var t;return(t=Kh())===null||t===void 0?void 0:t.config},fw=t=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[El(JSON.stringify(n)),El(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Nk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xk(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pw(){return ow.NODE_ADMIN===!0}function Ok(){try{return typeof indexedDB=="object"}catch{return!1}}function Ak(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dk,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Lk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ir(i,a,r)}}function Lk(t,e){return t.replace(Mk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){return JSON.parse(t)}function je(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=vo(Sl(s[0])||""),n=vo(Sl(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Fk=function(t){const e=mw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Uk=function(t){const e=mw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function cf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Cg(s)&&Cg(o)){if(!Il(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function zk(t,e){const n=new jk(t,e);return n.subscribe.bind(n)}class jk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Bk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lc),i.error===void 0&&(i.error=Lc),i.complete===void 0&&(i.complete=Lc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lc(){}function Yh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qk(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rr){return this.instances.has(e)}getOptions(e=Rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rr){return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vk(t){return t===Rr?void 0:t}function qk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const Kk={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Gk=ae.INFO,Yk={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Jk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Yk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jh{constructor(e){this.name=e,this._logLevel=Gk,this._logHandler=Jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const Xk=(t,e)=>e.some(n=>t instanceof n);let Ig,Tg;function Zk(){return Ig||(Ig=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return Tg||(Tg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gw=new WeakMap,df=new WeakMap,vw=new WeakMap,Mc=new WeakMap,Xh=new WeakMap;function tb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(sr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gw.set(n,t)}).catch(()=>{}),Xh.set(e,t),e}function nb(t){if(df.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});df.set(t,e)}let ff={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return df.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rb(t){ff=t(ff)}function ib(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fc(this),e,...n);return vw.set(r,e.sort?e.sort():[e]),sr(r)}:eb().includes(t)?function(...e){return t.apply(Fc(this),e),sr(gw.get(this))}:function(...e){return sr(t.apply(Fc(this),e))}}function sb(t){return typeof t=="function"?ib(t):(t instanceof IDBTransaction&&nb(t),Xk(t,Zk())?new Proxy(t,ff):t)}function sr(t){if(t instanceof IDBRequest)return tb(t);if(Mc.has(t))return Mc.get(t);const e=sb(t);return e!==t&&(Mc.set(t,e),Xh.set(e,t)),e}const Fc=t=>Xh.get(t);function ob(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=sr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(sr(o.result),l.oldVersion,l.newVersion,sr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ab=["get","getKey","getAll","getAllKeys","count"],lb=["put","add","delete","clear"],Uc=new Map;function kg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uc.get(e))return Uc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ab.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Uc.set(e,s),s}rb(t=>({...t,get:(e,n,r)=>kg(e,n)||t.get(e,n,r),has:(e,n)=>!!kg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hf="@firebase/app",bg="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Jh("@firebase/app"),db="@firebase/app-compat",fb="@firebase/analytics-compat",hb="@firebase/analytics",pb="@firebase/app-check-compat",mb="@firebase/app-check",gb="@firebase/auth",vb="@firebase/auth-compat",yb="@firebase/database",_b="@firebase/database-compat",wb="@firebase/functions",Eb="@firebase/functions-compat",Sb="@firebase/installations",Cb="@firebase/installations-compat",Ib="@firebase/messaging",Tb="@firebase/messaging-compat",kb="@firebase/performance",bb="@firebase/performance-compat",Rb="@firebase/remote-config",Pb="@firebase/remote-config-compat",Nb="@firebase/storage",xb="@firebase/storage-compat",Ob="@firebase/firestore",Ab="@firebase/firestore-compat",Db="firebase",Lb="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="[DEFAULT]",Mb={[hf]:"fire-core",[db]:"fire-core-compat",[hb]:"fire-analytics",[fb]:"fire-analytics-compat",[mb]:"fire-app-check",[pb]:"fire-app-check-compat",[gb]:"fire-auth",[vb]:"fire-auth-compat",[yb]:"fire-rtdb",[_b]:"fire-rtdb-compat",[wb]:"fire-fn",[Eb]:"fire-fn-compat",[Sb]:"fire-iid",[Cb]:"fire-iid-compat",[Ib]:"fire-fcm",[Tb]:"fire-fcm-compat",[kb]:"fire-perf",[bb]:"fire-perf-compat",[Rb]:"fire-rc",[Pb]:"fire-rc-compat",[Nb]:"fire-gcs",[xb]:"fire-gcs-compat",[Ob]:"fire-fst",[Ab]:"fire-fst-compat","fire-js":"fire-js",[Db]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new Map,mf=new Map;function Fb(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ki(t){const e=t.name;if(mf.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;mf.set(e,t);for(const n of Tl.values())Fb(n,t);return!0}function Zh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},or=new zo("app","Firebase",Ub);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=Lb;function yw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=dw()),!n)throw or.create("no-options");const s=Tl.get(i);if(s){if(Il(n,s.options)&&Il(r,s.config))return s;throw or.create("duplicate-app",{appName:i})}const o=new Qk(i);for(const l of mf.values())o.addComponent(l);const a=new $b(n,r,o);return Tl.set(i,a),a}function _w(t=pf){const e=Tl.get(t);if(!e&&t===pf&&dw())return yw();if(!e)throw or.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=(r=Mb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}Ki(new Gr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebase-heartbeat-database",jb=1,yo="firebase-heartbeat-store";let $c=null;function ww(){return $c||($c=ob(zb,jb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yo)}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),$c}async function Bb(t){try{return await(await ww()).transaction(yo).objectStore(yo).get(Ew(t))}catch(e){if(e instanceof Ir)Yr.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(n.message)}}}async function Rg(t,e){try{const r=(await ww()).transaction(yo,"readwrite");await r.objectStore(yo).put(e,Ew(t)),await r.done}catch(n){if(n instanceof Ir)Yr.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(r.message)}}}function Ew(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=1024,Hb=30*24*60*60*1e3;class Vb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Hb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pg(),{heartbeatsToSend:n,unsentEntries:r}=qb(this._heartbeatsCache.heartbeats),i=El(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Pg(){return new Date().toISOString().substring(0,10)}function qb(t,e=Wb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ng(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ng(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Qb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ok()?Ak().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Bb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ng(t){return El(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){Ki(new Gr("platform-logger",e=>new ub(e),"PRIVATE")),Ki(new Gr("heartbeat",e=>new Vb(e),"PRIVATE")),ar(hf,bg,t),ar(hf,bg,"esm2017"),ar("fire-js","")}Kb("");const xg="@firebase/database",Og="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sw="";function Gb(t){Sw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),je(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:vo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Yb(e)}}catch{}return new Jb},Mr=Cw("localStorage"),gf=Cw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Jh("@firebase/database"),Xb=function(){let t=1;return function(){return t++}}(),Iw=function(t){const e=Wk(t),n=new $k;n.update(e);const r=n.digest();return Qh.encodeByteArray(r)},jo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=jo.apply(null,r):typeof r=="object"?e+=je(r):e+=r,e+=" "}return e};let jr=null,Ag=!0;const Zb=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Oi.logLevel=ae.VERBOSE,jr=Oi.log.bind(Oi),e&&gf.set("logging_enabled",!0)):typeof t=="function"?jr=t:(jr=null,gf.remove("logging_enabled"))},nt=function(...t){if(Ag===!0&&(Ag=!1,jr===null&&gf.get("logging_enabled")===!0&&Zb(!0)),jr){const e=jo.apply(null,t);jr(e)}},Bo=function(t){return function(...e){nt(t,...e)}},vf=function(...t){const e="FIREBASE INTERNAL ERROR: "+jo(...t);Oi.error(e)},kn=function(...t){const e=`FIREBASE FATAL ERROR: ${jo(...t)}`;throw Oi.error(e),new Error(e)},vt=function(...t){const e="FIREBASE WARNING: "+jo(...t);Oi.warn(e)},eR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Tw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gi="[MIN_NAME]",Jr="[MAX_NAME]",as=function(t,e){if(t===e)return 0;if(t===Gi||e===Jr)return-1;if(e===Gi||t===Jr)return 1;{const n=Dg(t),r=Dg(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},nR=function(t,e){return t===e?0:t<e?-1:1},ws=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+je(e))},ep=function(t){if(typeof t!="object"||t===null)return je(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=je(e[r]),n+=":",n+=ep(t[e[r]]);return n+="}",n},kw=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function _t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const bw=function(t){U(!Tw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},rR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const oR=new RegExp("^-?(0*)\\d{1,10}$"),aR=-2147483648,lR=2147483647,Dg=function(t){if(oR.test(t)){const e=Number(t);if(e>=aR&&e<=lR)return e}return null},ls=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},uR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},js=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(e)}}class Ai{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ai.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="5",Rw="v",Pw="s",Nw="r",xw="f",Ow=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Aw="ls",Dw="p",yf="ac",Lw="websocket",Mw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Mr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function fR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Uw(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===Lw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Mw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fR(t)&&(n.ns=t.namespace);const i=[];return _t(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.counters_={}}incrementCounter(e,n=1){xn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Sk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc={},jc={};function np(t){const e=t.toString();return zc[e]||(zc[e]=new hR),zc[e]}function pR(t,e){const n=t.toString();return jc[n]||(jc[n]=e()),jc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ls(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="start",gR="close",vR="pLPCommand",yR="pRTLPCB",$w="id",zw="pw",jw="ser",_R="cb",wR="seg",ER="ts",SR="d",CR="dframe",Bw=1870,Ww=30,IR=Bw-Ww,TR=25e3,kR=3e4;class Ii{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bo(e),this.stats_=np(n),this.urlFn=l=>(this.appCheckToken&&(l[yf]=this.appCheckToken),Uw(n,Mw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kR)),tR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rp((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Lg)this.id=a,this.password=l;else if(o===gR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Lg]="t",r[jw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_R]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Rw]=tp,this.transportSessionId&&(r[Pw]=this.transportSessionId),this.lastSessionId&&(r[Aw]=this.lastSessionId),this.applicationId&&(r[Dw]=this.applicationId),this.appCheckToken&&(r[yf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ow.test(location.hostname)&&(r[Nw]=xw);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ii.forceAllow_=!0}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){return Ii.forceAllow_?!0:!Ii.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rR()&&!iR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lw(n),i=kw(r,IR);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[CR]="t",r[$w]=e,r[zw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=je(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class rp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Xb(),window[vR+this.uniqueCallbackIdentifier]=e,window[yR+this.uniqueCallbackIdentifier]=n,this.myIFrame=rp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){nt("frame writing exception"),a.stack&&nt(a.stack),nt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[$w]=this.myID,e[zw]=this.myPW,e[jw]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ww+r.length<=Bw;){const o=this.pendingSegs.shift();r=r+"&"+wR+i+"="+o.seg+"&"+ER+i+"="+o.ts+"&"+SR+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(TR)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=16384,RR=45e3;let kl=null;typeof MozWebSocket<"u"?kl=MozWebSocket:typeof WebSocket<"u"&&(kl=WebSocket);class Wt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bo(this.connId),this.stats_=np(n),this.connURL=Wt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Rw]=tp,typeof location<"u"&&location.hostname&&Ow.test(location.hostname)&&(o[Nw]=xw),n&&(o[Pw]=n),r&&(o[Aw]=r),i&&(o[yf]=i),s&&(o[Dw]=s),Uw(e,Lw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mr.set("previous_websocket_failure",!0);try{let r;pw(),this.mySock=new kl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&kl!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Mr.isInMemoryStorage||Mr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Mr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=vo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kw(n,bR);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(RR))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ii,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Wt&&Wt.isAvailable();let r=n&&!Wt.previouslyFailed();if(e.webSocketOnly&&(n||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wt];else{const i=this.transports_=[];for(const s of _o.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);_o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_o.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=6e4,NR=5e3,xR=10*1024,OR=100*1024,Bc="t",Mg="d",AR="s",Fg="r",DR="e",Ug="o",$g="a",zg="n",jg="p",LR="h";class MR{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bo("c:"+this.id+":"),this.transportManager_=new _o(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=js(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>OR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bc in e){const n=e[Bc];n===$g?this.upgradeIfSecondaryHealthy_():n===Fg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ug&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ws("t",e),r=ws("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$g,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ws("t",e),r=ws("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ws(Bc,e);if(Mg in e){const r=e[Mg];if(n===LR){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===zg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===AR?this.onConnectionShutdown_(r):n===Fg?this.onReset_(r):n===DR?vf("Server Error: "+r):n===Ug?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),tp!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),js(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):js(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(NR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Vw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bl}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=32,Wg=768;class ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new ue("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function mr(t){return t.pieces_.length-t.pieceNum_}function de(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function qw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function FR(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Qw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Kw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function Le(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function dt(t,e){const n=Y(t),r=Y(e);if(n===null)return e;if(n===r)return dt(de(t),de(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ip(t,e){if(mr(t)!==mr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(mr(t)>mr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class UR{constructor(e,n){this.errorPrefix_=n,this.parts_=Qw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wu(this.parts_[r]);Gw(this)}}function $R(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wu(e),Gw(t)}function zR(t){const e=t.parts_.pop();t.byteLength_-=Wu(e),t.parts_.length>0&&(t.byteLength_-=1)}function Gw(t){if(t.byteLength_>Wg)throw new Error(t.errorPrefix_+"has a key path longer than "+Wg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Bg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bg+") or object contains a cycle "+Pr(t))}function Pr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends Vw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new sp}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=1e3,jR=60*5*1e3,Hg=30*1e3,BR=1.3,WR=3e4,HR="server_kill",Vg=3;class En extends Hw{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=En.nextPersistentConnectionId_++,this.log_=Bo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Es,this.maxReconnectDelay_=jR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!pw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&bl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(je(s)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Bu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;En.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xn(e,"w")){const r=Qi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Uk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Fk(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+je(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):vf("Unrecognized action received from server: "+je(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WR&&(this.reconnectDelay_=Es),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*BR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+En.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new MR(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{vt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(HR)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&vt(d),l())}}}interrupt(e){nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],cf(this.interruptReasons_)&&(this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ep(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ue(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){nt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vg&&(this.reconnectDelay_=Hg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Sw.replace(/\./g,"-")]=1,Gh()?e["framework.cordova"]=1:hw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bl.getInstance().currentlyOnline();return cf(this.interruptReasons_)&&e}}En.nextPersistentConnectionId_=0;En.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(Gi,e),i=new J(Gi,n);return this.compare(r,i)!==0}minPost(){return J.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va;class Yw extends Hu{static get __EMPTY_NODE(){return va}static set __EMPTY_NODE(e){va=e}compare(e,n){return as(e.name,n.name)}isDefinedOn(e){throw is("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(Jr,va)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,va)}toString(){return".key"}}const Di=new Yw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??ft.EMPTY_NODE,this.right=s??ft.EMPTY_NODE}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ft.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class VR{copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(e,n=ft.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ft(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new ft(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ya(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ya(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ya(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ya(this.root_,null,this.comparator_,!0,e)}}ft.EMPTY_NODE=new VR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e){return as(t.name,e.name)}function op(t,e){return as(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f;function QR(t){_f=t}const Jw=function(t){return typeof t=="number"?"number:"+bw(t):"string:"+t},Xw=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xn(e,".sv"),"Priority must be a string or number.")}else U(t===_f||t.isEmpty(),"priority of unexpected type.");U(t===_f||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg;class Ue{constructor(e,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xw(this.priorityNode_)}static set __childrenNodeConstructor(e){qg=e}static get __childrenNodeConstructor(){return qg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Z(e)?this:Y(e)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Y(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||mr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Jw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=bw(this.value_):e+=this.value_,this.lazyHash_=Iw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ue.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ue.VALUE_TYPE_ORDER.indexOf(n),s=Ue.VALUE_TYPE_ORDER.indexOf(r);return U(i>=0,"Unknown leaf type: "+n),U(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zw,eE;function KR(t){Zw=t}function GR(t){eE=t}class YR extends Hu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?as(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(Jr,new Ue("[PRIORITY-POST]",eE))}makePost(e,n){const r=Zw(e);return new J(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new YR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=Math.log(2);class XR{constructor(e){const n=s=>parseInt(Math.log(s)/JR,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rl=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new ze(f,d.node,ze.BLACK,null,null);{const h=parseInt(c/2,10)+l,v=i(l,h),y=i(h+1,u);return d=t[h],f=n?n(d):d,new ze(f,d.node,ze.BLACK,v,y)}},s=function(l){let u=null,c=null,d=t.length;const f=function(v,y){const w=d-v,g=d;d-=v;const p=i(w+1,g),m=t[w],_=n?n(m):m;h(new ze(_,m.node,y,null,p))},h=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<l.count;++v){const y=l.nextBitIsOne(),w=Math.pow(2,l.count-(v+1));y?f(w,ze.BLACK):(f(w,ze.BLACK),f(w,ze.RED))}return c},o=new XR(t.length),a=s(o);return new ft(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc;const ci={};class vn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(ci&&ke,"ChildrenNode.ts has not been loaded"),Wc=Wc||new vn({".priority":ci},{".priority":ke}),Wc}get(e){const n=Qi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ft?n:null}hasIndex(e){return xn(this.indexSet_,e.toString())}addIndex(e,n){U(e!==Di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(J.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Rl(r,e.getCompare()):a=ci;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new vn(c,u)}addToIndexes(e,n){const r=Cl(this.indexes_,(i,s)=>{const o=Qi(this.indexSet_,s);if(U(o,"Missing index implementation for "+s),i===ci)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(J.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Rl(a,o.getCompare())}else return ci;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new J(e.name,a))),l.insert(e,e.node)}});return new vn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Cl(this.indexes_,i=>{if(i===ci)return i;{const s=n.get(e.name);return s?i.remove(new J(e.name,s)):i}});return new vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss;class K{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Xw(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ss||(Ss=new K(new ft(op),null,vn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ss}updatePriority(e){return this.children_.isEmpty()?this:new K(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ss:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(de(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new J(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ss:this.priorityNode_;return new K(i,o,s)}}updateChild(e,n){const r=Y(e);if(r===null)return n;{U(Y(e)!==".priority"||mr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(de(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ke,(o,a)=>{n[o]=a.val(e),r++,s&&K.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Jw(this.getPriority().val())+":"),this.forEachChild(ke,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Iw(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new J(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new J(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new J(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,J.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,J.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wo?-1:0}withIndex(e){if(e===Di||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new K(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Di||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ke),i=n.getIterator(ke);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Di?null:this.indexMap_.get(e.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ZR extends K{constructor(){super(new ft(op),K.EMPTY_NODE,vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return K.EMPTY_NODE}isEmpty(){return!1}}const Wo=new ZR;Object.defineProperties(J,{MIN:{value:new J(Gi,K.EMPTY_NODE)},MAX:{value:new J(Jr,Wo)}});Yw.__EMPTY_NODE=K.EMPTY_NODE;Ue.__childrenNodeConstructor=K;QR(Wo);GR(Wo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=!0;function Qe(t,e=null){if(t===null)return K.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ue(n,Qe(e))}if(!(t instanceof Array)&&eP){const n=[];let r=!1;if(_t(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Qe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new J(o,l)))}}),n.length===0)return K.EMPTY_NODE;const s=Rl(n,qR,o=>o.name,op);if(r){const o=Rl(n,ke.getCompare());return new K(s,Qe(e),new vn({".priority":o},{".priority":ke}))}else return new K(s,Qe(e),vn.Default)}else{let n=K.EMPTY_NODE;return _t(t,(r,i)=>{if(xn(t,r)&&r.substring(0,1)!=="."){const s=Qe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Qe(e))}}KR(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP extends Hu{constructor(e){super(),this.indexPath_=e,U(!Z(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?as(e.name,n.name):s}makePost(e,n){const r=Qe(e),i=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,i)}maxPost(){const e=K.EMPTY_NODE.updateChild(this.indexPath_,Wo);return new J(Jr,e)}toString(){return Qw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends Hu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?as(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=Qe(e);return new J(n,r)}toString(){return".value"}}const rP=new nP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){return{type:"value",snapshotNode:t}}function Yi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function wo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Eo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function iP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(wo(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Yi(n,r)):o.trackChildChange(Eo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ke,(i,s)=>{n.hasChild(i)||r.trackChildChange(wo(i,s))}),n.isLeafNode()||n.forEachChild(ke,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Eo(i,s,o))}else r.trackChildChange(Yi(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?K.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.indexedFilter_=new ap(e.getIndex()),this.index_=e.getIndex(),this.startPost_=So.getStartPost_(e),this.endPost_=So.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new J(n,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=K.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(K.EMPTY_NODE);const s=this;return n.forEachChild(ke,(o,a)=>{s.matches(new J(o,a))||(i=i.updateImmediateChild(o,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new So(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new J(n,r))||(r=K.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=K.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(K.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new J(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(c&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(Eo(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(wo(n,d));const y=a.updateImmediateChild(n,K.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Yi(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(wo(u.name,u.node)),s.trackChildChange(Yi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,K.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gi}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const e=new lp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oP(t){return t.loadsAllData()?new ap(t.getIndex()):t.hasLimit()?new sP(t):new So(t)}function Qg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===rP?n="$value":t.index_===Di?n="$key":(U(t.index_ instanceof tP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=je(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=je(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+je(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=je(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+je(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Kg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Hw{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Pl.getListenId_(e,r),a={};this.listens_[o]=a;const l=Qg(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Qi(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Pl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Qg(e._queryParams),r=e._path.toString(),i=new Bu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ss(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=vo(a.responseText)}catch{vt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&vt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(){return{value:null,children:new Map}}function nE(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,Nl());const i=t.children.get(r);e=de(e),nE(i,e,n)}}function wf(t,e,n){t.value!==null?n(e,t.value):lP(t,(r,i)=>{const s=new ue(e.toString()+"/"+r);wf(i,s,n)})}function lP(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&_t(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=10*1e3,cP=30*1e3,dP=5*60*1e3;class fP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new uP(e);const r=Gg+(cP-Gg)*Math.random();js(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;_t(e,(i,s)=>{s>0&&xn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),js(this.reportStats_.bind(this),Math.floor(Math.random()*2*dP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vt||(Vt={}));function rE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function up(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vt.ACK_USER_WRITE,this.source=rE()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new xl(ie(),n,this.revert)}}else return U(Y(this.path)===e,"operationForChild called for unrelated child."),new xl(de(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.source=e,this.path=n,this.type=Vt.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new Co(this.source,ie()):new Co(this.source,de(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vt.OVERWRITE}operationForChild(e){return Z(this.path)?new Xr(this.source,ie(),this.snap.getImmediateChild(e)):new Xr(this.source,de(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vt.MERGE}operationForChild(e){if(Z(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new Xr(this.source,ie(),n.value):new Io(this.source,ie(),n)}else return U(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Io(this.source,de(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pP(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(iP(o.childName,o.snapshotNode))}),Cs(t,i,"child_removed",e,r,n),Cs(t,i,"child_added",e,r,n),Cs(t,i,"child_moved",s,r,n),Cs(t,i,"child_changed",e,r,n),Cs(t,i,"value",e,r,n),i}function Cs(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>gP(t,a,l)),o.forEach(a=>{const l=mP(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function mP(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function gP(t,e,n){if(e.childName==null||n.childName==null)throw is("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),i=new J(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e){return{eventCache:t,serverCache:e}}function Bs(t,e,n,r){return Vu(new Zr(e,n,r),t.serverCache)}function iE(t,e,n,r){return Vu(t.eventCache,new Zr(e,n,r))}function Ef(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ei(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc;const vP=()=>(Hc||(Hc=new ft(nR)),Hc);class pe{constructor(e,n=vP()){this.value=e,this.children=n}static fromObject(e){let n=new pe(null);return _t(e,(r,i)=>{n=n.set(new ue(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(Z(e))return null;{const r=Y(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(de(e),n);return s!=null?{path:Le(new ue(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{const n=Y(e),r=this.children.get(n);return r!==null?r.subtree(de(e)):new pe(null)}}set(e,n){if(Z(e))return new pe(n,this.children);{const r=Y(e),s=(this.children.get(r)||new pe(null)).set(de(e),n),o=this.children.insert(r,s);return new pe(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(de(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pe(null):new pe(this.value,s)}else return this}}get(e){if(Z(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(de(e)):null}}setTree(e,n){if(Z(e))return n;{const r=Y(e),s=(this.children.get(r)||new pe(null)).setTree(de(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new pe(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Le(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Z(e))return null;{const s=Y(e),o=this.children.get(s);return o?o.findOnPath_(de(e),Le(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);const i=Y(e),s=this.children.get(i);return s?s.foreachOnPath_(de(e),Le(n,i),r):new pe(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Le(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new pe(null))}}function Ws(t,e,n){if(Z(e))return new Kt(new pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=dt(i,e);return s=s.updateChild(o,n),new Kt(t.writeTree_.set(i,s))}else{const i=new pe(n),s=t.writeTree_.setTree(e,i);return new Kt(s)}}}function Yg(t,e,n){let r=t;return _t(n,(i,s)=>{r=Ws(r,Le(e,i),s)}),r}function Jg(t,e){if(Z(e))return Kt.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new Kt(n)}}function Sf(t,e){return oi(t,e)!=null}function oi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dt(n.path,e)):null}function Xg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{e.push(new J(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new J(r,i.value))}),e}function lr(t,e){if(Z(e))return t;{const n=oi(t,e);return n!=null?new Kt(new pe(n)):new Kt(t.writeTree_.subtree(e))}}function Cf(t){return t.writeTree_.isEmpty()}function Ji(t,e){return sE(ie(),t.writeTree_,e)}function sE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(U(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=sE(Le(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Le(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t,e){return uE(e,t)}function yP(t,e,n,r,i){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ws(t.visibleWrites,e,n)),t.lastWriteId=r}function _P(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function wP(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&EP(a,r.path)?i=!1:Ht(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return SP(t),!0;if(r.snap)t.visibleWrites=Jg(t.visibleWrites,r.path);else{const a=r.children;_t(a,l=>{t.visibleWrites=Jg(t.visibleWrites,Le(r.path,l))})}return!0}else return!1}function EP(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(Le(t.path,n),e))return!0;return!1}function SP(t){t.visibleWrites=oE(t.allWrites,CP,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function CP(t){return t.visible}function oE(t,e,n){let r=Kt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ht(n,o)?(a=dt(n,o),r=Ws(r,a,s.snap)):Ht(o,n)&&(a=dt(o,n),r=Ws(r,ie(),s.snap.getChild(a)));else if(s.children){if(Ht(n,o))a=dt(n,o),r=Yg(r,a,s.children);else if(Ht(o,n))if(a=dt(o,n),Z(a))r=Yg(r,ie(),s.children);else{const l=Qi(s.children,Y(a));if(l){const u=l.getChild(de(a));r=Ws(r,ie(),u)}}}else throw is("WriteRecord should have .snap or .children")}}return r}function aE(t,e,n,r,i){if(!r&&!i){const s=oi(t.visibleWrites,e);if(s!=null)return s;{const o=lr(t.visibleWrites,e);if(Cf(o))return n;if(n==null&&!Sf(o,ie()))return null;{const a=n||K.EMPTY_NODE;return Ji(o,a)}}}else{const s=lr(t.visibleWrites,e);if(!i&&Cf(s))return n;if(!i&&n==null&&!Sf(s,ie()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ht(u.path,e)||Ht(e,u.path))},a=oE(t.allWrites,o,e),l=n||K.EMPTY_NODE;return Ji(a,l)}}}function IP(t,e,n){let r=K.EMPTY_NODE;const i=oi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=lr(t.visibleWrites,e);return n.forEachChild(ke,(o,a)=>{const l=Ji(lr(s,new ue(o)),a);r=r.updateImmediateChild(o,l)}),Xg(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=lr(t.visibleWrites,e);return Xg(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function TP(t,e,n,r,i){U(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Le(e,n);if(Sf(t.visibleWrites,s))return null;{const o=lr(t.visibleWrites,s);return Cf(o)?i.getChild(n):Ji(o,i.getChild(n))}}function kP(t,e,n,r){const i=Le(e,n),s=oi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=lr(t.visibleWrites,i);return Ji(o,r.getNode().getImmediateChild(n))}else return null}function bP(t,e){return oi(t.visibleWrites,e)}function RP(t,e,n,r,i,s,o){let a;const l=lr(t.visibleWrites,e),u=oi(l,ie());if(u!=null)a=u;else if(n!=null)a=Ji(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function PP(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function Ol(t,e,n,r){return aE(t.writeTree,t.treePath,e,n,r)}function fp(t,e){return IP(t.writeTree,t.treePath,e)}function Zg(t,e,n,r){return TP(t.writeTree,t.treePath,e,n,r)}function Al(t,e){return bP(t.writeTree,Le(t.treePath,e))}function NP(t,e,n,r,i,s){return RP(t.writeTree,t.treePath,e,n,r,i,s)}function hp(t,e,n){return kP(t.writeTree,t.treePath,e,n)}function lE(t,e){return uE(Le(t.treePath,e),t.writeTree)}function uE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Eo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,wo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Yi(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Eo(r,e.snapshotNode,i.oldSnap));else throw is("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const cE=new OP;class pp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ei(this.viewCache_),s=NP(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){return{filter:t}}function DP(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function LP(t,e,n,r,i){const s=new xP;let o,a;if(n.type===Vt.OVERWRITE){const u=n;u.source.fromUser?o=If(t,e,u.path,u.snap,r,i,s):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Z(u.path),o=Dl(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Vt.MERGE){const u=n;u.source.fromUser?o=FP(t,e,u.path,u.children,r,i,s):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Tf(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Vt.ACK_USER_WRITE){const u=n;u.revert?o=zP(t,e,u.path,r,i,s):o=UP(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Vt.LISTEN_COMPLETE)o=$P(t,e,n.path,r,s);else throw is("Unknown operation type: "+n.type);const l=s.getChanges();return MP(e,o,l),{viewCache:o,changes:l}}function MP(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ef(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(tE(Ef(e)))}}function dE(t,e,n,r,i,s){const o=e.eventCache;if(Al(r,n)!=null)return e;{let a,l;if(Z(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ei(e),c=u instanceof K?u:K.EMPTY_NODE,d=fp(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Ol(r,ei(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Y(n);if(u===".priority"){U(mr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=Zg(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=de(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=Zg(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=hp(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Bs(e,a,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function Dl(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Z(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=Y(n);if(!l.isCompleteForPath(n)&&mr(n)>1)return e;const v=de(n),w=l.getNode().getImmediateChild(h).updateChild(v,r);h===".priority"?u=c.updatePriority(l.getNode(),w):u=c.updateChild(l.getNode(),h,w,v,cE,null)}const d=iE(e,u,l.isFullyInitialized()||Z(n),c.filtersNodes()),f=new pp(i,d,s);return dE(t,d,n,i,f,a)}function If(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new pp(i,e,s);if(Z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Bs(e,u,!0,t.filter.filtersNodes());else{const d=Y(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Bs(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=de(n),h=a.getNode().getImmediateChild(d);let v;if(Z(f))v=r;else{const y=c.getCompleteChild(d);y!=null?qw(f)===".priority"&&y.getChild(Kw(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=K.EMPTY_NODE}if(h.equals(v))l=e;else{const y=t.filter.updateChild(a.getNode(),d,v,f,c,o);l=Bs(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ev(t,e){return t.eventCache.isCompleteForChild(e)}function FP(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Le(n,l);ev(e,Y(c))&&(a=If(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Le(n,l);ev(e,Y(c))||(a=If(t,a,c,u,i,s,o))}),a}function tv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Tf(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Z(n)?u=r:u=new pe(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),v=tv(t,h,f);l=Dl(t,l,new ue(d),v,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const v=e.serverCache.getNode().getImmediateChild(d),y=tv(t,v,f);l=Dl(t,l,new ue(d),y,i,s,o,a)}}),l}function UP(t,e,n,r,i,s,o){if(Al(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Dl(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Z(n)){let u=new pe(null);return l.getNode().forEachChild(Di,(c,d)=>{u=u.set(new ue(c),d)}),Tf(t,e,n,u,i,s,a,o)}else return e}else{let u=new pe(null);return r.foreach((c,d)=>{const f=Le(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Tf(t,e,n,u,i,s,a,o)}}function $P(t,e,n,r,i){const s=e.serverCache,o=iE(e,s.getNode(),s.isFullyInitialized()||Z(n),s.isFiltered());return dE(t,o,n,r,cE,i)}function zP(t,e,n,r,i,s){let o;if(Al(r,n)!=null)return e;{const a=new pp(r,e,i),l=e.eventCache.getNode();let u;if(Z(n)||Y(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Ol(r,ei(e));else{const d=e.serverCache.getNode();U(d instanceof K,"serverChildren would be complete if leaf node"),c=fp(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Y(n);let d=hp(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,de(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,K.EMPTY_NODE,de(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ol(r,ei(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Al(r,ie())!=null,Bs(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new ap(r.getIndex()),s=oP(r);this.processor_=AP(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(K.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(K.EMPTY_NODE,a.getNode(),null),c=new Zr(l,o.isFullyInitialized(),i.filtersNodes()),d=new Zr(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Vu(d,c),this.eventGenerator_=new hP(this.query_)}get query(){return this.query_}}function BP(t){return t.viewCache_.serverCache.getNode()}function WP(t,e){const n=ei(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function nv(t){return t.eventRegistrations_.length===0}function HP(t,e){t.eventRegistrations_.push(e)}function rv(t,e,n){const r=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function iv(t,e,n,r){e.type===Vt.MERGE&&e.source.queryId!==null&&(U(ei(t.viewCache_),"We should always have a full cache before handling merges"),U(Ef(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=LP(t.processor_,i,e,n,r);return DP(t.processor_,s.viewCache),U(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,fE(t,s.changes,s.viewCache.eventCache.getNode(),null)}function VP(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ke,(s,o)=>{r.push(Yi(s,o))}),n.isFullyInitialized()&&r.push(tE(n.getNode())),fE(t,r,n.getNode(),e)}function fE(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return pP(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll;class qP{constructor(){this.views=new Map}}function QP(t){U(!Ll,"__referenceConstructor has already been defined"),Ll=t}function KP(){return U(Ll,"Reference.ts has not been loaded"),Ll}function GP(t){return t.views.size===0}function mp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return U(s!=null,"SyncTree gave us an op for an invalid query."),iv(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(iv(o,e,n,r));return s}}function YP(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Ol(n,i?r:null),l=!1;a?l=!0:r instanceof K?(a=fp(n,r),l=!1):(a=K.EMPTY_NODE,l=!1);const u=Vu(new Zr(a,l,!1),new Zr(r,i,!1));return new jP(e,u)}return o}function JP(t,e,n,r,i,s){const o=YP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),HP(o,n),VP(o,n)}function XP(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=gr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(rv(u,n,r)),nv(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(rv(l,n,r)),nv(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!gr(t)&&s.push(new(KP())(e._repo,e._path)),{removed:s,events:o}}function hE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Li(t,e){let n=null;for(const r of t.views.values())n=n||WP(r,e);return n}function pE(t,e){if(e._queryParams.loadsAllData())return qu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function mE(t,e){return pE(t,e)!=null}function gr(t){return qu(t)!=null}function qu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml;function ZP(t){U(!Ml,"__referenceConstructor has already been defined"),Ml=t}function eN(){return U(Ml,"Reference.ts has not been loaded"),Ml}let tN=1;class sv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=PP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gE(t,e,n,r,i){return yP(t.pendingWriteTree_,e,n,r,i),i?Ho(t,new Xr(rE(),e,n)):[]}function Fr(t,e,n=!1){const r=_P(t.pendingWriteTree_,e);if(wP(t.pendingWriteTree_,e)){let s=new pe(null);return r.snap!=null?s=s.set(ie(),!0):_t(r.children,o=>{s=s.set(new ue(o),!0)}),Ho(t,new xl(r.path,s,n))}else return[]}function Qu(t,e,n){return Ho(t,new Xr(up(),e,n))}function nN(t,e,n){const r=pe.fromObject(n);return Ho(t,new Io(up(),e,r))}function rN(t,e){return Ho(t,new Co(up(),e))}function iN(t,e,n){const r=vp(t,n);if(r){const i=yp(r),s=i.path,o=i.queryId,a=dt(s,e),l=new Co(cp(o),a);return _p(t,s,l)}else return[]}function kf(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||mE(o,e))){const l=XP(o,e,n,r);GP(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>gr(h));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=aN(f);for(let v=0;v<h.length;++v){const y=h[v],w=y.query,g=_E(t,y);t.listenProvider_.startListening(Hs(w),Fl(t,w),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Hs(e),null):u.forEach(f=>{const h=t.queryToTagMap.get(Ku(f));t.listenProvider_.stopListening(Hs(f),h)}))}lN(t,u)}return a}function sN(t,e,n,r){const i=vp(t,r);if(i!=null){const s=yp(i),o=s.path,a=s.queryId,l=dt(o,e),u=new Xr(cp(a),l,n);return _p(t,o,u)}else return[]}function oN(t,e,n,r){const i=vp(t,r);if(i){const s=yp(i),o=s.path,a=s.queryId,l=dt(o,e),u=pe.fromObject(n),c=new Io(cp(a),l,u);return _p(t,o,c)}else return[]}function ov(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const v=dt(f,i);s=s||Li(h,v),o=o||gr(h)});let a=t.syncPointTree_.get(i);a?(o=o||gr(a),s=s||Li(a,ie())):(a=new qP,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=K.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,v)=>{const y=Li(v,ie());y&&(s=s.updateImmediateChild(h,y))}));const u=mE(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=Ku(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=uN();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const c=dp(t.pendingWriteTree_,i);let d=JP(a,e,n,c,s,l);if(!u&&!o&&!r){const f=pE(a,e);d=d.concat(cN(t,e,f))}return d}function gp(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=dt(o,e),u=Li(a,l);if(u)return u});return aE(i,e,s,n,!0)}function Ho(t,e){return vE(e,t.syncPointTree_,null,dp(t.pendingWriteTree_,ie()))}function vE(t,e,n,r){if(Z(t.path))return yE(t,e,n,r);{const i=e.get(ie());n==null&&i!=null&&(n=Li(i,ie()));let s=[];const o=Y(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=lE(r,o);s=s.concat(vE(a,l,u,c))}return i&&(s=s.concat(mp(i,t,r,n))),s}}function yE(t,e,n,r){const i=e.get(ie());n==null&&i!=null&&(n=Li(i,ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=lE(r,o),c=t.operationForChild(o);c&&(s=s.concat(yE(c,a,l,u)))}),i&&(s=s.concat(mp(i,t,r,n))),s}function _E(t,e){const n=e.query,r=Fl(t,n);return{hashFn:()=>(BP(e)||K.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?iN(t,n._path,r):rN(t,n._path);{const s=sR(i,n);return kf(t,n,null,s)}}}}function Fl(t,e){const n=Ku(e);return t.queryToTagMap.get(n)}function Ku(t){return t._path.toString()+"$"+t._queryIdentifier}function vp(t,e){return t.tagToQueryMap.get(e)}function yp(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function _p(t,e,n){const r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");const i=dp(t.pendingWriteTree_,e);return mp(r,n,i,null)}function aN(t){return t.fold((e,n,r)=>{if(n&&gr(n))return[qu(n)];{let i=[];return n&&(i=hE(n)),_t(r,(s,o)=>{i=i.concat(o)}),i}})}function Hs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(eN())(t._repo,t._path):t}function lN(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ku(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function uN(){return tN++}function cN(t,e,n){const r=e._path,i=Fl(t,e),s=_E(t,n),o=t.listenProvider_.startListening(Hs(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)U(!gr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!Z(u)&&c&&gr(c))return[qu(c).query];{let f=[];return c&&(f=f.concat(hE(c).map(h=>h.query))),_t(d,(h,v)=>{f=f.concat(v)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Hs(c),Fl(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new wp(n)}node(){return this.node_}}class Ep{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Le(this.path_,e);return new Ep(this.syncTree_,n)}node(){return gp(this.syncTree_,this.path_)}}const dN=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},av=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fN(t[".sv"],e,n);if(typeof t[".sv"]=="object")return hN(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fN=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},hN=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const i=e.node();if(U(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},pN=function(t,e,n,r){return Sp(e,new Ep(n,t),r)},wE=function(t,e,n){return Sp(t,new wp(e),n)};function Sp(t,e,n){const r=t.getPriority().val(),i=av(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=av(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ue(a,Qe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ue(i))),o.forEachChild(ke,(a,l)=>{const u=Sp(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ip(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=Y(n);for(;i!==null;){const s=Qi(r.node.children,i)||{children:{},childCount:0};r=new Cp(i,r,s),n=de(n),i=Y(n)}return r}function us(t){return t.node.value}function EE(t,e){t.node.value=e,bf(t)}function SE(t){return t.node.childCount>0}function mN(t){return us(t)===void 0&&!SE(t)}function Gu(t,e){_t(t.node.children,(n,r)=>{e(new Cp(n,t,r))})}function CE(t,e,n,r){n&&!r&&e(t),Gu(t,i=>{CE(i,e,!0,r)}),n&&r&&e(t)}function gN(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vo(t){return new ue(t.parent===null?t.name:Vo(t.parent)+"/"+t.name)}function bf(t){t.parent!==null&&vN(t.parent,t.name,t)}function vN(t,e,n){const r=mN(n),i=xn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,bf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,bf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/[\[\].#$\/\u0000-\u001F\u007F]/,_N=/[\[\].#$\u0000-\u001F\u007F]/,Vc=10*1024*1024,IE=function(t){return typeof t=="string"&&t.length!==0&&!yN.test(t)},TE=function(t){return typeof t=="string"&&t.length!==0&&!_N.test(t)},wN=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TE(t)},EN=function(t,e,n,r){r&&e===void 0||Tp(Yh(t,"value"),e,n)},Tp=function(t,e,n){const r=n instanceof ue?new UR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pr(r)+" with contents = "+e.toString());if(Tw(e))throw new Error(t+"contains "+e.toString()+" "+Pr(r));if(typeof e=="string"&&e.length>Vc/3&&Wu(e)>Vc)throw new Error(t+"contains a string greater than "+Vc+" utf8 bytes "+Pr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(_t(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!IE(o)))throw new Error(t+" contains an invalid key ("+o+") "+Pr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$R(r,o),Tp(t,a,r),zR(r)}),i&&s)throw new Error(t+' contains ".value" child '+Pr(r)+" in addition to actual children.")}},kE=function(t,e,n,r){if(!(r&&n===void 0)&&!TE(n))throw new Error(Yh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},SN=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kE(t,e,n,r)},CN=function(t,e){if(Y(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},IN=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!IE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wN(n))throw new Error(Yh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kp(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ip(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function bE(t,e,n){kp(t,n),RE(t,r=>ip(r,e))}function bn(t,e,n){kp(t,n),RE(t,r=>Ht(r,e)||Ht(e,r))}function RE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(kN(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function kN(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();jr&&nt("event: "+n.toString()),ls(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="repo_interrupt",RN=25;class PN{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nl(),this.transactionQueueTree_=new Cp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NN(t,e,n){if(t.stats_=np(t.repoInfo_),t.forceRestClient_||uR())t.server_=new Pl(t.repoInfo_,(r,i,s,o)=>{lv(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>uv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new En(t.repoInfo_,e,(r,i,s,o)=>{lv(t,r,i,s,o)},r=>{uv(t,r)},r=>{ON(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=pR(t.repoInfo_,()=>new fP(t.stats_,t.server_)),t.infoData_=new aP,t.infoSyncTree_=new sv({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Qu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Rp(t,"connected",!1),t.serverSyncTree_=new sv({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);bn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function xN(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bp(t){return dN({timestamp:xN(t)})}function lv(t,e,n,r,i){t.dataUpdateCount++;const s=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Cl(n,u=>Qe(u));o=oN(t.serverSyncTree_,s,l,i)}else{const l=Qe(n);o=sN(t.serverSyncTree_,s,l,i)}else if(r){const l=Cl(n,u=>Qe(u));o=nN(t.serverSyncTree_,s,l)}else{const l=Qe(n);o=Qu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Yu(t,s)),bn(t.eventQueue_,a,o)}function uv(t,e){Rp(t,"connected",e),e===!1&&DN(t)}function ON(t,e){_t(e,(n,r)=>{Rp(t,n,r)})}function Rp(t,e,n){const r=new ue("/.info/"+e),i=Qe(n);t.infoData_.updateSnapshot(r,i);const s=Qu(t.infoSyncTree_,r,i);bn(t.eventQueue_,r,s)}function PE(t){return t.nextWriteId_++}function AN(t,e,n,r,i){Pp(t,"set",{path:e.toString(),value:n,priority:r});const s=bp(t),o=Qe(n,r),a=gp(t.serverSyncTree_,e),l=wE(o,a,s),u=PE(t),c=gE(t.serverSyncTree_,e,l,u,!0);kp(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const v=f==="ok";v||vt("set at "+e+" failed: "+f);const y=Fr(t.serverSyncTree_,u,!v);bn(t.eventQueue_,e,y),FN(t,i,f,h)});const d=DE(t,e);Yu(t,d),bn(t.eventQueue_,d,[])}function DN(t){Pp(t,"onDisconnectEvents");const e=bp(t),n=Nl();wf(t.onDisconnect_,ie(),(i,s)=>{const o=pN(i,s,t.serverSyncTree_,e);nE(n,i,o)});let r=[];wf(n,ie(),(i,s)=>{r=r.concat(Qu(t.serverSyncTree_,i,s));const o=DE(t,i);Yu(t,o)}),t.onDisconnect_=Nl(),bn(t.eventQueue_,ie(),r)}function LN(t,e,n){let r;Y(e._path)===".info"?r=ov(t.infoSyncTree_,e,n):r=ov(t.serverSyncTree_,e,n),bE(t.eventQueue_,e._path,r)}function cv(t,e,n){let r;Y(e._path)===".info"?r=kf(t.infoSyncTree_,e,n):r=kf(t.serverSyncTree_,e,n),bE(t.eventQueue_,e._path,r)}function MN(t){t.persistentConnection_&&t.persistentConnection_.interrupt(bN)}function Pp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nt(n,...e)}function FN(t,e,n,r){e&&ls(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function NE(t,e,n){return gp(t.serverSyncTree_,e,n)||K.EMPTY_NODE}function Np(t,e=t.transactionQueueTree_){if(e||Ju(t,e),us(e)){const n=OE(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&UN(t,Vo(e),n)}else SE(e)&&Gu(e,n=>{Np(t,n)})}function UN(t,e,n){const r=n.map(u=>u.currentWriteId),i=NE(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];U(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=dt(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Pp(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Fr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ju(t,Ip(t.transactionQueueTree_,e)),Np(t,t.transactionQueueTree_),bn(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)ls(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{vt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Yu(t,e)}},o)}function Yu(t,e){const n=xE(t,e),r=Vo(n),i=OE(t,n);return $N(t,i,r),r}function $N(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=dt(n,l.path);let c=!1,d;if(U(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Fr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=RN)c=!0,d="maxretry",i=i.concat(Fr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=NE(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Tp("transaction failed: Data returned ",h,l.path);let v=Qe(h);typeof h=="object"&&h!=null&&xn(h,".priority")||(v=v.updatePriority(f.getPriority()));const w=l.currentWriteId,g=bp(t),p=wE(v,f,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=p,l.currentWriteId=PE(t),o.splice(o.indexOf(w),1),i=i.concat(gE(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(Fr(t.serverSyncTree_,w,!0))}else c=!0,d="nodata",i=i.concat(Fr(t.serverSyncTree_,l.currentWriteId,!0))}bn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ju(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ls(r[a]);Np(t,t.transactionQueueTree_)}function xE(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);n!==null&&us(r)===void 0;)r=Ip(r,n),e=de(e),n=Y(e);return r}function OE(t,e){const n=[];return AE(t,e,n),n.sort((r,i)=>r.order-i.order),n}function AE(t,e,n){const r=us(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Gu(e,i=>{AE(t,i,n)})}function Ju(t,e){const n=us(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,EE(e,n.length>0?n:void 0)}Gu(e,r=>{Ju(t,r)})}function DE(t,e){const n=Vo(xE(t,e)),r=Ip(t.transactionQueueTree_,e);return gN(r,i=>{qc(t,i)}),qc(t,r),CE(r,i=>{qc(t,i)}),n}function qc(t,e){const n=us(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Fr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?EE(e,void 0):n.length=s+1,bn(t.eventQueue_,Vo(e),i);for(let o=0;o<r.length;o++)ls(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function jN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const dv=function(t,e){const n=BN(t),r=n.namespace;n.domain==="firebase.com"&&kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||eR();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Fw(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ue(n.pathString)}},BN=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=zN(t.substring(c,d)));const f=jN(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+je(this.snapshot.exportVal())}}class ME{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:qw(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){const e=Kg(this._queryParams),n=ep(e);return n==="{}"?"default":n}get _queryObject(){return Kg(this._queryParams)}isEqual(e){if(e=Ut(e),!(e instanceof xp))return!1;const n=this._repo===e._repo,r=ip(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+FR(this._path)}}class On extends xp{constructor(e,n){super(e,n,new lp,!1)}get parent(){const e=Kw(this._path);return e===null?null:new On(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class To{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=Ul(this.ref,e);return new To(this._node.getChild(n),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new To(i,Ul(this.ref,r),ke)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ua(t,e){return t=Ut(t),t._checkNotDeleted("ref"),e!==void 0?Ul(t._root,e):t._root}function Ul(t,e){return t=Ut(t),Y(t._path)===null?SN("child","path",e,!1):kE("child","path",e,!1),new On(t._repo,Le(t._path,e))}function fv(t,e){t=Ut(t),CN("set",t._path),EN("set",e,t._path,!1);const n=new Bu;return AN(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Op{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new LE("value",this,new To(e.snapshotNode,new On(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ME(this,e,n):null}matches(e){return e instanceof Op?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ap{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ME(this,e,n):null}createEvent(e,n){U(e.childName!=null,"Child events should have a childName.");const r=Ul(new On(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new LE(e.type,this,new To(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ap?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function HN(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{cv(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new WN(n,s||void 0),a=e==="value"?new Op(o):new Ap(e,o);return LN(t._repo,t,a),()=>cv(t._repo,t,a)}function FE(t,e,n,r){return HN(t,"value",e,n,r)}QP(On);ZP(On);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="FIREBASE_DATABASE_EMULATOR_HOST",Rf={};let qN=!1;function QN(t,e,n,r){t.repoInfo_=new Fw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function KN(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=dv(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[VN]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=dv(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Ai(Ai.OWNER):new dR(t.name,t.options,e);IN("Invalid Firebase Database URL",o),Z(o.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=YN(a,t,c,new cR(t.name,n));return new JN(d,t)}function GN(t,e){const n=Rf[e];(!n||n[t.key]!==t)&&kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),MN(t),delete n[t.key]}function YN(t,e,n,r){let i=Rf[e.name];i||(i={},Rf[e.name]=i);let s=i[t.toURLString()];return s&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new PN(t,qN,n,r),i[t.toURLString()]=s,s}class JN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(GN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kn("Cannot call "+e+" on a deleted database.")}}function Dp(t=_w(),e){const n=Zh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Rk("database");r&&XN(n,...r)}return n}function XN(t,e,n,r={}){t=Ut(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ai(Ai.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Pk(r.mockUserToken,t.app.options.projectId);s=new Ai(o)}QN(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){Gb(os),Ki(new Gr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return KN(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ar(xg,Og,t),ar(xg,Og,"esm2017")}En.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};En.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ZN();function UE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=UE(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Gn(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=UE(t))&&(r&&(r+=" "),r+=e);return r}const Vs=t=>typeof t=="number"&&!isNaN(t),ti=t=>typeof t=="string",ht=t=>typeof t=="function",$a=t=>ti(t)||ht(t)?t:null,Qc=t=>P.isValidElement(t)||ti(t)||ht(t)||Vs(t);function ex(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Xu(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:f}=o;const h=r?`${e}--${l}`:e,v=r?`${n}--${l}`:n,y=P.useRef(0);return P.useLayoutEffect(()=>{const w=d.current,g=h.split(" "),p=m=>{m.target===d.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",p),w.removeEventListener("animationcancel",p),y.current===0&&m.type!=="animationcancel"&&w.classList.remove(...g))};w.classList.add(...g),w.addEventListener("animationend",p),w.addEventListener("animationcancel",p)},[]),P.useEffect(()=>{const w=d.current,g=()=>{w.removeEventListener("animationend",g),i?ex(w,c,s):c()};f||(u?g():(y.current=1,w.className+=` ${v}`,w.addEventListener("animationend",g)))},[f]),ne.createElement(ne.Fragment,null,a)}}function hv(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Nt={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},_a=t=>{let{theme:e,type:n,...r}=t;return ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Kc={info:function(t){return ne.createElement(_a,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ne.createElement(_a,{...t},ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ne.createElement(_a,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ne.createElement(_a,{...t},ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ne.createElement("div",{className:"Toastify__spinner"})}};function tx(t){const[,e]=P.useReducer(h=>h+1,0),[n,r]=P.useState([]),i=P.useRef(null),s=P.useRef(new Map).current,o=h=>n.indexOf(h)!==-1,a=P.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:h=>s.get(h)}).current;function l(h){let{containerId:v}=h;const{limit:y}=a.props;!y||v&&a.containerId!==v||(a.count-=a.queue.length,a.queue=[])}function u(h){r(v=>h==null?[]:v.filter(y=>y!==h))}function c(){const{toastContent:h,toastProps:v,staleId:y}=a.queue.shift();f(h,v,y)}function d(h,v){let{delay:y,staleId:w,...g}=v;if(!Qc(h)||function(R){return!i.current||a.props.enableMultiContainer&&R.containerId!==a.props.containerId||s.has(R.toastId)&&R.updateId==null}(g))return;const{toastId:p,updateId:m,data:_}=g,{props:E}=a,S=()=>u(p),C=m==null;C&&a.count++;const I={...E,style:E.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(g).filter(R=>{let[N,D]=R;return D!=null})),toastId:p,updateId:m,data:_,closeToast:S,isIn:!1,className:$a(g.className||E.toastClassName),bodyClassName:$a(g.bodyClassName||E.bodyClassName),progressClassName:$a(g.progressClassName||E.progressClassName),autoClose:!g.isLoading&&(b=g.autoClose,T=E.autoClose,b===!1||Vs(b)&&b>0?b:T),deleteToast(){const R=hv(s.get(p),"removed");s.delete(p),Nt.emit(4,R);const N=a.queue.length;if(a.count=p==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),N>0){const D=p==null?a.props.limit:1;if(N===1||D===1)a.displayedToast++,c();else{const L=D>N?N:D;a.displayedToast=L;for(let B=0;B<L;B++)c()}}else e()}};var b,T;I.iconOut=function(R){let{theme:N,type:D,isLoading:L,icon:B}=R,q=null;const A={theme:N,type:D};return B===!1||(ht(B)?q=B(A):P.isValidElement(B)?q=P.cloneElement(B,A):ti(B)||Vs(B)?q=B:L?q=Kc.spinner():(x=>x in Kc)(D)&&(q=Kc[D](A))),q}(I),ht(g.onOpen)&&(I.onOpen=g.onOpen),ht(g.onClose)&&(I.onClose=g.onClose),I.closeButton=E.closeButton,g.closeButton===!1||Qc(g.closeButton)?I.closeButton=g.closeButton:g.closeButton===!0&&(I.closeButton=!Qc(E.closeButton)||E.closeButton);let O=h;P.isValidElement(h)&&!ti(h.type)?O=P.cloneElement(h,{closeToast:S,toastProps:I,data:_}):ht(h)&&(O=h({closeToast:S,toastProps:I,data:_})),E.limit&&E.limit>0&&a.count>E.limit&&C?a.queue.push({toastContent:O,toastProps:I,staleId:w}):Vs(y)?setTimeout(()=>{f(O,I,w)},y):f(O,I,w)}function f(h,v,y){const{toastId:w}=v;y&&s.delete(y);const g={content:h,props:v};s.set(w,g),r(p=>[...p,w].filter(m=>m!==y)),Nt.emit(4,hv(g,g.props.updateId==null?"added":"updated"))}return P.useEffect(()=>(a.containerId=t.containerId,Nt.cancelEmit(3).on(0,d).on(1,h=>i.current&&u(h)).on(5,l).emit(2,a),()=>{s.clear(),Nt.emit(3,a)}),[]),P.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(h){const v=new Map,y=Array.from(s.values());return t.newestOnTop&&y.reverse(),y.forEach(w=>{const{position:g}=w.props;v.has(g)||v.set(g,[]),v.get(g).push(w)}),Array.from(v,w=>h(w[0],w[1]))},containerRef:i,isToastActive:o}}function pv(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function mv(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function nx(t){const[e,n]=P.useState(!1),[r,i]=P.useState(!1),s=P.useRef(null),o=P.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=P.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:f}=t;function h(_){if(t.draggable){_.nativeEvent.type==="touchstart"&&_.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",g),document.addEventListener("touchend",p);const E=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=E.getBoundingClientRect(),E.style.transition="",o.x=pv(_.nativeEvent),o.y=mv(_.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=E.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function v(_){if(o.boundingRect){const{top:E,bottom:S,left:C,right:I}=o.boundingRect;_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=C&&o.x<=I&&o.y>=E&&o.y<=S?w():y()}}function y(){n(!0)}function w(){n(!1)}function g(_){const E=s.current;o.canDrag&&E&&(o.didMove=!0,e&&w(),o.x=pv(_),o.y=mv(_),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),E.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,E.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",p);const _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();_.style.transition="transform 0.2s, opacity 0.2s",_.style.transform=`translate${t.draggableDirection}(0)`,_.style.opacity="1"}}P.useEffect(()=>{a.current=t}),P.useEffect(()=>(s.current&&s.current.addEventListener("d",y,{once:!0}),ht(t.onOpen)&&t.onOpen(P.isValidElement(t.children)&&t.children.props),()=>{const _=a.current;ht(_.onClose)&&_.onClose(P.isValidElement(_.children)&&_.children.props)}),[]),P.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",y),window.addEventListener("blur",w)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",w))}),[t.pauseOnFocusLoss]);const m={onMouseDown:h,onTouchStart:h,onMouseUp:v,onTouchEnd:v};return l&&u&&(m.onMouseEnter=w,m.onMouseLeave=y),f&&(m.onClick=_=>{d&&d(_),o.canCloseOnClick&&c()}),{playToast:y,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:m}}function $E(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rx(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:f}=t;const h=s||l&&u===0,v={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:h?0:1};l&&(v.transform=`scaleX(${u})`);const y=Gn("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=ht(o)?o({rtl:c,type:i,defaultClassName:y}):Gn(y,o);return ne.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:w,style:v,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const ix=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=nx(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:f,position:h,className:v,style:y,bodyClassName:w,bodyStyle:g,progressClassName:p,progressStyle:m,updateId:_,role:E,progress:S,rtl:C,toastId:I,deleteToast:b,isIn:T,isLoading:O,iconOut:R,closeOnClick:N,theme:D}=t,L=Gn("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":N}),B=ht(v)?v({rtl:C,position:h,type:u,defaultClassName:L}):Gn(L,v),q=!!S||!a,A={closeToast:d,type:u,theme:D};let x=null;return s===!1||(x=ht(s)?s(A):P.isValidElement(s)?P.cloneElement(s,A):$E(A)),ne.createElement(f,{isIn:T,done:b,position:h,preventExitTransition:n,nodeRef:r},ne.createElement("div",{id:I,onClick:l,className:B,...i,style:y,ref:r},ne.createElement("div",{...T&&{role:E},className:ht(w)?w({type:u}):Gn("Toastify__toast-body",w),style:g},R!=null&&ne.createElement("div",{className:Gn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},R),ne.createElement("div",null,o)),x,ne.createElement(rx,{..._&&!q?{key:`pb-${_}`}:{},rtl:C,theme:D,delay:a,isRunning:e,isIn:T,closeToast:d,hide:c,type:u,style:m,className:p,controlledProgress:q,progress:S||0})))},Zu=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},sx=Xu(Zu("bounce",!0));Xu(Zu("slide",!0));Xu(Zu("zoom"));Xu(Zu("flip"));const Pf=P.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=tx(t),{className:s,style:o,rtl:a,containerId:l}=t;function u(c){const d=Gn("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return ht(s)?s({position:c,rtl:a,defaultClassName:d}):Gn(d,$a(s))}return P.useEffect(()=>{e&&(e.current=r.current)},[]),ne.createElement("div",{ref:r,className:"Toastify",id:l},n((c,d)=>{const f=d.length?{...o}:{...o,pointerEvents:"none"};return ne.createElement("div",{className:u(c),style:f,key:`container-${c}`},d.map((h,v)=>{let{content:y,props:w}=h;return ne.createElement(ix,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":v+1,"--len":d.length},key:`toast-${w.key}`},y)}))}))});Pf.displayName="ToastContainer",Pf.defaultProps={position:"top-right",transition:sx,autoClose:5e3,closeButton:$E,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Gc,Nr=new Map,Ps=[],ox=1;function zE(){return""+ox++}function ax(t){return t&&(ti(t.toastId)||Vs(t.toastId))?t.toastId:zE()}function qs(t,e){return Nr.size>0?Nt.emit(0,t,e):Ps.push({content:t,options:e}),e.toastId}function $l(t,e){return{...e,type:e&&e.type||t,toastId:ax(e)}}function wa(t){return(e,n)=>qs(e,$l(t,n))}function ce(t,e){return qs(t,$l("default",e))}ce.loading=(t,e)=>qs(t,$l("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ce.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=ti(i)?ce.loading(i,n):ce.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,f)=>{if(d==null)return void ce.dismiss(r);const h={type:c,...a,...n,data:f},v=ti(d)?{render:d}:d;return r?ce.update(r,{...h,...v}):ce(v.render,{...h,...v}),f},u=ht(t)?t():t;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},ce.success=wa("success"),ce.info=wa("info"),ce.error=wa("error"),ce.warning=wa("warning"),ce.warn=ce.warning,ce.dark=(t,e)=>qs(t,$l("default",{theme:"dark",...e})),ce.dismiss=t=>{Nr.size>0?Nt.emit(1,t):Ps=Ps.filter(e=>t!=null&&e.options.toastId!==t)},ce.clearWaitingQueue=function(t){return t===void 0&&(t={}),Nt.emit(5,t)},ce.isActive=t=>{let e=!1;return Nr.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},ce.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Nr.get(s||Gc);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:zE()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,qs(o,s)}},0)},ce.done=t=>{ce.update(t,{progress:1})},ce.onChange=t=>(Nt.on(4,t),()=>{Nt.off(4,t)}),ce.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ce.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Nt.on(2,t=>{Gc=t.containerId||t,Nr.set(Gc,t),Ps.forEach(e=>{Nt.emit(0,e.content,e.options)}),Ps=[]}).on(3,t=>{Nr.delete(t.containerId||t),Nr.size===0&&Nt.off(0).off(1).off(5)});function lx(t,e){let n=[];for(let r of e)for(let i of t)if(i.id===r){n.push(i.name);break}return n}function ux(t){let e=[];return t.map(n=>e.push(n.name)),e}function cx(t){const e=/([0-9]{4}(?=-))/g,n=t.match(e);return n!==null?n[0]:t}function dx(t,e){return e.find(r=>r.id===t)?"REMOVE FROM COLLECTION":"ADD TO COLLECTION"}function CM(){return window.innerWidth>=1200?7:1}function jE(){const t=document.getElementsByTagName("main")[0],e=document.getElementsByTagName("footer")[0];t.style.paddingBottom=e.clientHeight+"px"}window.addEventListener("load",jE);window.addEventListener("resize",jE);const fx="_Link_yn4lt_1",hx="_Image_yn4lt_23",px="_Title_yn4lt_47",mx="_ItemInfo_yn4lt_61",gx="_Button_yn4lt_87",vx="_Icon_yn4lt_137",yx="_Text_yn4lt_159",cn={Link:fx,Image:hx,Title:px,ItemInfo:mx,Date:"_Date_yn4lt_75",Button:gx,Icon:vx,Text:yx},_x=({movies:t,allGenres:e,genres:n,backdrop_path:r,id:i,title:s,genre_ids:o,release_date:a})=>{const l=Kr(y=>y.user.isLoggedIn),u=Kr(y=>y.user.uid),[c,d]=P.useState([]),f=Dp(),h=Cr();P.useEffect(()=>{if(!l)return;const y=Ua(f,"collections/"+u),w=FE(y,g=>{const p=g.val(),m=Object.values(p);d(m)});return()=>{w()}},[f,l,u]);const v=y=>{if(!l){ce.error("You must be authorized!");return}const w=t.find(p=>p.id===y);c.find(p=>p.id===y)?(fv(Ua(f,"collections/"+u+"/"+y),null),ce("Deleted from collection")):(fv(Ua(f,"collections/"+u+"/"+y),w),ce("Added to collection"))};return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:cn.Film,children:j.jsx(V0,{to:`/movies/${i}`,state:{from:h},className:cn.Link,children:j.jsxs("li",{children:[j.jsx("img",{className:cn.Image,src:r?`https://image.tmdb.org/t/p/w1920_and_h800_multi_faces/${r}`:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:""}),j.jsx("p",{className:cn.Title,children:s}),j.jsxs("div",{className:cn.ItemInfo,children:[j.jsx("p",{children:o?j.jsx("span",{children:lx(e,o).join(", ")}):j.jsx("span",{children:ux(n).join(", ")})}),j.jsxs("p",{className:cn.Date,children:[j.jsx("span",{children:"|"}),cx(a)]})]})]},i)})}),j.jsxs("button",{className:cn.Button,onClick:()=>v(i),children:[j.jsx("span",{className:cn.Icon,children:"+"}),j.jsx("span",{className:cn.Text,children:dx(i,c)})]})]})};function Ke(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Yt(t){return!!t&&!!t[me]}function Jt(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Rx}(t)||Array.isArray(t)||!!t[Qs]||!!(!((e=t.constructor)===null||e===void 0)&&e[Qs])||ec(t)||tc(t))}function wx(t){return Yt(t)||Ke(23,t),t[me].t}function vr(t,e,n){n===void 0&&(n=!1),yr(t)===0?(n?Object.keys:Mi)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function yr(t){var e=t[me];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:ec(t)?2:tc(t)?3:0}function ur(t,e){return yr(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function za(t,e){return yr(t)===2?t.get(e):t[e]}function BE(t,e,n){var r=yr(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function WE(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ec(t){return kx&&t instanceof Map}function tc(t){return bx&&t instanceof Set}function xr(t){return t.o||t.t}function Lp(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=VE(t);delete e[me];for(var n=Mi(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Mp(t,e){return e===void 0&&(e=!1),Fp(t)||Yt(t)||!Jt(t)||(yr(t)>1&&(t.set=t.add=t.clear=t.delete=Ex),Object.freeze(t),e&&vr(t,function(n,r){return Mp(r,!0)},!0)),t}function Ex(){Ke(2)}function Fp(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function sn(t){var e=Af[t];return e||Ke(18,t),e}function HE(t,e){Af[t]||(Af[t]=e)}function Nf(){return ko}function Yc(t,e){e&&(sn("Patches"),t.u=[],t.s=[],t.v=e)}function zl(t){xf(t),t.p.forEach(Sx),t.p=null}function xf(t){t===ko&&(ko=t.l)}function gv(t){return ko={p:[],l:ko,h:t,m:!0,_:0}}function Sx(t){var e=t[me];e.i===0||e.i===1?e.j():e.g=!0}function Jc(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||sn("ES5").S(e,t,r),r?(n[me].P&&(zl(e),Ke(4)),Jt(t)&&(t=jl(e,t),e.l||Bl(e,t)),e.u&&sn("Patches").M(n[me].t,t,e.u,e.s)):t=jl(e,n,[]),zl(e),e.u&&e.v(e.u,e.s),t!==$p?t:void 0}function jl(t,e,n){if(Fp(e))return e;var r=e[me];if(!r)return vr(e,function(a,l){return vv(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Bl(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Lp(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),vr(s,function(a,l){return vv(t,r,i,a,l,n,o)}),Bl(t,i,!1),n&&t.u&&sn("Patches").N(r,n,t.u,t.s)}return r.o}function vv(t,e,n,r,i,s,o){if(Yt(i)){var a=jl(t,i,s&&e&&e.i!==3&&!ur(e.R,r)?s.concat(r):void 0);if(BE(n,r,a),!Yt(a))return;t.m=!1}else o&&n.add(i);if(Jt(i)&&!Fp(i)){if(!t.h.D&&t._<1)return;jl(t,i),e&&e.A.l||Bl(t,i)}}function Bl(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Mp(e,n)}function Xc(t,e){var n=t[me];return(n?xr(n):t)[e]}function yv(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Bn(t){t.P||(t.P=!0,t.l&&Bn(t.l))}function Zc(t){t.o||(t.o=Lp(t.t))}function Of(t,e,n){var r=ec(e)?sn("MapSet").F(e,n):tc(e)?sn("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Nf(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=bo;o&&(l=[a],u=Ns);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):sn("ES5").J(e,n);return(n?n.A:Nf()).p.push(r),r}function Cx(t){return Yt(t)||Ke(22,t),function e(n){if(!Jt(n))return n;var r,i=n[me],s=yr(n);if(i){if(!i.P&&(i.i<4||!sn("ES5").K(i)))return i.t;i.I=!0,r=_v(n,s),i.I=!1}else r=_v(n,s);return vr(r,function(o,a){i&&za(i.t,o)===a||BE(r,o,e(a))}),s===3?new Set(r):r}(t)}function _v(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Lp(t)}function Ix(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[me];return bo.get(l,s)},set:function(l){var u=this[me];bo.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][me];if(!a.P)switch(a.i){case 5:r(a)&&Bn(a);break;case 4:n(a)&&Bn(a)}}}function n(s){for(var o=s.t,a=s.k,l=Mi(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==me){var d=o[c];if(d===void 0&&!ur(o,c))return!0;var f=a[c],h=f&&f[me];if(h?h.t!==d:!WE(f,d))return!0}}var v=!!o[me];return l.length!==Mi(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};HE("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,t(h,!0));return f}var v=VE(d);delete v[me];for(var y=Mi(v),w=0;w<y.length;w++){var g=y[w];v[g]=t(g,c||!!v[g].enumerable)}return Object.create(Object.getPrototypeOf(d),v)}(a,s),u={i:a?5:4,A:o?o.A:Nf(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,me,{value:u,writable:!0}),l},S:function(s,o,a){a?Yt(o)&&o[me].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[me];if(c){var d=c.t,f=c.k,h=c.R,v=c.i;if(v===4)vr(f,function(m){m!==me&&(d[m]!==void 0||ur(d,m)?h[m]||l(f[m]):(h[m]=!0,Bn(c)))}),vr(d,function(m){f[m]!==void 0||ur(f,m)||(h[m]=!1,Bn(c))});else if(v===5){if(r(c)&&(Bn(c),h.length=!0),f.length<d.length)for(var y=f.length;y<d.length;y++)h[y]=!1;else for(var w=d.length;w<f.length;w++)h[w]=!0;for(var g=Math.min(f.length,d.length),p=0;p<g;p++)f.hasOwnProperty(p)||(h[p]=!0),h[p]===void 0&&l(f[p])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}function Tx(){function t(r){if(!Jt(r))return r;if(Array.isArray(r))return r.map(t);if(ec(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],t(o[1])]}));if(tc(r))return new Set(Array.from(r).map(t));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=t(r[s]);return ur(r,Qs)&&(i[Qs]=r[Qs]),i}function e(r){return Yt(r)?t(r):r}var n="add";HE("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,u=0;u<o.length-1;u++){var c=yr(l),d=o[u];typeof d!="string"&&typeof d!="number"&&(d=""+d),c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||Ke(24),typeof l=="function"&&d==="prototype"&&Ke(24),typeof(l=za(l,d))!="object"&&Ke(15,o.join("/"))}var f=yr(l),h=t(s.value),v=o[o.length-1];switch(a){case"replace":switch(f){case 2:return l.set(v,h);case 3:Ke(16);default:return l[v]=h}case n:switch(f){case 1:return v==="-"?l.push(h):l.splice(v,0,h);case 2:return l.set(v,h);case 3:return l.add(h);default:return l[v]=h}case"remove":switch(f){case 1:return l.splice(v,1);case 2:return l.delete(v);case 3:return l.delete(s.value);default:return delete l[v]}default:Ke(17,a)}}),r},N:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var d=a.t,f=a.o;vr(a.R,function(h,v){var y=za(d,h),w=za(f,h),g=v?ur(d,h)?"replace":n:"remove";if(y!==w||g!=="replace"){var p=l.concat(h);u.push(g==="remove"?{op:g,path:p}:{op:g,path:p,value:w}),c.push(g===n?{op:"remove",path:p}:g==="remove"?{op:n,path:p,value:e(y)}:{op:"replace",path:p,value:e(y)})}})}(r,i,s,o);case 5:case 1:return function(a,l,u,c){var d=a.t,f=a.R,h=a.o;if(h.length<d.length){var v=[h,d];d=v[0],h=v[1];var y=[c,u];u=y[0],c=y[1]}for(var w=0;w<d.length;w++)if(f[w]&&h[w]!==d[w]){var g=l.concat([w]);u.push({op:"replace",path:g,value:e(h[w])}),c.push({op:"replace",path:g,value:e(d[w])})}for(var p=d.length;p<h.length;p++){var m=l.concat([p]);u.push({op:n,path:m,value:e(h[p])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,s,o);case 3:return function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(v){if(!f.has(v)){var y=l.concat([h]);u.push({op:"remove",path:y,value:v}),c.unshift({op:n,path:y,value:v})}h++}),h=0,f.forEach(function(v){if(!d.has(v)){var y=l.concat([h]);u.push({op:n,path:y,value:v}),c.unshift({op:"remove",path:y,value:v})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===$p?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var wv,ko,Up=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",kx=typeof Map<"u",bx=typeof Set<"u",Ev=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",$p=Up?Symbol.for("immer-nothing"):((wv={})["immer-nothing"]=!0,wv),Qs=Up?Symbol.for("immer-draftable"):"__$immer_draftable",me=Up?Symbol.for("immer-state"):"__$immer_state",Rx=""+Object.prototype.constructor,Mi=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,VE=Object.getOwnPropertyDescriptors||function(t){var e={};return Mi(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Af={},bo={get:function(t,e){if(e===me)return t;var n=xr(t);if(!ur(n,e))return function(i,s,o){var a,l=yv(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Jt(r)?r:r===Xc(t.t,e)?(Zc(t),t.o[e]=Of(t.A.h,r,t)):r},has:function(t,e){return e in xr(t)},ownKeys:function(t){return Reflect.ownKeys(xr(t))},set:function(t,e,n){var r=yv(xr(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Xc(xr(t),e),s=i==null?void 0:i[me];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(WE(n,i)&&(n!==void 0||ur(t.t,e)))return!0;Zc(t),Bn(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Xc(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Zc(t),Bn(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=xr(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Ke(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ke(12)}},Ns={};vr(bo,function(t,e){Ns[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ns.deleteProperty=function(t,e){return Ns.set.call(this,t,e,void 0)},Ns.set=function(t,e,n){return bo.set.call(this,t[0],e,n,t[0])};var Px=function(){function t(n){var r=this;this.O=Ev,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var w=this;y===void 0&&(y=a);for(var g=arguments.length,p=Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];return l.produce(y,function(_){var E;return(E=s).call.apply(E,[w,_].concat(p))})}}var u;if(typeof s!="function"&&Ke(6),o!==void 0&&typeof o!="function"&&Ke(7),Jt(i)){var c=gv(r),d=Of(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?zl(c):xf(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return Yc(c,o),Jc(y,c)},function(y){throw zl(c),y}):(Yc(c,o),Jc(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===$p&&(u=void 0),r.D&&Mp(u,!0),o){var h=[],v=[];sn("Patches").M(i,u,h,v),o(h,v)}return u}Ke(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Jt(n)||Ke(8),Yt(n)&&(n=Cx(n));var r=gv(this),i=Of(this,n,void 0);return i[me].C=!0,xf(r),i},e.finishDraft=function(n,r){var i=n&&n[me],s=i.A;return Yc(s,r),Jc(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Ev&&Ke(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=sn("Patches").$;return Yt(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Tt=new Px,qo=Tt.produce,qE=Tt.produceWithPatches.bind(Tt);Tt.setAutoFreeze.bind(Tt);Tt.setUseProxies.bind(Tt);var Sv=Tt.applyPatches.bind(Tt);Tt.createDraft.bind(Tt);Tt.finishDraft.bind(Tt);function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function Nx(t,e){if(Ro(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ro(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xx(t){var e=Nx(t,"string");return Ro(e)==="symbol"?e:String(e)}function Ox(t,e,n){return e=xx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cv(Object(n),!0).forEach(function(r){Ox(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function et(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Tv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ed=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wl={INIT:"@@redux/INIT"+ed(),REPLACE:"@@redux/REPLACE"+ed(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ed()}};function Ax(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zp(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(et(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(et(1));return n(zp)(t,e)}if(typeof t!="function")throw new Error(et(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(et(3));return s}function d(y){if(typeof y!="function")throw new Error(et(4));if(l)throw new Error(et(5));var w=!0;return u(),a.push(y),function(){if(w){if(l)throw new Error(et(6));w=!1,u();var p=a.indexOf(y);a.splice(p,1),o=null}}}function f(y){if(!Ax(y))throw new Error(et(7));if(typeof y.type>"u")throw new Error(et(8));if(l)throw new Error(et(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var w=o=a,g=0;g<w.length;g++){var p=w[g];p()}return y}function h(y){if(typeof y!="function")throw new Error(et(10));i=y,f({type:Wl.REPLACE})}function v(){var y,w=d;return y={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(et(11));function m(){p.next&&p.next(c())}m();var _=w(m);return{unsubscribe:_}}},y[Tv]=function(){return this},y}return f({type:Wl.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Tv]=v,r}function Dx(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Wl.INIT});if(typeof r>"u")throw new Error(et(12));if(typeof n(void 0,{type:Wl.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(et(13))})}function jp(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{Dx(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var h=s[f],v=n[h],y=l[h],w=v(y,u);if(typeof w>"u")throw u&&u.type,new Error(et(14));d[h]=w,c=c||w!==y}return c=c||s.length!==Object.keys(l).length,c?d:l}}function Hl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Lx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(et(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Hl.apply(void 0,a)(i.dispatch),Iv(Iv({},i),{},{dispatch:s})}}}var Vl="NOT_FOUND";function Mx(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:Vl},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function Fx(t,e){var n=[];function r(a){var l=n.findIndex(function(c){return e(a,c.key)});if(l>-1){var u=n[l];return l>0&&(n.splice(l,1),n.unshift(u)),u.value}return Vl}function i(a,l){r(a)===Vl&&(n.unshift({key:a,value:l}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var Ux=function(e,n){return e===n};function $x(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function Df(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?Ux:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,l=$x(i),u=o===1?Mx(l):Fx(o,l);function c(){var d=u.get(arguments);if(d===Vl){if(d=t.apply(null,arguments),a){var f=u.getEntries(),h=f.find(function(v){return a(v.value,d)});h&&(d=h.value)}u.put(arguments,d)}return d}return c.clearCache=function(){return u.clear()},c}function zx(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function jx(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=0,c,d={memoizeOptions:void 0},f=a.pop();if(typeof f=="object"&&(d=f,f=a.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var h=d,v=h.memoizeOptions,y=v===void 0?n:v,w=Array.isArray(y)?y:[y],g=zx(a),p=t.apply(void 0,[function(){return u++,f.apply(null,arguments)}].concat(w)),m=t(function(){for(var E=[],S=g.length,C=0;C<S;C++)E.push(g[C].apply(null,arguments));return c=p.apply(null,E),c});return Object.assign(m,{resultFunc:f,memoizedResultFunc:p,dependencies:g,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),m};return i}var Ks=jx(Df);function QE(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var KE=QE();KE.withExtraArgument=QE;const kv=KE;var GE=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bx=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Xi=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Wx=Object.defineProperty,Hx=Object.defineProperties,Vx=Object.getOwnPropertyDescriptors,bv=Object.getOwnPropertySymbols,qx=Object.prototype.hasOwnProperty,Qx=Object.prototype.propertyIsEnumerable,Rv=function(t,e,n){return e in t?Wx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},cr=function(t,e){for(var n in e||(e={}))qx.call(e,n)&&Rv(t,n,e[n]);if(bv)for(var r=0,i=bv(e);r<i.length;r++){var n=i[r];Qx.call(e,n)&&Rv(t,n,e[n])}return t},td=function(t,e){return Hx(t,Vx(e))},Kx=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},Gx=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hl:Hl.apply(null,arguments)};function _r(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Yx=function(t){GE(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Xi([void 0],n[0].concat(this)))):new(e.bind.apply(e,Xi([void 0],n.concat(this))))},e}(Array),Jx=function(t){GE(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Xi([void 0],n[0].concat(this)))):new(e.bind.apply(e,Xi([void 0],n.concat(this))))},e}(Array);function Lf(t){return Jt(t)?qo(t,function(){}):t}function Xx(t){return typeof t=="boolean"}function Zx(){return function(e){return eO(e)}}function eO(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Yx;return n&&(Xx(n)?r.push(kv):r.push(kv.withExtraArgument(n.extraArgument))),r}var tO=!0;function nO(t){var e=Zx(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(_r(i))h=jp(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var y=Lx.apply(void 0,v),w=Hl;l&&(w=Gx(cr({trace:!tO},typeof l=="object"&&l)));var g=new Jx(y),p=g;Array.isArray(f)?p=Xi([y],f):typeof f=="function"&&(p=f(g));var m=w.apply(void 0,p);return zp(h,c,m)}function yt(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return cr(cr({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function YE(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function rO(t){return typeof t=="function"}function iO(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?YE(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(rO(t))l=function(){return Lf(t())};else{var u=Lf(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Xi([s[f.type]],o.filter(function(v){var y=v.matcher;return y(f)}).map(function(v){var y=v.reducer;return y}));return h.filter(function(v){return!!v}).length===0&&(h=[a]),h.reduce(function(v,y){if(y)if(Yt(v)){var w=v,g=y(w,f);return g===void 0?v:g}else{if(Jt(v))return qo(v,function(p){return y(p,f)});var g=y(v,f);if(g===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return v},d)}return c.getInitialState=l,c}function sO(t,e){return t+"/"+e}function Or(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Lf(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=sO(e,c),h,v;"reducer"in d?(h=d.reducer,v=d.prepare):h=d,s[c]=h,o[f]=h,a[c]=v?yt(f,v):yt(f)});function l(){var c=typeof t.extraReducers=="function"?YE(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],v=h===void 0?[]:h,y=c[2],w=y===void 0?void 0:y,g=cr(cr({},f),o);return iO(n,function(p){for(var m in g)p.addCase(m,g[m]);for(var _=0,E=v;_<E.length;_++){var S=E[_];p.addMatcher(S.matcher,S.reducer)}w&&p.addDefaultCase(w)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var oO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JE=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=oO[Math.random()*64|0];return e},aO=["name","message","stack","code"],nd=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Pv=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),lO=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=aO;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},Nv=function(){function t(e,n,r){var i=yt(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:td(cr({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=yt(e+"/pending",function(u,c,d){return{payload:void 0,meta:td(cr({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=yt(e+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||lO)(u||"Rejected"),meta:td(cr({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):JE(),v=new a,y;function w(p){y=p,v.abort()}var g=function(){return Kx(this,null,function(){var p,m,_,E,S,C,I;return Bx(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),E=(p=r==null?void 0:r.condition)==null?void 0:p.call(r,u,{getState:d,extra:f}),cO(E)?[4,E]:[3,2];case 1:E=b.sent(),b.label=2;case 2:if(E===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(T,O){return v.signal.addEventListener("abort",function(){return O({name:"AbortError",message:y||"Aborted"})})}),c(s(h,u,(m=r==null?void 0:r.getPendingMeta)==null?void 0:m.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:v.signal,abort:w,rejectWithValue:function(T,O){return new nd(T,O)},fulfillWithValue:function(T,O){return new Pv(T,O)}})).then(function(T){if(T instanceof nd)throw T;return T instanceof Pv?i(T.payload,h,u,T.meta):i(T,h,u)})])];case 3:return _=b.sent(),[3,5];case 4:return C=b.sent(),_=C instanceof nd?o(null,h,u,C.payload,C.meta):o(C,h,u),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,I||c(_),[2,_]}})})}();return Object.assign(g,{abort:w,requestId:h,arg:u,unwrap:function(){return g.then(uO)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function uO(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function cO(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var dO=function(t){return t&&typeof t.match=="function"},XE=function(t,e){return dO(t)?t.match(e):t(e)};function cs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.some(function(r){return XE(r,n)})}}function Gs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.every(function(r){return XE(r,n)})}}function nc(t,e){if(!t||!t.meta)return!1;var n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function Qo(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Bp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return nc(n,["pending"])}:Qo(t)?function(n){var r=t.map(function(s){return s.pending}),i=cs.apply(void 0,r);return i(n)}:Bp()(t[0])}function Po(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return nc(n,["rejected"])}:Qo(t)?function(n){var r=t.map(function(s){return s.rejected}),i=cs.apply(void 0,r);return i(n)}:Po()(t[0])}function rc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return t.length===0?function(r){var i=Gs(Po.apply(void 0,t),n);return i(r)}:Qo(t)?function(r){var i=Gs(Po.apply(void 0,t),n);return i(r)}:rc()(t[0])}function ai(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return nc(n,["fulfilled"])}:Qo(t)?function(n){var r=t.map(function(s){return s.fulfilled}),i=cs.apply(void 0,r);return i(n)}:ai()(t[0])}function Mf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return nc(n,["pending","fulfilled","rejected"])}:Qo(t)?function(n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];r.push(o.pending,o.rejected,o.fulfilled)}var a=cs.apply(void 0,r);return a(n)}:Mf()(t[0])}var Wp="listenerMiddleware";yt(Wp+"/add");yt(Wp+"/removeAll");yt(Wp+"/remove");var xs="RTK_autoBatch",rd=function(){return function(t){var e;return{payload:t,meta:(e={},e[xs]=!0,e)}}},xv;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Ix();var ql=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ql=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},fO=Object.defineProperty,hO=Object.defineProperties,pO=Object.getOwnPropertyDescriptors,Kl=Object.getOwnPropertySymbols,ZE=Object.prototype.hasOwnProperty,eS=Object.prototype.propertyIsEnumerable,Ov=function(t,e,n){return e in t?fO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},be=function(t,e){for(var n in e||(e={}))ZE.call(e,n)&&Ov(t,n,e[n]);if(Kl)for(var r=0,i=Kl(e);r<i.length;r++){var n=i[r];eS.call(e,n)&&Ov(t,n,e[n])}return t},tn=function(t,e){return hO(t,pO(e))},Av=function(t,e){var n={};for(var r in t)ZE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Kl)for(var i=0,s=Kl(t);i<s.length;i++){var r=s[i];e.indexOf(r)<0&&eS.call(t,r)&&(n[r]=t[r])}return n},Gl=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},ye;(function(t){t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected"})(ye||(ye={}));function mO(t){return{status:t,isUninitialized:t===ye.uninitialized,isLoading:t===ye.pending,isSuccess:t===ye.fulfilled,isError:t===ye.rejected}}function gO(t){return new RegExp("(^|:)//").test(t)}var vO=function(t){return t.replace(/\/$/,"")},yO=function(t){return t.replace(/^\//,"")};function _O(t,e){if(!t)return e;if(!e)return t;if(gO(e))return e;var n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=vO(t),e=yO(e),""+t+n+e}var Dv=function(t){return[].concat.apply([],t)};function wO(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function EO(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var Lv=_r;function tS(t,e){if(t===e||!(Lv(t)&&Lv(e)||Array.isArray(t)&&Array.isArray(e)))return e;for(var n=Object.keys(e),r=Object.keys(t),i=n.length===r.length,s=Array.isArray(e)?[]:{},o=0,a=n;o<a.length;o++){var l=a[o];s[l]=tS(t[l],e[l]),i&&(i=t[l]===s[l])}return i?t:s}var Mv=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fetch.apply(void 0,t)},SO=function(t){return t.status>=200&&t.status<=299},CO=function(t){return/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"")};function Fv(t){if(!_r(t))return t;for(var e=be({},t),n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],s=i[0],o=i[1];o===void 0&&delete e[s]}return e}function IO(t){var e=this;t===void 0&&(t={});var n=t,r=n.baseUrl,i=n.prepareHeaders,s=i===void 0?function(m){return m}:i,o=n.fetchFn,a=o===void 0?Mv:o,l=n.paramsSerializer,u=n.isJsonContentType,c=u===void 0?CO:u,d=n.jsonContentType,f=d===void 0?"application/json":d,h=n.jsonReplacer,v=n.timeout,y=n.responseHandler,w=n.validateStatus,g=Av(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&a===Mv&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(m,_){return Gl(e,null,function(){var E,S,C,I,b,T,O,R,N,D,L,B,q,A,x,k,$,M,z,W,V,Q,X,He,wt,Pe,Ie,ee,Ve,Pt,ve,Je,Fe,we,An,li;return ql(this,function(Oe){switch(Oe.label){case 0:return E=_.signal,S=_.getState,C=_.extra,I=_.endpoint,b=_.forced,T=_.type,R=typeof m=="string"?{url:m}:m,N=R.url,D=R.headers,L=D===void 0?new Headers(g.headers):D,B=R.params,q=B===void 0?void 0:B,A=R.responseHandler,x=A===void 0?y??"json":A,k=R.validateStatus,$=k===void 0?w??SO:k,M=R.timeout,z=M===void 0?v:M,W=Av(R,["url","headers","params","responseHandler","validateStatus","timeout"]),V=be(tn(be({},g),{signal:E}),W),L=new Headers(Fv(L)),Q=V,[4,s(L,{getState:S,extra:C,endpoint:I,forced:b,type:T})];case 1:Q.headers=Oe.sent()||L,X=function(Ae){return typeof Ae=="object"&&(_r(Ae)||Array.isArray(Ae)||typeof Ae.toJSON=="function")},!V.headers.has("content-type")&&X(V.body)&&V.headers.set("content-type",f),X(V.body)&&c(V.headers)&&(V.body=JSON.stringify(V.body,h)),q&&(He=~N.indexOf("?")?"&":"?",wt=l?l(q):new URLSearchParams(Fv(q)),N+=He+wt),N=_O(r,N),Pe=new Request(N,V),Ie=Pe.clone(),O={request:Ie},Ve=!1,Pt=z&&setTimeout(function(){Ve=!0,_.abort()},z),Oe.label=2;case 2:return Oe.trys.push([2,4,5,6]),[4,a(Pe)];case 3:return ee=Oe.sent(),[3,6];case 4:return ve=Oe.sent(),[2,{error:{status:Ve?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ve)},meta:O}];case 5:return Pt&&clearTimeout(Pt),[7];case 6:Je=ee.clone(),O.response=Je,we="",Oe.label=7;case 7:return Oe.trys.push([7,9,,10]),[4,Promise.all([p(ee,x).then(function(Ae){return Fe=Ae},function(Ae){return An=Ae}),Je.text().then(function(Ae){return we=Ae},function(){})])];case 8:if(Oe.sent(),An)throw An;return[3,10];case 9:return li=Oe.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:ee.status,data:we,error:String(li)},meta:O}];case 10:return[2,$(ee,Fe)?{data:Fe,meta:O}:{error:{status:ee.status,data:Fe},meta:O}]}})})};function p(m,_){return Gl(this,null,function(){var E;return ql(this,function(S){switch(S.label){case 0:return typeof _=="function"?[2,_(m)]:(_==="content-type"&&(_=c(m.headers)?"json":"text"),_!=="json"?[3,2]:[4,m.text()]);case 1:return E=S.sent(),[2,E.length?JSON.parse(E):null];case 2:return[2,m.text()]}})})}}var Uv=function(){function t(e,n){n===void 0&&(n=void 0),this.value=e,this.meta=n}return t}(),Hp=yt("__rtkq/focused"),nS=yt("__rtkq/unfocused"),Vp=yt("__rtkq/online"),rS=yt("__rtkq/offline"),ln;(function(t){t.query="query",t.mutation="mutation"})(ln||(ln={}));function iS(t){return t.type===ln.query}function TO(t){return t.type===ln.mutation}function sS(t,e,n,r,i,s){return kO(t)?t(e,n,r,i).map(Ff).map(s):Array.isArray(t)?t.map(Ff).map(s):[]}function kO(t){return typeof t=="function"}function Ff(t){return typeof t=="string"?{type:t}:t}function id(t){return t!=null}var No=Symbol("forceQueryFn"),Uf=function(t){return typeof t[No]=="function"};function bO(t){var e=t.serializeQueryArgs,n=t.queryThunk,r=t.mutationThunk,i=t.api,s=t.context,o=new Map,a=new Map,l=i.internalActions,u=l.unsubscribeQueryResult,c=l.removeMutationResult,d=l.updateSubscriptionOptions;return{buildInitiateQuery:p,buildInitiateMutation:m,getRunningQueryThunk:v,getRunningMutationThunk:y,getRunningQueriesThunk:w,getRunningMutationsThunk:g,getRunningOperationPromises:h,removalWarning:f};function f(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function h(){typeof process<"u";var _=function(E){return Array.from(E.values()).flatMap(function(S){return S?Object.values(S):[]})};return Ql(Ql([],_(o)),_(a)).filter(id)}function v(_,E){return function(S){var C,I=s.endpointDefinitions[_],b=e({queryArgs:E,endpointDefinition:I,endpointName:_});return(C=o.get(S))==null?void 0:C[b]}}function y(_,E){return function(S){var C;return(C=a.get(S))==null?void 0:C[E]}}function w(){return function(_){return Object.values(o.get(_)||{}).filter(id)}}function g(){return function(_){return Object.values(a.get(_)||{}).filter(id)}}function p(_,E){var S=function(C,I){var b=I===void 0?{}:I,T=b.subscribe,O=T===void 0?!0:T,R=b.forceRefetch,N=b.subscriptionOptions,D=No,L=b[D];return function(B,q){var A,x,k=e({queryArgs:C,endpointDefinition:E,endpointName:_}),$=n((A={type:"query",subscribe:O,forceRefetch:R,subscriptionOptions:N,endpointName:_,originalArgs:C,queryCacheKey:k},A[No]=L,A)),M=i.endpoints[_].select(C),z=B($),W=M(q()),V=z.requestId,Q=z.abort,X=W.requestId!==V,He=(x=o.get(B))==null?void 0:x[k],wt=function(){return M(q())},Pe=Object.assign(L?z.then(wt):X&&!He?Promise.resolve(W):Promise.all([He,z]).then(wt),{arg:C,requestId:V,subscriptionOptions:N,queryCacheKey:k,abort:Q,unwrap:function(){return Gl(this,null,function(){var ee;return ql(this,function(Ve){switch(Ve.label){case 0:return[4,Pe];case 1:if(ee=Ve.sent(),ee.isError)throw ee.error;return[2,ee.data]}})})},refetch:function(){return B(S(C,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){O&&B(u({queryCacheKey:k,requestId:V}))},updateSubscriptionOptions:function(ee){Pe.subscriptionOptions=ee,B(d({endpointName:_,requestId:V,queryCacheKey:k,options:ee}))}});if(!He&&!X&&!L){var Ie=o.get(B)||{};Ie[k]=Pe,o.set(B,Ie),Pe.then(function(){delete Ie[k],Object.keys(Ie).length||o.delete(B)})}return Pe}};return S}function m(_){return function(E,S){var C=S===void 0?{}:S,I=C.track,b=I===void 0?!0:I,T=C.fixedCacheKey;return function(O,R){var N=r({type:"mutation",endpointName:_,originalArgs:E,track:b,fixedCacheKey:T}),D=O(N),L=D.requestId,B=D.abort,q=D.unwrap,A=D.unwrap().then(function(M){return{data:M}}).catch(function(M){return{error:M}}),x=function(){O(c({requestId:L,fixedCacheKey:T}))},k=Object.assign(A,{arg:D.arg,requestId:L,abort:B,unwrap:q,unsubscribe:x,reset:x}),$=a.get(O)||{};return a.set(O,$),$[L]=k,k.then(function(){delete $[L],Object.keys($).length||a.delete(O)}),T&&($[T]=k,k.then(function(){$[T]===k&&(delete $[T],Object.keys($).length||a.delete(O))})),k}}}}function $v(t){return t}function RO(t){var e=this,n=t.reducerPath,r=t.baseQuery,i=t.context.endpointDefinitions,s=t.serializeQueryArgs,o=t.api,a=function(m,_,E){return function(S){var C=i[m];S(o.internalActions.queryResultPatched({queryCacheKey:s({queryArgs:_,endpointDefinition:C,endpointName:m}),patches:E}))}},l=function(m,_,E){return function(S,C){var I,b,T=o.endpoints[m].select(_)(C()),O={patches:[],inversePatches:[],undo:function(){return S(o.util.patchQueryData(m,_,O.inversePatches))}};if(T.status===ye.uninitialized)return O;if("data"in T)if(Jt(T.data)){var R=qE(T.data,E),N=R[1],D=R[2];(I=O.patches).push.apply(I,N),(b=O.inversePatches).push.apply(b,D)}else{var L=E(T.data);O.patches.push({op:"replace",path:[],value:L}),O.inversePatches.push({op:"replace",path:[],value:T.data})}return S(o.util.patchQueryData(m,_,O.patches)),O}},u=function(m,_,E){return function(S){var C;return S(o.endpoints[m].initiate(_,(C={subscribe:!1,forceRefetch:!0},C[No]=function(){return{data:E}},C)))}},c=function(m,_){return Gl(e,[m,_],function(E,S){var C,I,b,T,O,R,N,D,L,B,q,A,x,k,$,M,z,W,V=S.signal,Q=S.abort,X=S.rejectWithValue,He=S.fulfillWithValue,wt=S.dispatch,Pe=S.getState,Ie=S.extra;return ql(this,function(ee){switch(ee.label){case 0:C=i[E.endpointName],ee.label=1;case 1:return ee.trys.push([1,8,,13]),I=$v,b=void 0,T={signal:V,abort:Q,dispatch:wt,getState:Pe,extra:Ie,endpoint:E.endpointName,type:E.type,forced:E.type==="query"?d(E,Pe()):void 0},O=E.type==="query"?E[No]:void 0,O?(b=O(),[3,6]):[3,2];case 2:return C.query?[4,r(C.query(E.originalArgs),T,C.extraOptions)]:[3,4];case 3:return b=ee.sent(),C.transformResponse&&(I=C.transformResponse),[3,6];case 4:return[4,C.queryFn(E.originalArgs,T,C.extraOptions,function(Ve){return r(Ve,T,C.extraOptions)})];case 5:b=ee.sent(),ee.label=6;case 6:if(typeof process<"u",b.error)throw new Uv(b.error,b.meta);return q=He,[4,I(b.data,b.meta,E.originalArgs)];case 7:return[2,q.apply(void 0,[ee.sent(),(z={fulfilledTimeStamp:Date.now(),baseQueryMeta:b.meta},z[xs]=!0,z)])];case 8:if(A=ee.sent(),x=A,!(x instanceof Uv))return[3,12];k=$v,C.query&&C.transformErrorResponse&&(k=C.transformErrorResponse),ee.label=9;case 9:return ee.trys.push([9,11,,12]),$=X,[4,k(x.value,x.meta,E.originalArgs)];case 10:return[2,$.apply(void 0,[ee.sent(),(W={baseQueryMeta:x.meta},W[xs]=!0,W)])];case 11:return M=ee.sent(),x=M,[3,12];case 12:throw typeof process<"u",console.error(x),x;case 13:return[2]}})})};function d(m,_){var E,S,C,I,b=(S=(E=_[n])==null?void 0:E.queries)==null?void 0:S[m.queryCacheKey],T=(C=_[n])==null?void 0:C.config.refetchOnMountOrArgChange,O=b==null?void 0:b.fulfilledTimeStamp,R=(I=m.forceRefetch)!=null?I:m.subscribe&&T;return R?R===!0||(Number(new Date)-Number(O))/1e3>=R:!1}var f=Nv(n+"/executeQuery",c,{getPendingMeta:function(){var m;return m={startedTimeStamp:Date.now()},m[xs]=!0,m},condition:function(m,_){var E=_.getState,S,C,I,b=E(),T=(C=(S=b[n])==null?void 0:S.queries)==null?void 0:C[m.queryCacheKey],O=T==null?void 0:T.fulfilledTimeStamp,R=m.originalArgs,N=T==null?void 0:T.originalArgs,D=i[m.endpointName];return Uf(m)?!0:(T==null?void 0:T.status)==="pending"?!1:d(m,b)||iS(D)&&((I=D==null?void 0:D.forceRefetch)!=null&&I.call(D,{currentArg:R,previousArg:N,endpointState:T,state:b}))?!0:!O},dispatchConditionRejection:!0}),h=Nv(n+"/executeMutation",c,{getPendingMeta:function(){var m;return m={startedTimeStamp:Date.now()},m[xs]=!0,m}}),v=function(m){return"force"in m},y=function(m){return"ifOlderThan"in m},w=function(m,_,E){return function(S,C){var I=v(E)&&E.force,b=y(E)&&E.ifOlderThan,T=function(D){return D===void 0&&(D=!0),o.endpoints[m].initiate(_,{forceRefetch:D})},O=o.endpoints[m].select(_)(C());if(I)S(T());else if(b){var R=O==null?void 0:O.fulfilledTimeStamp;if(!R){S(T());return}var N=(Number(new Date)-Number(new Date(R)))/1e3>=b;N&&S(T())}else S(T(!1))}};function g(m){return function(_){var E,S;return((S=(E=_==null?void 0:_.meta)==null?void 0:E.arg)==null?void 0:S.endpointName)===m}}function p(m,_){return{matchPending:Gs(Bp(m),g(_)),matchFulfilled:Gs(ai(m),g(_)),matchRejected:Gs(Po(m),g(_))}}return{queryThunk:f,mutationThunk:h,prefetch:w,updateQueryData:l,upsertQueryData:u,patchQueryData:a,buildMatchThunkActions:p}}function oS(t,e,n,r){return sS(n[t.meta.arg.endpointName][e],ai(t)?t.payload:void 0,rc(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function Ea(t,e,n){var r=t[e];r&&n(r)}function xo(t){var e;return(e="arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)!=null?e:t.requestId}function zv(t,e,n){var r=t[xo(e)];r&&n(r)}var Is={};function PO(t){var e=t.reducerPath,n=t.queryThunk,r=t.mutationThunk,i=t.context,s=i.endpointDefinitions,o=i.apiUid,a=i.extractRehydrationInfo,l=i.hasRehydrationInfo,u=t.assertTagType,c=t.config,d=yt(e+"/resetApiState"),f=Or({name:e+"/queries",initialState:Is,reducers:{removeQueryResult:{reducer:function(E,S){var C=S.payload.queryCacheKey;delete E[C]},prepare:rd()},queryResultPatched:function(E,S){var C=S.payload,I=C.queryCacheKey,b=C.patches;Ea(E,I,function(T){T.data=Sv(T.data,b.concat())})}},extraReducers:function(E){E.addCase(n.pending,function(S,C){var I=C.meta,b=C.meta.arg,T,O,R=Uf(b);(b.subscribe||R)&&((O=S[T=b.queryCacheKey])!=null||(S[T]={status:ye.uninitialized,endpointName:b.endpointName})),Ea(S,b.queryCacheKey,function(N){N.status=ye.pending,N.requestId=R&&N.requestId?N.requestId:I.requestId,b.originalArgs!==void 0&&(N.originalArgs=b.originalArgs),N.startedTimeStamp=I.startedTimeStamp})}).addCase(n.fulfilled,function(S,C){var I=C.meta,b=C.payload;Ea(S,I.arg.queryCacheKey,function(T){var O;if(!(T.requestId!==I.requestId&&!Uf(I.arg))){var R=s[I.arg.endpointName].merge;if(T.status=ye.fulfilled,R)if(T.data!==void 0){var N=I.fulfilledTimeStamp,D=I.arg,L=I.baseQueryMeta,B=I.requestId,q=qo(T.data,function(A){return R(A,b,{arg:D.originalArgs,baseQueryMeta:L,fulfilledTimeStamp:N,requestId:B})});T.data=q}else T.data=b;else T.data=(O=s[I.arg.endpointName].structuralSharing)==null||O?tS(Yt(T.data)?wx(T.data):T.data,b):b;delete T.error,T.fulfilledTimeStamp=I.fulfilledTimeStamp}})}).addCase(n.rejected,function(S,C){var I=C.meta,b=I.condition,T=I.arg,O=I.requestId,R=C.error,N=C.payload;Ea(S,T.queryCacheKey,function(D){if(!b){if(D.requestId!==O)return;D.status=ye.rejected,D.error=N??R}})}).addMatcher(l,function(S,C){for(var I=a(C).queries,b=0,T=Object.entries(I);b<T.length;b++){var O=T[b],R=O[0],N=O[1];((N==null?void 0:N.status)===ye.fulfilled||(N==null?void 0:N.status)===ye.rejected)&&(S[R]=N)}})}}),h=Or({name:e+"/mutations",initialState:Is,reducers:{removeMutationResult:{reducer:function(E,S){var C=S.payload,I=xo(C);I in E&&delete E[I]},prepare:rd()}},extraReducers:function(E){E.addCase(r.pending,function(S,C){var I=C.meta,b=C.meta,T=b.requestId,O=b.arg,R=b.startedTimeStamp;O.track&&(S[xo(I)]={requestId:T,status:ye.pending,endpointName:O.endpointName,startedTimeStamp:R})}).addCase(r.fulfilled,function(S,C){var I=C.payload,b=C.meta;b.arg.track&&zv(S,b,function(T){T.requestId===b.requestId&&(T.status=ye.fulfilled,T.data=I,T.fulfilledTimeStamp=b.fulfilledTimeStamp)})}).addCase(r.rejected,function(S,C){var I=C.payload,b=C.error,T=C.meta;T.arg.track&&zv(S,T,function(O){O.requestId===T.requestId&&(O.status=ye.rejected,O.error=I??b)})}).addMatcher(l,function(S,C){for(var I=a(C).mutations,b=0,T=Object.entries(I);b<T.length;b++){var O=T[b],R=O[0],N=O[1];((N==null?void 0:N.status)===ye.fulfilled||(N==null?void 0:N.status)===ye.rejected)&&R!==(N==null?void 0:N.requestId)&&(S[R]=N)}})}}),v=Or({name:e+"/invalidation",initialState:Is,reducers:{},extraReducers:function(E){E.addCase(f.actions.removeQueryResult,function(S,C){for(var I=C.payload.queryCacheKey,b=0,T=Object.values(S);b<T.length;b++)for(var O=T[b],R=0,N=Object.values(O);R<N.length;R++){var D=N[R],L=D.indexOf(I);L!==-1&&D.splice(L,1)}}).addMatcher(l,function(S,C){for(var I,b,T,O,R=a(C).provided,N=0,D=Object.entries(R);N<D.length;N++)for(var L=D[N],B=L[0],q=L[1],A=0,x=Object.entries(q);A<x.length;A++)for(var k=x[A],$=k[0],M=k[1],z=(O=(b=(I=S[B])!=null?I:S[B]={})[T=$||"__internal_without_id"])!=null?O:b[T]=[],W=0,V=M;W<V.length;W++){var Q=V[W],X=z.includes(Q);X||z.push(Q)}}).addMatcher(cs(ai(n),rc(n)),function(S,C){for(var I,b,T,O,R=oS(C,"providesTags",s,u),N=C.meta.arg.queryCacheKey,D=0,L=Object.values(S);D<L.length;D++)for(var B=L[D],q=0,A=Object.values(B);q<A.length;q++){var x=A[q],k=x.indexOf(N);k!==-1&&x.splice(k,1)}for(var $=0,M=R;$<M.length;$++){var z=M[$],W=z.type,V=z.id,Q=(O=(b=(I=S[W])!=null?I:S[W]={})[T=V||"__internal_without_id"])!=null?O:b[T]=[],X=Q.includes(N);X||Q.push(N)}})}}),y=Or({name:e+"/subscriptions",initialState:Is,reducers:{updateSubscriptionOptions:function(E,S){},unsubscribeQueryResult:function(E,S){},internal_probeSubscription:function(E,S){}}}),w=Or({name:e+"/internalSubscriptions",initialState:Is,reducers:{subscriptionsUpdated:{reducer:function(E,S){return Sv(E,S.payload)},prepare:rd()}}}),g=Or({name:e+"/config",initialState:be({online:wO(),focused:EO(),middlewareRegistered:!1},c),reducers:{middlewareRegistered:function(E,S){var C=S.payload;E.middlewareRegistered=E.middlewareRegistered==="conflict"||o!==C?"conflict":!0}},extraReducers:function(E){E.addCase(Vp,function(S){S.online=!0}).addCase(rS,function(S){S.online=!1}).addCase(Hp,function(S){S.focused=!0}).addCase(nS,function(S){S.focused=!1}).addMatcher(l,function(S){return be({},S)})}}),p=jp({queries:f.reducer,mutations:h.reducer,provided:v.reducer,subscriptions:w.reducer,config:g.reducer}),m=function(E,S){return p(d.match(S)?void 0:E,S)},_=tn(be(be(be(be(be({},g.actions),f.actions),y.actions),w.actions),h.actions),{unsubscribeMutationResult:h.actions.removeMutationResult,resetApiState:d});return{reducer:m,actions:_}}var Ur=Symbol.for("RTKQ/skipToken"),aS={status:ye.uninitialized},jv=qo(aS,function(){}),Bv=qo(aS,function(){});function NO(t){var e=t.serializeQueryArgs,n=t.reducerPath,r=function(c){return jv},i=function(c){return Bv};return{buildQuerySelector:a,buildMutationSelector:l,selectInvalidatedBy:u};function s(c){return be(be({},c),mO(c.status))}function o(c){var d=c[n];return d}function a(c,d){return function(f){var h=e({queryArgs:f,endpointDefinition:d,endpointName:c}),v=function(w){var g,p,m;return(m=(p=(g=o(w))==null?void 0:g.queries)==null?void 0:p[h])!=null?m:jv},y=f===Ur?r:v;return Ks(y,s)}}function l(){return function(c){var d,f;typeof c=="object"?f=(d=xo(c))!=null?d:Ur:f=c;var h=function(y){var w,g,p;return(p=(g=(w=o(y))==null?void 0:w.mutations)==null?void 0:g[f])!=null?p:Bv},v=f===Ur?i:h;return Ks(v,s)}}function u(c,d){for(var f,h=c[n],v=new Set,y=0,w=d.map(Ff);y<w.length;y++){var g=w[y],p=h.provided[g.type];if(p)for(var m=(f=g.id!==void 0?p[g.id]:Dv(Object.values(p)))!=null?f:[],_=0,E=m;_<E.length;_++){var S=E[_];v.add(S)}}return Dv(Array.from(v.values()).map(function(C){var I=h.queries[C];return I?[{queryCacheKey:C,endpointName:I.endpointName,originalArgs:I.originalArgs}]:[]}))}}var Sa=WeakMap?new WeakMap:void 0,Wv=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=Sa==null?void 0:Sa.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return _r(a)?Object.keys(a).sort().reduce(function(l,u){return l[u]=a[u],l},{}):a});_r(n)&&(Sa==null||Sa.set(n,s)),r=s}return e+"("+r+")"};function xO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var i=Df(function(c){var d,f;return(f=r.extractRehydrationInfo)==null?void 0:f.call(r,c,{reducerPath:(d=r.reducerPath)!=null?d:"api"})}),s=tn(be({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},r),{extractRehydrationInfo:i,serializeQueryArgs:function(c){var d=Wv;if("serializeQueryArgs"in c.endpointDefinition){var f=c.endpointDefinition.serializeQueryArgs;d=function(h){var v=f(h);return typeof v=="string"?v:Wv(tn(be({},h),{queryArgs:v}))}}else r.serializeQueryArgs&&(d=r.serializeQueryArgs);return d(c)},tagTypes:Ql([],r.tagTypes||[])}),o={endpointDefinitions:{},batch:function(c){c()},apiUid:JE(),extractRehydrationInfo:i,hasRehydrationInfo:Df(function(c){return i(c)!=null})},a={injectEndpoints:u,enhanceEndpoints:function(c){var d=c.addTagTypes,f=c.endpoints;if(d)for(var h=0,v=d;h<v.length;h++){var y=v[h];s.tagTypes.includes(y)||s.tagTypes.push(y)}if(f)for(var w=0,g=Object.entries(f);w<g.length;w++){var p=g[w],m=p[0],_=p[1];typeof _=="function"?_(o.endpointDefinitions[m]):Object.assign(o.endpointDefinitions[m]||{},_)}return a}},l=t.map(function(c){return c.init(a,s,o)});function u(c){for(var d=c.endpoints({query:function(_){return tn(be({},_),{type:ln.query})},mutation:function(_){return tn(be({},_),{type:ln.mutation})}}),f=0,h=Object.entries(d);f<h.length;f++){var v=h[f],y=v[0],w=v[1];if(!c.overrideExisting&&y in o.endpointDefinitions){typeof process<"u";continue}o.endpointDefinitions[y]=w;for(var g=0,p=l;g<p.length;g++){var m=p[g];m.injectEndpoint(y,w)}}return a}return a.injectEndpoints({endpoints:r.endpoints})}}function OO(t){for(var e in t)return!1;return!0}var AO=2147483647/1e3-1,DO=function(t){var e=t.reducerPath,n=t.api,r=t.context,i=t.internalState,s=n.internalActions,o=s.removeQueryResult,a=s.unsubscribeQueryResult;function l(f){var h=i.currentSubscriptions[f];return!!h&&!OO(h)}var u={},c=function(f,h,v){var y;if(a.match(f)){var w=h.getState()[e],g=f.payload.queryCacheKey;d(g,(y=w.queries[g])==null?void 0:y.endpointName,h,w.config)}if(n.util.resetApiState.match(f))for(var p=0,m=Object.entries(u);p<m.length;p++){var _=m[p],E=_[0],S=_[1];S&&clearTimeout(S),delete u[E]}if(r.hasRehydrationInfo(f))for(var w=h.getState()[e],C=r.extractRehydrationInfo(f).queries,I=0,b=Object.entries(C);I<b.length;I++){var T=b[I],g=T[0],O=T[1];d(g,O==null?void 0:O.endpointName,h,w.config)}};function d(f,h,v,y){var w,g=r.endpointDefinitions[h],p=(w=g==null?void 0:g.keepUnusedDataFor)!=null?w:y.keepUnusedDataFor;if(p!==1/0){var m=Math.max(0,Math.min(p,AO));if(!l(f)){var _=u[f];_&&clearTimeout(_),u[f]=setTimeout(function(){l(f)||v.dispatch(o({queryCacheKey:f})),delete u[f]},m*1e3)}}}return c},LO=function(t){var e=t.reducerPath,n=t.context,r=t.context.endpointDefinitions,i=t.mutationThunk,s=t.api,o=t.assertTagType,a=t.refetchQuery,l=s.internalActions.removeQueryResult,u=cs(ai(i),rc(i)),c=function(f,h){u(f)&&d(oS(f,"invalidatesTags",r,o),h),s.util.invalidateTags.match(f)&&d(sS(f.payload,void 0,void 0,void 0,void 0,o),h)};function d(f,h){var v=h.getState(),y=v[e],w=s.util.selectInvalidatedBy(v,f);n.batch(function(){for(var g,p=Array.from(w.values()),m=0,_=p;m<_.length;m++){var E=_[m].queryCacheKey,S=y.queries[E],C=(g=y.subscriptions[E])!=null?g:{};S&&(Object.keys(C).length===0?h.dispatch(l({queryCacheKey:E})):S.status!==ye.uninitialized&&h.dispatch(a(S,E)))}})}return c},MO=function(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.refetchQuery,s=t.internalState,o={},a=function(h,v){(r.internalActions.updateSubscriptionOptions.match(h)||r.internalActions.unsubscribeQueryResult.match(h))&&u(h.payload,v),(n.pending.match(h)||n.rejected.match(h)&&h.meta.condition)&&u(h.meta.arg,v),(n.fulfilled.match(h)||n.rejected.match(h)&&!h.meta.condition)&&l(h.meta.arg,v),r.util.resetApiState.match(h)&&d()};function l(h,v){var y=h.queryCacheKey,w=v.getState()[e],g=w.queries[y],p=s.currentSubscriptions[y];if(!(!g||g.status===ye.uninitialized)){var m=f(p);if(Number.isFinite(m)){var _=o[y];_!=null&&_.timeout&&(clearTimeout(_.timeout),_.timeout=void 0);var E=Date.now()+m,S=o[y]={nextPollTimestamp:E,pollingInterval:m,timeout:setTimeout(function(){S.timeout=void 0,v.dispatch(i(g,y))},m)}}}}function u(h,v){var y=h.queryCacheKey,w=v.getState()[e],g=w.queries[y],p=s.currentSubscriptions[y];if(!(!g||g.status===ye.uninitialized)){var m=f(p);if(!Number.isFinite(m)){c(y);return}var _=o[y],E=Date.now()+m;(!_||E<_.nextPollTimestamp)&&l({queryCacheKey:y},v)}}function c(h){var v=o[h];v!=null&&v.timeout&&clearTimeout(v.timeout),delete o[h]}function d(){for(var h=0,v=Object.keys(o);h<v.length;h++){var y=v[h];c(y)}}function f(h){h===void 0&&(h={});var v=Number.POSITIVE_INFINITY;for(var y in h)h[y].pollingInterval&&(v=Math.min(h[y].pollingInterval,v));return v}return a},FO=function(t){var e=t.reducerPath,n=t.context,r=t.api,i=t.refetchQuery,s=t.internalState,o=r.internalActions.removeQueryResult,a=function(u,c){Hp.match(u)&&l(c,"refetchOnFocus"),Vp.match(u)&&l(c,"refetchOnReconnect")};function l(u,c){var d=u.getState()[e],f=d.queries,h=s.currentSubscriptions;n.batch(function(){for(var v=0,y=Object.keys(h);v<y.length;v++){var w=y[v],g=f[w],p=h[w];if(!(!p||!g)){var m=Object.values(p).some(function(_){return _[c]===!0})||Object.values(p).every(function(_){return _[c]===void 0})&&d.config[c];m&&(Object.keys(p).length===0?u.dispatch(o({queryCacheKey:w})):g.status!==ye.uninitialized&&u.dispatch(i(g,w)))}}})}return a},Hv=new Error("Promise never resolved before cacheEntryRemoved."),UO=function(t){var e=t.api,n=t.reducerPath,r=t.context,i=t.queryThunk,s=t.mutationThunk;t.internalState;var o=Mf(i),a=Mf(s),l=ai(i,s),u={},c=function(h,v,y){var w=d(h);if(i.pending.match(h)){var g=y[n].queries[w],p=v.getState()[n].queries[w];!g&&p&&f(h.meta.arg.endpointName,h.meta.arg.originalArgs,w,v,h.meta.requestId)}else if(s.pending.match(h)){var p=v.getState()[n].mutations[w];p&&f(h.meta.arg.endpointName,h.meta.arg.originalArgs,w,v,h.meta.requestId)}else if(l(h)){var m=u[w];m!=null&&m.valueResolved&&(m.valueResolved({data:h.payload,meta:h.meta.baseQueryMeta}),delete m.valueResolved)}else if(e.internalActions.removeQueryResult.match(h)||e.internalActions.removeMutationResult.match(h)){var m=u[w];m&&(delete u[w],m.cacheEntryRemoved())}else if(e.util.resetApiState.match(h))for(var _=0,E=Object.entries(u);_<E.length;_++){var S=E[_],C=S[0],m=S[1];delete u[C],m.cacheEntryRemoved()}};function d(h){return o(h)?h.meta.arg.queryCacheKey:a(h)?h.meta.requestId:e.internalActions.removeQueryResult.match(h)?h.payload.queryCacheKey:e.internalActions.removeMutationResult.match(h)?xo(h.payload):""}function f(h,v,y,w,g){var p=r.endpointDefinitions[h],m=p==null?void 0:p.onCacheEntryAdded;if(m){var _={},E=new Promise(function(O){_.cacheEntryRemoved=O}),S=Promise.race([new Promise(function(O){_.valueResolved=O}),E.then(function(){throw Hv})]);S.catch(function(){}),u[y]=_;var C=e.endpoints[h].select(p.type===ln.query?v:y),I=w.dispatch(function(O,R,N){return N}),b=tn(be({},w),{getCacheEntry:function(){return C(w.getState())},requestId:g,extra:I,updateCachedData:p.type===ln.query?function(O){return w.dispatch(e.util.updateQueryData(h,v,O))}:void 0,cacheDataLoaded:S,cacheEntryRemoved:E}),T=m(v,b);Promise.resolve(T).catch(function(O){if(O!==Hv)throw O})}}return c},$O=function(t){var e=t.api,n=t.context,r=t.queryThunk,i=t.mutationThunk,s=Bp(r,i),o=Po(r,i),a=ai(r,i),l={},u=function(c,d){var f,h,v;if(s(c)){var y=c.meta,w=y.requestId,g=y.arg,p=g.endpointName,m=g.originalArgs,_=n.endpointDefinitions[p],E=_==null?void 0:_.onQueryStarted;if(E){var S={},C=new Promise(function(L,B){S.resolve=L,S.reject=B});C.catch(function(){}),l[w]=S;var I=e.endpoints[p].select(_.type===ln.query?m:w),b=d.dispatch(function(L,B,q){return q}),T=tn(be({},d),{getCacheEntry:function(){return I(d.getState())},requestId:w,extra:b,updateCachedData:_.type===ln.query?function(L){return d.dispatch(e.util.updateQueryData(p,m,L))}:void 0,queryFulfilled:C});E(m,T)}}else if(a(c)){var O=c.meta,w=O.requestId,R=O.baseQueryMeta;(f=l[w])==null||f.resolve({data:c.payload,meta:R}),delete l[w]}else if(o(c)){var N=c.meta,w=N.requestId,D=N.rejectedWithValue,R=N.baseQueryMeta;(v=l[w])==null||v.reject({error:(h=c.payload)!=null?h:c.error,isUnhandledError:!D,meta:R}),delete l[w]}};return u},zO=function(t){var e=t.api,n=t.context.apiUid,r=t.reducerPath;return function(i,s){var o,a;e.util.resetApiState.match(i)&&s.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"}},Vv,jO=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(t){return(Vv||(Vv=Promise.resolve())).then(t).catch(function(e){return setTimeout(function(){throw e},0)})},BO=function(t){var e=t.api,n=t.queryThunk,r=t.internalState,i=e.reducerPath+"/subscriptions",s=null,o=!1,a=e.internalActions,l=a.updateSubscriptionOptions,u=a.unsubscribeQueryResult,c=function(d,f){var h,v,y,w,g,p,m,_,E;if(l.match(f)){var S=f.payload,C=S.queryCacheKey,I=S.requestId,b=S.options;return(h=d==null?void 0:d[C])!=null&&h[I]&&(d[C][I]=b),!0}if(u.match(f)){var T=f.payload,C=T.queryCacheKey,I=T.requestId;return d[C]&&delete d[C][I],!0}if(e.internalActions.removeQueryResult.match(f))return delete d[f.payload.queryCacheKey],!0;if(n.pending.match(f)){var O=f.meta,R=O.arg,I=O.requestId;if(R.subscribe){var N=(y=d[v=R.queryCacheKey])!=null?y:d[v]={};return N[I]=(g=(w=R.subscriptionOptions)!=null?w:N[I])!=null?g:{},!0}}if(n.rejected.match(f)){var D=f.meta,L=D.condition,R=D.arg,I=D.requestId;if(L&&R.subscribe){var N=(m=d[p=R.queryCacheKey])!=null?m:d[p]={};return N[I]=(E=(_=R.subscriptionOptions)!=null?_:N[I])!=null?E:{},!0}}return!1};return function(d,f){var h,v;if(s||(s=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(d))return s=r.currentSubscriptions={},[!0,!1];if(e.internalActions.internal_probeSubscription.match(d)){var y=d.payload,w=y.queryCacheKey,g=y.requestId,p=!!((h=r.currentSubscriptions[w])!=null&&h[g]);return[!1,p]}var m=c(r.currentSubscriptions,d);if(m){o||(jO(function(){var C=JSON.parse(JSON.stringify(r.currentSubscriptions)),I=qE(s,function(){return C}),b=I[1];f.next(e.internalActions.subscriptionsUpdated(b)),s=C,o=!1}),o=!0);var _=!!((v=d.type)!=null&&v.startsWith(i)),E=n.rejected.match(d)&&d.meta.condition&&!!d.meta.arg.subscribe,S=!_&&!E;return[S,!1]}return[!0,!1]}};function WO(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.context,s=i.apiUid,o={invalidateTags:yt(e+"/invalidateTags")},a=function(d){return!!d&&typeof d.type=="string"&&d.type.startsWith(e+"/")},l=[zO,DO,LO,MO,UO,$O],u=function(d){var f=!1,h={currentSubscriptions:{}},v=tn(be({},t),{internalState:h,refetchQuery:c}),y=l.map(function(p){return p(v)}),w=BO(v),g=FO(v);return function(p){return function(m){f||(f=!0,d.dispatch(r.internalActions.middlewareRegistered(s)));var _=tn(be({},d),{next:p}),E=d.getState(),S=w(m,_,E),C=S[0],I=S[1],b;if(C?b=p(m):b=I,d.getState()[e]&&(g(m,_,E),a(m)||i.hasRehydrationInfo(m)))for(var T=0,O=y;T<O.length;T++){var R=O[T];R(m,_,E)}return b}}};return{middleware:u,actions:o};function c(d,f,h){return h===void 0&&(h={}),n(be({type:"query",endpointName:d.endpointName,originalArgs:d.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:f},h))}}function Ln(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,Ql([t],e))}var qv=Symbol(),HO=function(){return{name:qv,init:function(t,e,n){var r=e.baseQuery,i=e.tagTypes,s=e.reducerPath,o=e.serializeQueryArgs,a=e.keepUnusedDataFor,l=e.refetchOnMountOrArgChange,u=e.refetchOnFocus,c=e.refetchOnReconnect;Tx();var d=function(z){return typeof process<"u",z};Object.assign(t,{reducerPath:s,endpoints:{},internalActions:{onOnline:Vp,onOffline:rS,onFocus:Hp,onFocusLost:nS},util:{}});var f=RO({baseQuery:r,reducerPath:s,context:n,api:t,serializeQueryArgs:o}),h=f.queryThunk,v=f.mutationThunk,y=f.patchQueryData,w=f.updateQueryData,g=f.upsertQueryData,p=f.prefetch,m=f.buildMatchThunkActions,_=PO({context:n,queryThunk:h,mutationThunk:v,reducerPath:s,assertTagType:d,config:{refetchOnFocus:u,refetchOnReconnect:c,refetchOnMountOrArgChange:l,keepUnusedDataFor:a,reducerPath:s}}),E=_.reducer,S=_.actions;Ln(t.util,{patchQueryData:y,updateQueryData:w,upsertQueryData:g,prefetch:p,resetApiState:S.resetApiState}),Ln(t.internalActions,S);var C=WO({reducerPath:s,context:n,queryThunk:h,mutationThunk:v,api:t,assertTagType:d}),I=C.middleware,b=C.actions;Ln(t.util,b),Ln(t,{reducer:E,middleware:I});var T=NO({serializeQueryArgs:o,reducerPath:s}),O=T.buildQuerySelector,R=T.buildMutationSelector,N=T.selectInvalidatedBy;Ln(t.util,{selectInvalidatedBy:N});var D=bO({queryThunk:h,mutationThunk:v,api:t,serializeQueryArgs:o,context:n}),L=D.buildInitiateQuery,B=D.buildInitiateMutation,q=D.getRunningMutationThunk,A=D.getRunningMutationsThunk,x=D.getRunningQueriesThunk,k=D.getRunningQueryThunk,$=D.getRunningOperationPromises,M=D.removalWarning;return Ln(t.util,{getRunningOperationPromises:$,getRunningOperationPromise:M,getRunningMutationThunk:q,getRunningMutationsThunk:A,getRunningQueryThunk:k,getRunningQueriesThunk:x}),{name:qv,injectEndpoint:function(z,W){var V,Q,X=t;(Q=(V=X.endpoints)[z])!=null||(V[z]={}),iS(W)?Ln(X.endpoints[z],{name:z,select:O(z,W),initiate:L(z,W)},m(h,z)):TO(W)&&Ln(X.endpoints[z],{name:z,select:R(),initiate:B(z)},m(v,z))}}}}},VO=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},qO=Object.defineProperty,QO=Object.defineProperties,KO=Object.getOwnPropertyDescriptors,Qv=Object.getOwnPropertySymbols,GO=Object.prototype.hasOwnProperty,YO=Object.prototype.propertyIsEnumerable,Kv=function(t,e,n){return e in t?qO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},dn=function(t,e){for(var n in e||(e={}))GO.call(e,n)&&Kv(t,n,e[n]);if(Qv)for(var r=0,i=Qv(e);r<i.length;r++){var n=i[r];YO.call(e,n)&&Kv(t,n,e[n])}return t},ja=function(t,e){return QO(t,KO(e))};function Gv(t,e,n,r){var i=P.useMemo(function(){return{queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}},[t,e,n,r]),s=P.useRef(i);return P.useEffect(function(){s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}var sd=Symbol();function od(t){var e=P.useRef(t);return P.useEffect(function(){wl(e.current,t)||(e.current=t)},[t]),wl(e.current,t)?e.current:t}var Ca=WeakMap?new WeakMap:void 0,JO=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=Ca==null?void 0:Ca.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return _r(a)?Object.keys(a).sort().reduce(function(l,u){return l[u]=a[u],l},{}):a});_r(n)&&(Ca==null||Ca.set(n,s)),r=s}return e+"("+r+")"},XO=typeof window<"u"&&window.document&&window.document.createElement?P.useLayoutEffect:P.useEffect,ZO=function(t){return t},eA=function(t){return t.isUninitialized?ja(dn({},t),{isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:ye.pending}):t};function tA(t){var e=t.api,n=t.moduleOptions,r=n.batch,i=n.useDispatch,s=n.useSelector,o=n.useStore,a=n.unstable__sideEffectsInRender,l=t.serializeQueryArgs,u=t.context,c=a?function(y){return y()}:P.useEffect;return{buildQueryHooks:h,buildMutationHook:v,usePrefetch:f};function d(y,w,g){if(w!=null&&w.endpointName&&y.isUninitialized){var p=w.endpointName,m=u.endpointDefinitions[p];l({queryArgs:w.originalArgs,endpointDefinition:m,endpointName:p})===l({queryArgs:g,endpointDefinition:m,endpointName:p})&&(w=void 0)}var _=y.isSuccess?y.data:w==null?void 0:w.data;_===void 0&&(_=y.data);var E=_!==void 0,S=y.isLoading,C=!E&&S,I=y.isSuccess||S&&E;return ja(dn({},y),{data:_,currentData:y.data,isFetching:S,isLoading:C,isSuccess:I})}function f(y,w){var g=i(),p=od(w);return P.useCallback(function(m,_){return g(e.util.prefetch(y,m,dn(dn({},p),_)))},[y,g,p])}function h(y){var w=function(m,_){var E=_===void 0?{}:_,S=E.refetchOnReconnect,C=E.refetchOnFocus,I=E.refetchOnMountOrArgChange,b=E.skip,T=b===void 0?!1:b,O=E.pollingInterval,R=O===void 0?0:O,N=e.endpoints[y].initiate,D=i(),L=Gv(T?Ur:m,JO,u.endpointDefinitions[y],y),B=od({refetchOnReconnect:S,refetchOnFocus:C,pollingInterval:R}),q=P.useRef(!1),A=P.useRef(),x=A.current||{},k=x.queryCacheKey,$=x.requestId,M=!1;if(k&&$){var z=D(e.internalActions.internal_probeSubscription({queryCacheKey:k,requestId:$}));M=!!z}var W=!M&&q.current;return c(function(){q.current=M}),c(function(){W&&(A.current=void 0)},[W]),c(function(){var V,Q=A.current;if(typeof process<"u",L===Ur){Q==null||Q.unsubscribe(),A.current=void 0;return}var X=(V=A.current)==null?void 0:V.subscriptionOptions;if(!Q||Q.arg!==L){Q==null||Q.unsubscribe();var He=D(N(L,{subscriptionOptions:B,forceRefetch:I}));A.current=He}else B!==X&&Q.updateSubscriptionOptions(B)},[D,N,I,L,B,W]),P.useEffect(function(){return function(){var V;(V=A.current)==null||V.unsubscribe(),A.current=void 0}},[]),P.useMemo(function(){return{refetch:function(){var V;if(!A.current)throw new Error("Cannot refetch a query that has not been started yet.");return(V=A.current)==null?void 0:V.refetch()}}},[])},g=function(m){var _=m===void 0?{}:m,E=_.refetchOnReconnect,S=_.refetchOnFocus,C=_.pollingInterval,I=C===void 0?0:C,b=e.endpoints[y].initiate,T=i(),O=P.useState(sd),R=O[0],N=O[1],D=P.useRef(),L=od({refetchOnReconnect:E,refetchOnFocus:S,pollingInterval:I});c(function(){var A,x,k=(A=D.current)==null?void 0:A.subscriptionOptions;L!==k&&((x=D.current)==null||x.updateSubscriptionOptions(L))},[L]);var B=P.useRef(L);c(function(){B.current=L},[L]);var q=P.useCallback(function(A,x){x===void 0&&(x=!1);var k;return r(function(){var $;($=D.current)==null||$.unsubscribe(),D.current=k=T(b(A,{subscriptionOptions:B.current,forceRefetch:!x})),N(A)}),k},[T,b]);return P.useEffect(function(){return function(){var A;(A=D==null?void 0:D.current)==null||A.unsubscribe()}},[]),P.useEffect(function(){R!==sd&&!D.current&&q(R,!0)},[R,q]),P.useMemo(function(){return[q,R]},[q,R])},p=function(m,_){var E=_===void 0?{}:_,S=E.skip,C=S===void 0?!1:S,I=E.selectFromResult,b=e.endpoints[y].select,T=Gv(C?Ur:m,l,u.endpointDefinitions[y],y),O=P.useRef(),R=P.useMemo(function(){return Ks([b(T),function(q,A){return A},function(q){return T}],d)},[b,T]),N=P.useMemo(function(){return I?Ks([R],I):R},[R,I]),D=s(function(q){return N(q,O.current)},wl),L=o(),B=R(L.getState(),O.current);return XO(function(){O.current=B},[B]),D};return{useQueryState:p,useQuerySubscription:w,useLazyQuerySubscription:g,useLazyQuery:function(m){var _=g(m),E=_[0],S=_[1],C=p(S,ja(dn({},m),{skip:S===sd})),I=P.useMemo(function(){return{lastArg:S}},[S]);return P.useMemo(function(){return[E,C,I]},[E,C,I])},useQuery:function(m,_){var E=w(m,_),S=p(m,dn({selectFromResult:m===Ur||_!=null&&_.skip?void 0:eA},_)),C=S.data,I=S.status,b=S.isLoading,T=S.isSuccess,O=S.isError,R=S.error;return P.useDebugValue({data:C,status:I,isLoading:b,isSuccess:T,isError:O,error:R}),P.useMemo(function(){return dn(dn({},S),E)},[S,E])}}}function v(y){return function(w){var g=w===void 0?{}:w,p=g.selectFromResult,m=p===void 0?ZO:p,_=g.fixedCacheKey,E=e.endpoints[y],S=E.select,C=E.initiate,I=i(),b=P.useState(),T=b[0],O=b[1];P.useEffect(function(){return function(){T!=null&&T.arg.fixedCacheKey||T==null||T.reset()}},[T]);var R=P.useCallback(function(Q){var X=I(C(Q,{fixedCacheKey:_}));return O(X),X},[I,C,_]),N=(T||{}).requestId,D=P.useMemo(function(){return Ks([S({fixedCacheKey:_,requestId:T==null?void 0:T.requestId})],m)},[S,T,m,_]),L=s(D,wl),B=_==null?T==null?void 0:T.arg.originalArgs:void 0,q=P.useCallback(function(){r(function(){T&&O(void 0),_&&I(e.internalActions.removeMutationResult({requestId:N,fixedCacheKey:_}))})},[I,_,T,N]),A=L.endpointName,x=L.data,k=L.status,$=L.isLoading,M=L.isSuccess,z=L.isError,W=L.error;P.useDebugValue({endpointName:A,data:x,status:k,isLoading:$,isSuccess:M,isError:z,error:W});var V=P.useMemo(function(){return ja(dn({},L),{originalArgs:B,reset:q})},[L,B,q]);return P.useMemo(function(){return[R,V]},[R,V])}}}var Yl;(function(t){t.query="query",t.mutation="mutation"})(Yl||(Yl={}));function nA(t){return t.type===Yl.query}function rA(t){return t.type===Yl.mutation}function ad(t){return t.replace(t[0],t[0].toUpperCase())}function Ia(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,VO([t],e))}var iA=Symbol(),sA=function(t){var e=t===void 0?{}:t,n=e.batch,r=n===void 0?Mh.unstable_batchedUpdates:n,i=e.useDispatch,s=i===void 0?qh:i,o=e.useSelector,a=o===void 0?Kr:o,l=e.useStore,u=l===void 0?sw:l,c=e.unstable__sideEffectsInRender,d=c===void 0?!1:c;return{name:iA,init:function(f,h,v){var y=h.serializeQueryArgs,w=f,g=tA({api:f,moduleOptions:{batch:r,useDispatch:s,useSelector:a,useStore:u,unstable__sideEffectsInRender:d},serializeQueryArgs:y,context:v}),p=g.buildQueryHooks,m=g.buildMutationHook,_=g.usePrefetch;return Ia(w,{usePrefetch:_}),Ia(v,{batch:r}),{injectEndpoint:function(E,S){if(nA(S)){var C=p(E),I=C.useQuery,b=C.useLazyQuery,T=C.useLazyQuerySubscription,O=C.useQueryState,R=C.useQuerySubscription;Ia(w.endpoints[E],{useQuery:I,useLazyQuery:b,useLazyQuerySubscription:T,useQueryState:O,useQuerySubscription:R}),f["use"+ad(E)+"Query"]=I,f["useLazy"+ad(E)+"Query"]=b}else if(rA(S)){var N=m(E);Ia(w.endpoints[E],{useMutation:N}),f["use"+ad(E)+"Mutation"]=N}}}}}},oA=xO(HO(),sA());const Jl=oA({reducerPath:"genres",baseQuery:IO({baseUrl:"https://api.themoviedb.org/3/genre/movie/list?api_key=54ca32600b8d3533c486c2b7fe8c8efb"}),tagTypes:["Genre"],endpoints:t=>({getGenres:t.query({query:()=>"",providesTags:["Genre"]})})}),{useGetGenresQuery:aA}=Jl,lA="_GalleryContainer_dmeu0_1",uA="_ItemContainer_dmeu0_11",Yv={GalleryContainer:lA,ItemContainer:uA},lS=({movies:t})=>{const{data:e}=aA(),n=(e==null?void 0:e.genres)??[];return j.jsx("ul",{className:Yv.GalleryContainer,children:t.map(r=>j.jsx("div",{className:Yv.ItemContainer,children:j.jsx(_x,{movies:t,allGenres:n,genres:r.genres,backdrop_path:r.backdrop_path,id:r.id,title:r.title,genre_ids:r.genre_ids,release_date:r.release_date})},r.id))})};var uS={exports:{}};(function(t,e){(function(n,r){t.exports=r(P)})(sC,n=>(()=>{var r={703:(a,l,u)=>{var c=u(414);function d(){}function f(){}f.resetWarningCache=d,a.exports=function(){function h(w,g,p,m,_,E){if(E!==c){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}function v(){return h}h.isRequired=h;var y={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:v,element:h,elementType:h,instanceOf:v,node:h,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:f,resetWarningCache:d};return y.PropTypes=y,y}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,s),u.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{default:()=>O});var a=s(98),l=s.n(a),u=s(697),c=s.n(u);function d(){return d=Object.assign?Object.assign.bind():function(R){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(R[L]=D[L])}return R},d.apply(this,arguments)}var f=function(R){var N=R.pageClassName,D=R.pageLinkClassName,L=R.page,B=R.selected,q=R.activeClassName,A=R.activeLinkClassName,x=R.getEventListener,k=R.pageSelectedHandler,$=R.href,M=R.extraAriaContext,z=R.pageLabelBuilder,W=R.rel,V=R.ariaLabel||"Page "+L+(M?" "+M:""),Q=null;return B&&(Q="page",V=R.ariaLabel||"Page "+L+" is your current page",N=N!==void 0?N+" "+q:q,D!==void 0?A!==void 0&&(D=D+" "+A):D=A),l().createElement("li",{className:N},l().createElement("a",d({rel:W,role:$?void 0:"button",className:D,href:$,tabIndex:B?"-1":"0","aria-label":V,"aria-current":Q,onKeyPress:k},x(k)),z(L)))};f.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const h=f;function v(){return v=Object.assign?Object.assign.bind():function(R){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(R[L]=D[L])}return R},v.apply(this,arguments)}var y=function(R){var N=R.breakLabel,D=R.breakAriaLabel,L=R.breakClassName,B=R.breakLinkClassName,q=R.breakHandler,A=R.getEventListener,x=L||"break";return l().createElement("li",{className:x},l().createElement("a",v({className:B,role:"button",tabIndex:"0","aria-label":D,onKeyPress:q},A(q)),N))};y.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const w=y;function g(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return R??N}function p(R){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},p(R)}function m(){return m=Object.assign?Object.assign.bind():function(R){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(R[L]=D[L])}return R},m.apply(this,arguments)}function _(R,N){for(var D=0;D<N.length;D++){var L=N[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}function E(R,N){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,L){return D.__proto__=L,D},E(R,N)}function S(R,N){if(N&&(p(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(R)}function C(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function I(R){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},I(R)}function b(R,N,D){return N in R?Object.defineProperty(R,N,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[N]=D,R}var T=function(R){(function(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),k&&E(x,k)})(A,R);var N,D,L,B,q=(L=A,B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,k=I(L);if(B){var $=I(this).constructor;x=Reflect.construct(k,arguments,$)}else x=k.apply(this,arguments);return S(this,x)});function A(x){var k,$;return function(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}(this,A),b(C(k=q.call(this,x)),"handlePreviousPage",function(M){var z=k.state.selected;k.handleClick(M,null,z>0?z-1:void 0,{isPrevious:!0})}),b(C(k),"handleNextPage",function(M){var z=k.state.selected,W=k.props.pageCount;k.handleClick(M,null,z<W-1?z+1:void 0,{isNext:!0})}),b(C(k),"handlePageSelected",function(M,z){if(k.state.selected===M)return k.callActiveCallback(M),void k.handleClick(z,null,void 0,{isActive:!0});k.handleClick(z,null,M)}),b(C(k),"handlePageChange",function(M){k.state.selected!==M&&(k.setState({selected:M}),k.callCallback(M))}),b(C(k),"getEventListener",function(M){return b({},k.props.eventListener,M)}),b(C(k),"handleClick",function(M,z,W){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Q=V.isPrevious,X=Q!==void 0&&Q,He=V.isNext,wt=He!==void 0&&He,Pe=V.isBreak,Ie=Pe!==void 0&&Pe,ee=V.isActive,Ve=ee!==void 0&&ee;M.preventDefault?M.preventDefault():M.returnValue=!1;var Pt=k.state.selected,ve=k.props.onClick,Je=W;if(ve){var Fe=ve({index:z,selected:Pt,nextSelectedPage:W,event:M,isPrevious:X,isNext:wt,isBreak:Ie,isActive:Ve});if(Fe===!1)return;Number.isInteger(Fe)&&(Je=Fe)}Je!==void 0&&k.handlePageChange(Je)}),b(C(k),"handleBreakClick",function(M,z){var W=k.state.selected;k.handleClick(z,M,W<M?k.getForwardJump():k.getBackwardJump(),{isBreak:!0})}),b(C(k),"callCallback",function(M){k.props.onPageChange!==void 0&&typeof k.props.onPageChange=="function"&&k.props.onPageChange({selected:M})}),b(C(k),"callActiveCallback",function(M){k.props.onPageActive!==void 0&&typeof k.props.onPageActive=="function"&&k.props.onPageActive({selected:M})}),b(C(k),"getElementPageRel",function(M){var z=k.state.selected,W=k.props,V=W.nextPageRel,Q=W.prevPageRel,X=W.selectedPageRel;return z-1===M?Q:z===M?X:z+1===M?V:void 0}),b(C(k),"pagination",function(){var M=[],z=k.props,W=z.pageRangeDisplayed,V=z.pageCount,Q=z.marginPagesDisplayed,X=z.breakLabel,He=z.breakClassName,wt=z.breakLinkClassName,Pe=z.breakAriaLabels,Ie=k.state.selected;if(V<=W)for(var ee=0;ee<V;ee++)M.push(k.getPageElement(ee));else{var Ve=W/2,Pt=W-Ve;Ie>V-W/2?Ve=W-(Pt=V-Ie):Ie<W/2&&(Pt=W-(Ve=Ie));var ve,Je,Fe=function(Oe){return k.getPageElement(Oe)},we=[];for(ve=0;ve<V;ve++){var An=ve+1;if(An<=Q)we.push({type:"page",index:ve,display:Fe(ve)});else if(An>V-Q)we.push({type:"page",index:ve,display:Fe(ve)});else if(ve>=Ie-Ve&&ve<=Ie+(Ie===0&&W>1?Pt-1:Pt))we.push({type:"page",index:ve,display:Fe(ve)});else if(X&&we.length>0&&we[we.length-1].display!==Je&&(W>0||Q>0)){var li=ve<Ie?Pe.backward:Pe.forward;Je=l().createElement(w,{key:ve,breakAriaLabel:li,breakLabel:X,breakClassName:He,breakLinkClassName:wt,breakHandler:k.handleBreakClick.bind(null,ve),getEventListener:k.getEventListener}),we.push({type:"break",index:ve,display:Je})}}we.forEach(function(Oe,Ae){var Xo=Oe;Oe.type==="break"&&we[Ae-1]&&we[Ae-1].type==="page"&&we[Ae+1]&&we[Ae+1].type==="page"&&we[Ae+1].index-we[Ae-1].index<=2&&(Xo={type:"page",index:Oe.index,display:Fe(Oe.index)}),M.push(Xo.display)})}return M}),x.initialPage!==void 0&&x.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(x.initialPage,") and forcePage (").concat(x.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),$=x.initialPage?x.initialPage:x.forcePage?x.forcePage:0,k.state={selected:$},k}return N=A,(D=[{key:"componentDidMount",value:function(){var x=this.props,k=x.initialPage,$=x.disableInitialCallback,M=x.extraAriaContext,z=x.pageCount,W=x.forcePage;k===void 0||$||this.callCallback(k),M&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(z)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(z,"). Did you forget a Math.ceil()?")),k!==void 0&&k>z-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(k," > ").concat(z-1,").")),W!==void 0&&W>z-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(W," > ").concat(z-1,")."))}},{key:"componentDidUpdate",value:function(x){this.props.forcePage!==void 0&&this.props.forcePage!==x.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(x.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var x=this.state.selected,k=this.props,$=k.pageCount,M=x+k.pageRangeDisplayed;return M>=$?$-1:M}},{key:"getBackwardJump",value:function(){var x=this.state.selected-this.props.pageRangeDisplayed;return x<0?0:x}},{key:"getElementHref",value:function(x){var k=this.props,$=k.hrefBuilder,M=k.pageCount,z=k.hrefAllControls;if($)return z||x>=0&&x<M?$(x+1,M,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(x){var k=x===this.state.selected;if(this.props.ariaLabelBuilder&&x>=0&&x<this.props.pageCount){var $=this.props.ariaLabelBuilder(x+1,k);return this.props.extraAriaContext&&!k&&($=$+" "+this.props.extraAriaContext),$}}},{key:"getPageElement",value:function(x){var k=this.state.selected,$=this.props,M=$.pageClassName,z=$.pageLinkClassName,W=$.activeClassName,V=$.activeLinkClassName,Q=$.extraAriaContext,X=$.pageLabelBuilder;return l().createElement(h,{key:x,pageSelectedHandler:this.handlePageSelected.bind(null,x),selected:k===x,rel:this.getElementPageRel(x),pageClassName:M,pageLinkClassName:z,activeClassName:W,activeLinkClassName:V,extraAriaContext:Q,href:this.getElementHref(x),ariaLabel:this.ariaLabelBuilder(x),page:x+1,pageLabelBuilder:X,getEventListener:this.getEventListener})}},{key:"render",value:function(){var x=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&x!==void 0)return x&&x(this.props);var k=this.props,$=k.disabledClassName,M=k.disabledLinkClassName,z=k.pageCount,W=k.className,V=k.containerClassName,Q=k.previousLabel,X=k.previousClassName,He=k.previousLinkClassName,wt=k.previousAriaLabel,Pe=k.prevRel,Ie=k.nextLabel,ee=k.nextClassName,Ve=k.nextLinkClassName,Pt=k.nextAriaLabel,ve=k.nextRel,Je=this.state.selected,Fe=Je===0,we=Je===z-1,An="".concat(g(X)).concat(Fe?" ".concat(g($)):""),li="".concat(g(ee)).concat(we?" ".concat(g($)):""),Oe="".concat(g(He)).concat(Fe?" ".concat(g(M)):""),Ae="".concat(g(Ve)).concat(we?" ".concat(g(M)):""),Xo=Fe?"true":"false",iC=we?"true":"false";return l().createElement("ul",{className:W||V,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:An},l().createElement("a",m({className:Oe,href:this.getElementHref(Je-1),tabIndex:Fe?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Xo,"aria-label":wt,rel:Pe},this.getEventListener(this.handlePreviousPage)),Q)),this.pagination(),l().createElement("li",{className:li},l().createElement("a",m({className:Ae,href:this.getElementHref(Je+1),tabIndex:we?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":iC,"aria-label":Pt,rel:ve},this.getEventListener(this.handleNextPage)),Ie)))}}])&&_(N.prototype,D),Object.defineProperty(N,"prototype",{writable:!1}),A}(a.Component);b(T,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),b(T,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(R){return R},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const O=T})(),o})())})(uS);var cA=uS.exports;const dA=wy(cA),fA="_Pagination_1f11z_1",hA="_PageNum_1f11z_23",pA="_Active_1f11z_47",mA="_GalleryContainer_1f11z_57",di={Pagination:fA,PageNum:hA,Active:pA,GalleryContainer:mA};function gA({data:t,total:e,clickHandler:n,location:r,initialPage:i}){const s=e,o=a=>{n(a.selected+1)};return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:di.GalleryContainer,children:j.jsx(lS,{movies:t,location:r})}),j.jsx(dA,{breakLabel:"...",nextLabel:">",onPageChange:o,pageRangeDisplayed:4,pageCount:s,previousLabel:"<",containerClassName:di.Pagination,pageLinkClassName:di.PageNum,previousLinkClassName:di.PageNum,nextLinkClassName:di.PageNum,activeLinkClassName:di.Active,initialPage:i})]})}const vA="_SectionTitle_exbe0_1",yA="_Section_exbe0_1",_A="_SectionHead_exbe0_17",wA="_DetailPageContainer_exbe0_29",EA="_BtnContainer_exbe0_47",SA="_Btn_exbe0_47",CA="_InfoContainer_exbe0_81",IA="_List_exbe0_93",TA="_ListItem_exbe0_119",kA="_Title_exbe0_127",bA="_ItemInfo_exbe0_139",RA="_FailMessage_exbe0_163",PA="_SearchGanresContainer_exbe0_175",NA="_UnauthorizeMessage_exbe0_197",xA="_Plug_exbe0_215",OA={SectionTitle:vA,Section:yA,SectionHead:_A,DetailPageContainer:wA,BtnContainer:EA,Btn:SA,InfoContainer:CA,List:IA,ListItem:TA,Title:kA,ItemInfo:bA,Date:"_Date_exbe0_153",FailMessage:RA,SearchGanresContainer:PA,UnauthorizeMessage:NA,Plug:xA},AA=()=>{const t=Kr(p=>p.user.isLoggedIn),e=Kr(p=>p.user.uid),[n,r]=P.useState([]),i=Dp(),s=Cr(),[o,a]=xT({page:1}),[l,u]=P.useState(0),c=o.get("page"),d=Number(c)-1,f=12,h=l+f,v=n.slice(l,h),y=Math.ceil(n.length/f);P.useEffect(()=>{if(!t)return;const p=Ua(i,"collections/"+e),m=FE(p,_=>{const E=_.val(),S=Object.values(E);r(S)});return()=>{m()}},[i,t,e]);const w=p=>{a({page:p})},g=p=>{const m=(p-1)*f%n.length;u(m),w(p)};return j.jsxs(j.Fragment,{children:[!t&&j.jsx("p",{className:OA.UnauthorizeMessage,children:"You should authorize to use this functionality"}),t&&n.length<=12&&j.jsx(lS,{movies:n}),t&&n.length>12&&j.jsx(gA,{itemsPerPage:f,data:v,total:y,clickHandler:g,location:s,initialPage:d,showPagination:!1})]})};var cS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jv=ne.createContext&&ne.createContext(cS),dr=globalThis&&globalThis.__assign||function(){return dr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dr.apply(this,arguments)},DA=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function dS(t){return t&&t.map(function(e,n){return ne.createElement(e.tag,dr({key:n},e.attr),dS(e.child))})}function LA(t){return function(e){return ne.createElement(MA,dr({attr:dr({},t.attr)},e),dS(t.child))}}function MA(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=DA(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ne.createElement("svg",dr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:dr(dr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ne.createElement("title",null,s),t.children)};return Jv!==void 0?ne.createElement(Jv.Consumer,null,function(n){return e(n)}):e(cS)}function FA(t){return LA({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"}}]})(t)}function qp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UA=fS,hS=new zo("auth","Firebase",fS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new Jh("@firebase/auth");function $A(t,...e){Xl.logLevel<=ae.WARN&&Xl.warn(`Auth (${os}): ${t}`,...e)}function Ba(t,...e){Xl.logLevel<=ae.ERROR&&Xl.error(`Auth (${os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,...e){throw Qp(t,...e)}function on(t,...e){return Qp(t,...e)}function pS(t,e,n){const r=Object.assign(Object.assign({},UA()),{[e]:n});return new zo("auth","Firebase",r).create(e,{appName:t.name})}function zA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&un(t,"argument-error"),pS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hS.create(t,...e)}function G(t,e,...n){if(!t)throw Qp(e,...n)}function yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ba(e),new Error(e)}function Rn(t,e){t||yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jA(){return Xv()==="http:"||Xv()==="https:"}function Xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jA()||Nk()||"connection"in navigator)?navigator.onLine:!0}function WA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rn(n>e,"Short delay should be less than long delay!"),this.isMobile=Gh()||hw()}get(){return BA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t,e){Rn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new Ko(3e4,6e4);function gS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,i={}){return vS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ss(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),mS.fetch()(yS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function vS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HA),e);try{const i=new QA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ta(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ta(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ta(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ta(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pS(t,c,u);un(t,c)}}catch(i){if(i instanceof Ir)throw i;un(t,"network-request-failed",{message:String(i)})}}async function qA(t,e,n,r,i={}){const s=await Go(t,e,n,r,i);return"mfaPendingCredential"in s&&un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Kp(t.config,i):`${t.config.apiScheme}://${i}`}class QA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),VA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ta(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=on(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function GA(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YA(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),i=Gp(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ys(ld(i.auth_time)),issuedAtTime:Ys(ld(i.iat)),expirationTime:Ys(ld(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ld(t){return Number(t)*1e3}function Gp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ba("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sl(n);return i?JSON.parse(i):(Ba("Failed to decode base64 JWT payload"),null)}catch(i){return Ba("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JA(t){const e=Gp(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&XA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ys(this.lastLoginAt),this.creationTime=Ys(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Oo(t,GA(n,{idToken:r}));G(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nD(s.providerUserInfo):[],a=tD(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _S(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function eD(t){const e=Ut(t);await Zl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nD(t){return t.map(e=>{var{providerId:n}=e,r=qp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){const n=await vS(t,{},async()=>{const r=ss({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await rD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ao;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _S(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YA(this,e)}reload(){return eD(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Oo(this,KA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:m,emailVerified:_,isAnonymous:E,providerData:S,stsTokenManager:C}=n;G(m&&C,e,"internal-error");const I=Ao.fromJSON(this.name,C);G(typeof m=="string",e,"internal-error"),Mn(d,e.name),Mn(f,e.name),G(typeof _=="boolean",e,"internal-error"),G(typeof E=="boolean",e,"internal-error"),Mn(h,e.name),Mn(v,e.name),Mn(y,e.name),Mn(w,e.name),Mn(g,e.name),Mn(p,e.name);const b=new Br({uid:m,auth:e,email:f,emailVerified:_,displayName:d,isAnonymous:E,photoURL:v,phoneNumber:h,tenantId:y,stsTokenManager:I,createdAt:g,lastLoginAt:p});return S&&Array.isArray(S)&&(b.providerData=S.map(T=>Object.assign({},T))),w&&(b._redirectEventId=w),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ao;i.updateFromServerResponse(n);const s=new Br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zl(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function _n(t){Rn(t instanceof Function,"Expected a class definition");let e=Zv.get(t);return e?(Rn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wS.type="NONE";const ey=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t,e,n){return`firebase:${t}:${e}:${n}`}class Fi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wa(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wa("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fi(_n(ey),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_n(ey);const o=Wa(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Br._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fi(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ES(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TS(e))return"Blackberry";if(kS(e))return"Webos";if(Yp(e))return"Safari";if((e.includes("chrome/")||SS(e))&&!e.includes("edge/"))return"Chrome";if(IS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ES(t=it()){return/firefox\//i.test(t)}function Yp(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SS(t=it()){return/crios\//i.test(t)}function CS(t=it()){return/iemobile/i.test(t)}function IS(t=it()){return/android/i.test(t)}function TS(t=it()){return/blackberry/i.test(t)}function kS(t=it()){return/webos/i.test(t)}function ic(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iD(t=it()){var e;return ic(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sD(){return xk()&&document.documentMode===10}function bS(t=it()){return ic(t)||IS(t)||kS(t)||TS(t)||/windows phone/i.test(t)||CS(t)}function oD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e=[]){let n;switch(t){case"Browser":n=ty(it());break;case"Worker":n=`${ty(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${os}/${r}`}async function PS(t,e){return Go(t,"GET","/v2/recaptchaConfig",gS(t,e))}function ny(t){return t!==void 0&&t.enterprise!==void 0}class NS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function xS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=on("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aD().appendChild(r)})}function lD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const uD="https://www.google.com/recaptcha/enterprise.js?render=",cD="recaptcha-enterprise",dD="NO_RECAPTCHA";class fD{constructor(e){this.type=cD,this.auth=ds(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{PS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new NS(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ny(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(dD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ny(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}xS(uD+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ry(this),this.idTokenSubscription=new ry(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_n(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ut(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_n(e))})}async initializeRecaptchaConfig(){const e=await PS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new NS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new fD(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_n(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Fi.create(this,[_n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return G(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$A(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ds(t){return Ut(t)}class ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=zk(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e){const n=Zh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Il(s,e??{}))return i;un(i,"already-initialized")}return n.initialize({options:e})}function gD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vD(t,e,n){const r=ds(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=OS(e),{host:o,port:a}=yD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_D()}function OS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yD(t){const e=OS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iy(o)}}}function iy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _D(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yn("not implemented")}_getIdTokenResponse(e){return yn("not implemented")}_linkToIdToken(e,n){return yn("not implemented")}_getReauthenticationResolver(e){return yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ui(t,e){return qA(t,"POST","/v1/accounts:signInWithIdp",gS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="http://localhost";class ni extends AS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=qp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ni(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ui(e,n)}buildRequest(){const e={requestUri:wD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ss(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Jp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Yo{constructor(){super("facebook.com")}static credential(e){return ni._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wn.credential(e.oauthAccessToken)}catch{return null}}}Wn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ni._fromParams({providerId:pn.PROVIDER_ID,signInMethod:pn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pn.credentialFromTaggedObject(e)}static credentialFromError(e){return pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pn.credential(n,r)}catch{return null}}}pn.GOOGLE_SIGN_IN_METHOD="google.com";pn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends Yo{constructor(){super("github.com")}static credential(e){return ni._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com";Hn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Yo{constructor(){super("twitter.com")}static credential(e,n){return ni._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vn.credential(n,r)}catch{return null}}}Vn.TWITTER_SIGN_IN_METHOD="twitter.com";Vn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Br._fromIdTokenResponse(e,r,i),o=sy(r);return new Zi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sy(r);return new Zi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Ir{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,eu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new eu(e,n,r,i)}}function DS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eu._fromErrorAndOperation(t,s,e,r):s})}async function ED(t,e,n=!1){const r=await Oo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Oo(t,DS(r,i,e,t),n);G(s.idToken,r,"internal-error");const o=Gp(s.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),Zi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e,n=!1){const r="signIn",i=await DS(t,r,e),s=await Zi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function ID(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function TD(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function kD(t){return Ut(t).signOut()}const tu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tu,"1"),this.storage.removeItem(tu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){const t=it();return Yp(t)||ic(t)}const RD=1e3,PD=10;class MS extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bD()&&oD(),this.fallbackToPolling=bS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);sD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MS.type="LOCAL";const ND=MS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FS.type="SESSION";const US=FS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await xD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Xp("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function AD(t){an().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function DD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MD(){return $S()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebaseLocalStorageDb",FD=1,nu="firebaseLocalStorage",jS="fbase_key";class Jo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oc(t,e){return t.transaction([nu],e?"readwrite":"readonly").objectStore(nu)}function UD(){const t=indexedDB.deleteDatabase(zS);return new Jo(t).toPromise()}function zf(){const t=indexedDB.open(zS,FD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nu,{keyPath:jS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nu)?e(r):(r.close(),await UD(),e(await zf()))})})}async function oy(t,e,n){const r=oc(t,!0).put({[jS]:e,value:n});return new Jo(r).toPromise()}async function $D(t,e){const n=oc(t,!1).get(e),r=await new Jo(n).toPromise();return r===void 0?null:r.value}function ay(t,e){const n=oc(t,!0).delete(e);return new Jo(n).toPromise()}const zD=800,jD=3;class BS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $S()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sc._getInstance(MD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DD(),!this.activeServiceWorker)return;this.sender=new OD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zf();return await oy(e,tu,"1"),await ay(e,tu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$D(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ay(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=oc(i,!1).getAll();return new Jo(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BS.type="LOCAL";const BD=BS;new Ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){return e?_n(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends AS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WD(t){return CD(t.auth,new Zp(t),t.bypassAuthState)}function HD(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),SD(n,new Zp(t),t.bypassAuthState)}async function VD(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),ED(n,new Zp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WD;case"linkViaPopup":case"linkViaRedirect":return VD;case"reauthViaPopup":case"reauthViaRedirect":return HD;default:un(this.auth,"internal-error")}}resolve(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Ko(2e3,1e4);class Ti extends HS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ti.currentPopupAction&&Ti.currentPopupAction.cancel(),Ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){Rn(this.filter.length===1,"Popup operations only handle one event");const e=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qD.get())};e()}}Ti.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="pendingRedirect",Ha=new Map;class KD extends HS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ha.get(this.auth._key());if(!e){try{const r=await GD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ha.set(this.auth._key(),e)}return this.bypassAuthState||Ha.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GD(t,e){const n=qS(e),r=VS(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function YD(t,e){return VS(t)._set(qS(e),"true")}function JD(t,e){Ha.set(t._key(),e)}function VS(t){return _n(t._redirectPersistence)}function qS(t){return Wa(QD,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e,n){return ZD(t,e,n)}async function ZD(t,e,n){const r=ds(t);zA(t,e,Jp),await r._initializationPromise;const i=WS(r,n);return await YD(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function eL(t,e){return await ds(t)._initializationPromise,QS(t,e,!1)}async function QS(t,e,n=!1){const r=ds(t),i=WS(r,e),o=await new KD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=10*60*1e3;class nL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(on(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tL&&this.cachedEventUids.clear(),this.cachedEventUids.has(ly(e))}saveEventToCache(e){this.cachedEventUids.add(ly(e)),this.lastProcessedEventTime=Date.now()}}function ly(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oL=/^https?/;async function aL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iL(t);for(const n of e)try{if(lL(n))return}catch{}un(t,"unauthorized-domain")}function lL(t){const e=$f(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oL.test(n))return!1;if(sL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new Ko(3e4,6e4);function uy(){const t=an().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cL(t){return new Promise((e,n)=>{var r,i,s;function o(){uy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uy(),n(on(t,"network-request-failed"))},timeout:uL.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=an().gapi)===null||s===void 0)&&s.load)o();else{const a=lD("iframefcb");return an()[a]=()=>{gapi.load?o():n(on(t,"network-request-failed"))},xS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Va=null,e})}let Va=null;function dL(t){return Va=Va||cL(t),Va}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new Ko(5e3,15e3),hL="__/auth/iframe",pL="emulator/auth/iframe",mL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kp(e,pL):`https://${t.config.authDomain}/${hL}`,r={apiKey:e.apiKey,appName:t.name,v:os},i=gL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ss(r).slice(1)}`}async function yL(t){const e=await dL(t),n=an().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:vL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=on(t,"network-request-failed"),a=an().setTimeout(()=>{s(o)},fL.get());function l(){an().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wL=500,EL=600,SL="_blank",CL="http://localhost";class cy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IL(t,e,n,r=wL,i=EL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_L),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(a=SS(u)?SL:n),ES(u)&&(e=e||CL,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,v])=>`${f}${h}=${v},`,"");if(iD(u)&&a!=="_self")return TL(e||"",a),new cy(null);const d=window.open(e||"",a,c);G(d,t,"popup-blocked");try{d.focus()}catch{}return new cy(d)}function TL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="__/auth/handler",bL="emulator/auth/handler",RL=encodeURIComponent("fac");async function dy(t,e,n,r,i,s){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:os,eventId:i};if(e instanceof Jp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Yo){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${RL}=${encodeURIComponent(l)}`:"";return`${PL(t)}?${ss(a).slice(1)}${u}`}function PL({config:t}){return t.emulator?Kp(t,bL):`https://${t.authDomain}/${kL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="webStorageSupport";class NL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=US,this._completeRedirectFn=QS,this._overrideRedirectResult=JD}async _openPopup(e,n,r,i){var s;Rn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dy(e,n,r,$f(),i);return IL(e,o,Xp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dy(e,n,r,$f(),i);return AD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yL(e),r=new nL(e);return n.register("authEvent",i=>(G(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ud,{type:ud},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ud];o!==void 0&&n(!!o),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bS()||Yp()||ic()}}const xL=NL;var fy="@firebase/auth",hy="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function DL(t){Ki(new Gr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(t)},u=new pD(r,i,s,l);return gD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ki(new Gr("auth-internal",e=>{const n=ds(e.getProvider("auth").getImmediate());return(r=>new OL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(fy,hy,AL(t)),ar(fy,hy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=5*60,ML=fw("authIdTokenMaxAge")||LL;let py=null;const FL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ML)return;const i=n==null?void 0:n.token;py!==i&&(py=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GS(t=_w()){const e=Zh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mD(t,{popupRedirectResolver:xL,persistence:[BD,ND,US]}),r=fw("authTokenSyncURL");if(r){const s=FL(r);TD(n,s,()=>s(n.currentUser)),ID(n,o=>s(o))}const i=cw("auth");return i&&vD(n,`http://${i}`),n}DL("Browser");var UL="firebase",$L="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(UL,$L,"app");const zL="AIzaSyCdJfzvI8eoe8_vuLp_xGO9dkDfJtXxslI",jL={apiKey:zL,authDomain:"movieprjauth.firebaseapp.com",projectId:"movieprjauth",storageBucket:"movieprjauth.appspot.com",messagingSenderId:"207972865784",appId:"1:207972865784:web:11da772ad79fc9d1c38d0d",databaseURL:"https://movieprjauth-default-rtdb.europe-west1.firebasedatabase.app/"},YS=yw(jL),my=new pn;Dp(YS);const JS=Or({name:"user",initialState:{login:"",uid:"",isLoggedIn:!1},reducers:{logIn(t,e){t.login=e.payload.login,t.uid=e.payload.uid,t.isLoggedIn=!0},logOut(t){t.login="",t.uid="",t.isLoggedIn=!1}}}),{logIn:BL,logOut:WL}=JS.actions,HL="_UserMenuContainer_12qwm_1",VL="_UserName_12qwm_13",qL="_EnterBtn_12qwm_23",cd={UserMenuContainer:HL,UserName:VL,EnterBtn:qL},QL=()=>{const t=qh(),e=Kr(r=>r.user.login);function n(){const r=GS();kD(r).then(()=>{t(WL())}).catch(i=>{console.log(i)})}return j.jsxs("div",{className:cd.UserMenuContainer,children:[j.jsx("p",{className:cd.UserName,children:e}),j.jsx("button",{type:"button",onClick:n,className:cd.EnterBtn,children:"Log out"})]})},KL="_Enter_o0q1y_1",GL="_EnterBtn_o0q1y_13",gy={Enter:KL,EnterBtn:GL},YL=()=>{const t=Kr(i=>i.user.isLoggedIn),e=GS(YS),n=qh();P.useEffect(()=>e.onAuthStateChanged(s=>{if(s!==null)return n(BL({login:s.displayName,uid:s.uid}))}),[e,n]);function r(){my.setCustomParameters({prompt:"select_account"}),XD(e,my),eL(e).then(i=>{}).catch(i=>{console.log(i.message)})}return j.jsxs("div",{className:gy.Enter,children:[!t&&j.jsx("button",{className:gy.EnterBtn,onClick:r,children:"Log In with Google"}),t&&j.jsx(QL,{})]})},JL="_Header_3bqyw_1",XL="_NavItem_3bqyw_43",ZL="_Footer_3bqyw_83",eM="_FooterContent_3bqyw_105",Tr={Header:JL,NavItem:XL,Footer:ZL,FooterContent:eM},tM=()=>j.jsxs(j.Fragment,{children:[j.jsxs("header",{className:Tr.Header,children:[j.jsxs("nav",{children:[j.jsx(ga,{to:"/",className:Tr.NavItem,children:"Home"}),j.jsx(ga,{to:"/more",className:Tr.NavItem,children:"MORE MOVIES"}),j.jsx(ga,{to:"/movies",className:Tr.NavItem,children:"Search"}),j.jsx(ga,{to:"/collection",className:Tr.NavItem,children:"My collection"})]}),j.jsx(YL,{})]}),j.jsx("main",{children:j.jsx(P.Suspense,{fallback:j.jsx("div",{children:"Loading..."}),children:j.jsx(_T,{})})}),j.jsx("footer",{className:Tr.Footer,children:j.jsxs("p",{className:Tr.FooterContent,children:["2023 | All rights reserved |"," ",j.jsxs("a",{href:"https://github.com/yuliaosnova",target:"_blank",rel:"noreferrer noopener",children:[j.jsx(FA,{})," "]})]})}),j.jsx(Pf,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]}),vy=P.lazy(()=>_u(()=>import("./HomePage-6d0d4949.js"),["assets/HomePage-6d0d4949.js","assets/api-32c7f2a8.js","assets/HomePage-8f7857ff.css"])),nM=P.lazy(()=>_u(()=>import("./SearchPage-2cb64d60.js"),["assets/SearchPage-2cb64d60.js","assets/api-32c7f2a8.js","assets/SearchPage-7cbab53b.css"])),rM=P.lazy(()=>_u(()=>import("./MoreMoviesPage-a1d491c0.js"),["assets/MoreMoviesPage-a1d491c0.js","assets/api-32c7f2a8.js","assets/MoreMoviesPage-7e24908c.css"])),iM=P.lazy(()=>_u(()=>import("./MovieDetailsPage-6190c6b0.js"),["assets/MovieDetailsPage-6190c6b0.js","assets/api-32c7f2a8.js","assets/MovieDetailsPage-0859a332.css"])),sM=()=>j.jsx(j.Fragment,{children:j.jsx(ET,{children:j.jsxs(Fn,{path:"/",element:j.jsx(tM,{}),children:[j.jsx(Fn,{index:!0,element:j.jsx(vy,{})}),j.jsx(Fn,{path:"movies",element:j.jsx(nM,{})}),j.jsx(Fn,{path:"more",element:j.jsx(rM,{})}),j.jsx(Fn,{path:"movies/:movieId",element:j.jsx(iM,{})}),j.jsx(Fn,{path:"collection",element:j.jsx(AA,{})}),j.jsx(Fn,{path:"*",element:j.jsx(vy,{})})]})})});var XS="persist/FLUSH",em="persist/REHYDRATE",ZS="persist/PAUSE",eC="persist/PERSIST",tC="persist/PURGE",tm="persist/REGISTER";function yy(t){return lM(t)||aM(t)||oM()}function oM(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function aM(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function lM(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_y(n,!0).forEach(function(r){uM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_y(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nC={registry:[],bootstrapped:!1},cM=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nC,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case tm:return jf({},e,{registry:[].concat(yy(e.registry),[n.key])});case em:var r=e.registry.indexOf(n.key),i=yy(e.registry);return i.splice(r,1),jf({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function dM(t,e,n){var r=n||!1,i=zp(cM,nC,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:tm,key:u})},o=function(u,c,d){var f={type:em,payload:c,err:d,key:u};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=jf({},i,{purge:function(){var u=[];return t.dispatch({type:tC,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:XS,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:ZS})},persist:function(){t.dispatch({type:eC,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var nm={},rm={};rm.__esModule=!0;rm.default=pM;function qa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(n){return typeof n}:qa=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qa(t)}function dd(){}var fM={getItem:dd,setItem:dd,removeItem:dd};function hM(t){if((typeof self>"u"?"undefined":qa(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function pM(t){var e="".concat(t,"Storage");return hM(e)?self[e]:fM}nm.__esModule=!0;nm.default=vM;var mM=gM(rm);function gM(t){return t&&t.__esModule?t:{default:t}}function vM(t){var e=(0,mM.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var yM=_M(nm);function _M(t){return t&&t.__esModule?t:{default:t}}(0,yM.default)("local");const wM=jp({[Jl.reducerPath]:Jl.reducer,user:JS.reducer}),rC=nO({reducer:wM,middleware:t=>[...t({serializableCheck:{ignoredActions:[XS,em,ZS,eC,tC,tm]}}),Jl.middleware]});dM(rC);fd.createRoot(document.getElementById("root")).render(j.jsx(ne.StrictMode,{children:j.jsx(bT,{basename:"/",children:j.jsx(yk,{store:rC,children:j.jsx(sM,{})})})}));export{lS as G,V0 as L,_x as M,gA as P,ce as Q,wy as a,OA as b,sC as c,Cr as d,xT as e,CM as f,EM as g,cx as h,LA as i,j,SM as k,Kr as l,Dp as m,Ua as n,FE as o,fv as p,P as r,dx as s,aA as u};
